<!DOCTYPE html>
<html>
<head>
  <title>Solana (base64) transaction deserializer</title>
  <script src="./dist/bundle.js"></script>
</head>
<body>
  <h1>Solana base64 transaction deserializer</h1>
  
    <textarea type="text" id="messageInput" placeholder="Enter base64 transaction or tx signature here" rows="15" cols="100"></textarea>
    <br/>
    <input list="clusters" name="clusterInput" id="clusterInput"
        placeholder="https://api.devnet.solana.com" size="40"
        onclick="document.getElementById('clusterInput').value=''"
    >
    <datalist id="clusters">
        <option value="https://api.devnet.solana.com">
        <option value="https://api.mainnet-beta.solana.com">
        <option value="https://mainnet.helius-rpc.com/?api-key=d5e3e601-06cd-4b44-b98e-e579bef20d6e">
        <option value="https://api.testnet.solana.com">
    </datalist>
    <br/>
    <button id="submitButton" onclick="handleDisplayMessage()">Show deserialized format</button>
  
    <hr/>
    <p id="messageOutput"></p>
  
    <script>
      if (document.readyState === "complete" || document.readyState === "interactive") {
        console.debug('DOM is ready')
        scriptNamespace.loadWindowState(document);
      } else {
        console.debug('Adding DOM ready listener')
        document.addEventListener("DOMContentLoaded", (() => scriptNamespace.loadWindowState(document)));
      }

      async function handleDisplayMessage() {
        scriptNamespace.handleWindowState(document);
        await scriptNamespace.deserializeTransaction(document);
      }
    </script>

  <footer style="position:fixed; bottom:0; height:auto; margin-top:40px; width:100%; text-align:center; font-size: 80%;">
    <p style="text-align: right; margin-right: 30px;">Tested with Chrome 119, thanks to <a href="https://github.com/solana-labs/oyster/tree/main/packages/governance-sdk">SPL Governance SDK</a>
    and <a href="https://github.com/debridge-finance/solana-tx-parser-public">Debridge finance SDK</a>
    and <a href="https://github.com/solana-fm/explorer-kit">SolanaFM ExplorerKit</a>
  </footer>
</body>
</html>