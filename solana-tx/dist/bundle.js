/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={1350:(t,n,r)=>{"use strict";r.r(n),r.d(n,{SolanaParser:()=>$l,compiledInstructionToInstruction:()=>Ll,flattenTransactionResponse:()=>zl,hexToBuffer:()=>Nl,parseLogs:()=>Dl,parseTransactionAccounts:()=>Ul,parsedInstructionToInstruction:()=>Vl});var i=r(5858),o=r(3140),s=r(5898),a=r.t(s,2);const c=BigInt(0),u=BigInt(1),l=BigInt(2),f=BigInt(8),h=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),d=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:h,n:h,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),p=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),y=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),g=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),m=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),b=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),w=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class v{constructor(t,e,n,r){this.x=t,this.y=e,this.z=n,this.t=r}static fromAffine(t){if(!(t instanceof I))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(I.ZERO)?v.ZERO:new v(t.x,t.y,u,V(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=d.P){const n=new Array(t.length),r=z(t.reduce(((t,r,i)=>r===c?t:(n[i]=t,V(t*r,e))),u),e);return t.reduceRight(((t,r,i)=>r===c?t:(n[i]=V(t*n[i],e),V(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){S(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=V(e*s),c=V(i*r),u=V(n*s),l=V(o*r);return a===c&&u===l}negate(){return new v(V(-this.x),this.y,this.z,V(-this.t))}double(){const{x:t,y:e,z:n}=this,{a:r}=d,i=V(t*t),o=V(e*e),s=V(l*V(n*n)),a=V(r*i),c=t+e,u=V(V(c*c)-i-o),f=a+o,h=f-s,p=a-o,y=V(u*h),g=V(f*p),m=V(u*p),b=V(h*f);return new v(y,g,b,m)}add(t){S(t);const{x:e,y:n,z:r,t:i}=this,{x:o,y:s,z:a,t:u}=t,f=V((n-e)*(s+o)),h=V((n+e)*(s-o)),d=V(h-f);if(d===c)return this.double();const p=V(r*l*u),y=V(i*l*a),g=y+p,m=h+f,b=y-p,w=V(g*d),k=V(m*b),_=V(g*b),A=V(d*m);return new v(w,k,A,_)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(v.BASE)&&(e=I.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&x.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=v.normalizeZ(r),x.set(e,r)));let i=v.ZERO,o=v.BASE;const s=1+256/n,a=2**(n-1),c=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=f,s>a&&(s-=l,t+=u);const h=n,d=n+Math.abs(s)-1,p=e%2!=0,y=s<0;0===s?o=o.add(k(p,r[h])):i=i.add(k(y,r[d]))}return v.normalizeZ([i,o])[0]}multiply(t,e){return this.wNAF(K(t,d.l),e)}multiplyUnsafe(t){let e=K(t,d.l,!1);const n=v.BASE,r=v.ZERO;if(e===c)return r;if(this.equals(r)||e===u)return this;if(this.equals(n))return this.wNAF(e);let i=r,o=this;for(;e>c;)e&u&&(i=i.add(o)),o=o.double(),e>>=u;return i}isSmallOrder(){return this.multiplyUnsafe(d.h).equals(v.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(d.l/l).double();return d.l%l&&(t=t.add(this)),t.equals(v.ZERO)}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(v.ZERO);null==t&&(t=i?f:z(r));const o=V(e*t),s=V(n*t),a=V(r*t);if(i)return I.ZERO;if(a!==u)throw new Error("invZ was invalid");return new I(o,s)}fromRistrettoBytes(){A()}toRistrettoBytes(){A()}fromRistrettoHash(){A()}}function k(t,e){const n=e.negate();return t?n:e}function S(t){if(!(t instanceof v))throw new TypeError("ExtendedPoint expected")}function _(t){if(!(t instanceof E))throw new TypeError("RistrettoPoint expected")}function A(){throw new Error("Legacy method: switch to RistrettoPoint")}v.BASE=new v(d.Gx,d.Gy,u,V(d.Gx*d.Gy)),v.ZERO=new v(c,u,u,c);class E{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=d,n=V(y*t*t),r=V((n+u)*b);let i=BigInt(-1);const o=V((i-e*n)*V(n+e));let{isValid:s,value:a}=D(r,o),c=V(a*t);N(c)||(c=V(-c)),s||(a=c),s||(i=n);const l=V(i*(n-u)*w-o),f=a*a,h=V((a+a)*o),p=V(l*g),m=V(u-f),k=V(u+f);return new v(V(h*k),V(m*p),V(p*k),V(h*m))}static hashToCurve(t){const e=j((t=q(t,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(e),r=j(t.slice(32,64)),i=this.calcElligatorRistrettoMap(r);return new E(n.add(i))}static fromHex(t){t=q(t,32);const{a:e,d:n}=d,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=j(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(M(i),t)||N(i))throw new Error(r);const o=V(i*i),s=V(u+e*o),a=V(u-e*o),l=V(s*s),f=V(a*a),h=V(e*n*l-f),{isValid:p,value:y}=G(V(h*f)),g=V(y*a),m=V(y*g*h);let b=V((i+i)*g);N(b)&&(b=V(-b));const w=V(s*m),k=V(b*w);if(!p||N(k)||w===c)throw new Error(r);return new E(new v(b,w,u,k))}toRawBytes(){let{x:t,y:e,z:n,t:r}=this.ep;const i=V(V(n+e)*V(n-e)),o=V(t*e),s=V(o*o),{value:a}=G(V(i*s)),c=V(a*i),u=V(a*o),l=V(c*u*r);let f;if(N(r*l)){let n=V(e*y),r=V(t*y);t=n,e=r,f=V(c*m)}else f=u;N(t*l)&&(e=V(-e));let h=V((n-e)*f);return N(h)&&(h=V(-h)),M(h)}toHex(){return P(this.toRawBytes())}toString(){return this.toHex()}equals(t){_(t);const e=this.ep,n=t.ep,r=V(e.x*n.y)===V(e.y*n.x),i=V(e.y*n.y)===V(e.x*n.x);return r||i}add(t){return _(t),new E(this.ep.add(t.ep))}subtract(t){return _(t),new E(this.ep.subtract(t.ep))}multiply(t){return new E(this.ep.multiply(t))}multiplyUnsafe(t){return new E(this.ep.multiplyUnsafe(t))}}E.BASE=new E(v.BASE),E.ZERO=new E(v.ZERO);const x=new WeakMap;class I{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,x.delete(this)}static fromHex(t,e=!0){const{d:n,P:r}=d,i=(t=q(t,32)).slice();i[31]=-129&t[31];const o=U(i);if(e&&o>=r)throw new Error("Expected 0 < hex < P");if(!e&&o>=p)throw new Error("Expected 0 < hex < 2**256");const s=V(o*o),a=V(s-u),c=V(n*s+u);let{isValid:l,value:f}=D(a,c);if(!l)throw new Error("Point.fromHex: invalid y coordinate");const h=(f&u)===u;return 0!=(128&t[31])!==h&&(f=V(-f)),new I(f,o)}static async fromPrivateKey(t){return(await X(t)).point}toRawBytes(){const t=M(this.y);return t[31]|=this.x&u?128:0,t}toHex(){return P(this.toRawBytes())}toX25519(){const{y:t}=this;return M(V((u+t)*z(u-t)))}isTorsionFree(){return v.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new I(V(-this.x),this.y)}add(t){return v.fromAffine(this).add(v.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return v.fromAffine(this).multiply(t,this).toAffine()}}I.BASE=new I(d.Gx,d.Gy),I.ZERO=new I(c,u);class R{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=q(t,64),n=I.fromHex(e.slice(0,32),!1),r=U(e.slice(32,64));return new R(n,r)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof I))throw new Error("Expected Point instance");return K(e,d.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(M(this.s),32),t}toHex(){return P(this.toRawBytes())}}function O(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}const T=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function P(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=T[t[n]];return e}function B(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function C(t){return B(t.toString(16).padStart(64,"0"))}function M(t){return C(t).reverse()}function N(t){return(V(t)&u)===u}function U(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+P(Uint8Array.from(t).reverse()))}const L=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function j(t){return V(U(t)&L)}function V(t,e=d.P){const n=t%e;return n>=c?n:e+n}function z(t,e=d.P){if(t===c||e<=c)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=V(t,e),r=e,i=c,o=u,s=u,a=c;for(;n!==c;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==u)throw new Error("invert: does not exist");return V(i,e)}function W(t,e){const{P:n}=d;let r=t;for(;e-- >c;)r*=r,r%=n;return r}function D(t,e){const n=V(e*e*e),r=V(n*n*e);let i=V(t*n*function(t){const{P:e}=d,n=BigInt(5),r=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=t*t%e*t%e,c=W(a,l)*a%e,f=W(c,u)*t%e,h=W(f,n)*f%e,p=W(h,r)*h%e,y=W(p,i)*p%e,g=W(y,o)*y%e,m=W(g,s)*g%e,b=W(m,s)*g%e,w=W(b,r)*h%e;return{pow_p_5_8:W(w,l)*t%e,b2:a}}(t*r).pow_p_5_8);const o=V(e*i*i),s=i,a=V(i*y),c=o===t,f=o===V(-t),h=o===V(-t*y);return c&&(i=s),(f||h)&&(i=a),N(i)&&(i=V(-i)),{isValid:c||f,value:i}}function G(t){return D(u,t)}function F(t){return V(U(t),d.l)}function q(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):B(t);if("number"==typeof e&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function K(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(n){if(c<t)return t}else if(c<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function $(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?C(K(t,p)):q(t)).length)throw new Error("Expected 32 bytes");return t}function H(t){const e=((s=t.slice(0,32))[0]&=248,s[31]&=127,s[31]|=64,s),n=t.slice(32,64),r=F(e),i=I.BASE.multiply(r),o=i.toRawBytes();var s;return{head:e,prefix:n,scalar:r,point:i,pointBytes:o}}let Z;function J(...t){if("function"!=typeof Z)throw new Error("utils.sha512Sync must be set to use sync methods");return Z(...t)}async function X(t){return H(await rt.sha512($(t)))}function Y(t){return H(J($(t)))}const Q=function(t){return Y(t).pointBytes},tt=function(t,e){t=q(t);const{prefix:n,scalar:r,pointBytes:i}=Y(e),o=F(J(n,t)),s=I.BASE.multiply(o),a=V(o+F(J(s.toRawBytes(),i,t))*r,d.l);return new R(s,a).toRawBytes()},et=function(t,e,n){const{r,SB:i,msg:o,pub:s}=function(t,e,n){e=q(e),n instanceof I||(n=I.fromHex(n,!1));const{r,s:i}=t instanceof R?t.assertValidity():R.fromHex(t);return{r,s:i,SB:v.BASE.multiplyUnsafe(i),pub:n,msg:e}}(t,e,n),a=J(r.toRawBytes(),s.toRawBytes(),o);return function(t,e,n,r){const i=F(r),o=v.fromAffine(t).multiplyUnsafe(i);return v.fromAffine(e).add(o).subtract(n).multiplyUnsafe(d.h).equals(v.ZERO)}(s,r,i,a)};I.BASE._setWindowSize(8);const nt={node:a,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},rt={bytesToHex:P,hexToBytes:B,concatBytes:O,getExtendedPublicKey:X,mod:V,invert:z,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=q(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return V(U(t),d.l-u)+u},randomBytes:(t=32)=>{if(nt.web)return nt.web.getRandomValues(new Uint8Array(t));if(nt.node){const{randomBytes:e}=nt.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>rt.randomBytes(32),sha512:async(...t)=>{const e=O(...t);if(nt.web){const t=await nt.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(nt.node)return Uint8Array.from(nt.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=I.BASE){const n=e.equals(I.BASE)?e:new I(e.x,e.y);return n._setWindowSize(t),n.multiply(l),n},sha512Sync:void 0};Object.defineProperties(rt,{sha512Sync:{configurable:!1,get:()=>Z,set(t){Z||(Z=t)}}});var it=r(9098),ot=r.n(it),st=r(1511),at=r.n(st),ct=r(3274),ut=r(8797),lt=r(4380),ft=r(3477),ht=r(2856),dt=(r(4319),r(7167),r(2196)),pt=r(7276),yt=r(4087),gt=r.t(yt,2);const mt=BigInt(0),bt=BigInt(1),vt=BigInt(2),kt=BigInt(3),_t=BigInt(8),At=Object.freeze({a:mt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:bt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Et=(t,e)=>(t+e/vt)/e,xt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=At,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Et(o*t,e),c=Et(-r*t,e);let u=te(t-a*n-c*i,e),l=te(-a*r-c*o,e);const f=u>s,h=l>s;if(f&&(u=e-u),h&&(l=e-l),u>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:l}}},It=32,Rt=32,Ot=It+1,Tt=2*It+1;function Pt(t){const{a:e,b:n}=At,r=te(t*t),i=te(r*t);return te(i+e*t+n)}const Bt=At.a===mt;class Ct extends Error{constructor(t){super(t)}}function Mt(t){if(!(t instanceof Nt))throw new TypeError("JacobianPoint expected")}class Nt{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof jt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(jt.ZERO)?Nt.ZERO:new Nt(t.x,t.y,bt)}static toAffineBatch(t){const e=function(t,e=At.P){const n=new Array(t.length),r=ne(t.reduce(((t,r,i)=>r===mt?t:(n[i]=t,te(t*r,e))),bt),e);return t.reduceRight(((t,r,i)=>r===mt?t:(n[i]=te(t*n[i],e),te(t*r,e))),r),n}(t.map((t=>t.z)));return t.map(((t,n)=>t.toAffine(e[n])))}static normalizeZ(t){return Nt.toAffineBatch(t).map(Nt.fromAffine)}equals(t){Mt(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=te(r*r),c=te(s*s),u=te(e*c),l=te(i*a),f=te(te(n*s)*c),h=te(te(o*r)*a);return u===l&&f===h}negate(){return new Nt(this.x,te(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,r=te(t*t),i=te(e*e),o=te(i*i),s=t+i,a=te(vt*(te(s*s)-r-o)),c=te(kt*r),u=te(c*c),l=te(u-vt*a),f=te(c*(a-l)-_t*o),h=te(vt*e*n);return new Nt(l,f,h)}add(t){Mt(t);const{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t;if(i===mt||o===mt)return this;if(e===mt||n===mt)return t;const a=te(r*r),c=te(s*s),u=te(e*c),l=te(i*a),f=te(te(n*s)*c),h=te(te(o*r)*a),d=te(l-u),p=te(h-f);if(d===mt)return p===mt?this.double():Nt.ZERO;const y=te(d*d),g=te(d*y),m=te(u*y),b=te(p*p-g-vt*m),w=te(p*(m-b)-f*g),v=te(r*s*d);return new Nt(b,w,v)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=Nt.ZERO;if("bigint"==typeof t&&t===mt)return e;let n=Qt(t);if(n===bt)return this;if(!Bt){let t=e,r=this;for(;n>mt;)n&bt&&(t=t.add(r)),r=r.double(),n>>=bt;return t}let{k1neg:r,k1:i,k2neg:o,k2:s}=xt.splitScalar(n),a=e,c=e,u=this;for(;i>mt||s>mt;)i&bt&&(a=a.add(u)),s&bt&&(c=c.add(u)),u=u.double(),i>>=bt,s>>=bt;return r&&(a=a.negate()),o&&(c=c.negate()),c=new Nt(te(c.x*xt.beta),c.y,c.z),a.add(c)}precomputeWindow(t){const e=Bt?128/t+1:256/t+1,n=[];let r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(Nt.BASE)&&(e=jt.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&Lt.get(e);r||(r=this.precomputeWindow(n),e&&1!==n&&(r=Nt.normalizeZ(r),Lt.set(e,r)));let i=Nt.ZERO,o=Nt.BASE;const s=1+(Bt?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let s=Number(t&c);t>>=l,s>a&&(s-=u,t+=bt);const f=n,h=n+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?o=o.add(Ut(d,r[f])):i=i.add(Ut(p,r[h]))}return{p:i,f:o}}multiply(t,e){let n,r,i=Qt(t);if(Bt){const{k1neg:t,k1:o,k2neg:s,k2:a}=xt.splitScalar(i);let{p:c,f:u}=this.wNAF(o,e),{p:l,f}=this.wNAF(a,e);c=Ut(t,c),l=Ut(s,l),l=new Nt(te(l.x*xt.beta),l.y,l.z),n=c.add(l),r=u.add(f)}else{const{p:t,f:o}=this.wNAF(i,e);n=t,r=o}return Nt.normalizeZ([n,r])[0]}toAffine(t){const{x:e,y:n,z:r}=this,i=this.equals(Nt.ZERO);null==t&&(t=i?_t:ne(r));const o=t,s=te(o*o),a=te(s*o),c=te(e*s),u=te(n*a),l=te(r*o);if(i)return jt.ZERO;if(l!==bt)throw new Error("invZ was invalid");return new jt(c,u)}}function Ut(t,e){const n=e.negate();return t?n:e}Nt.BASE=new Nt(At.Gx,At.Gy,bt),Nt.ZERO=new Nt(mt,bt,mt);const Lt=new WeakMap;class jt{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Lt.delete(this)}hasEvenY(){return this.y%vt===mt}static fromCompressedHex(t){const e=32===t.length,n=Xt(e?t:t.subarray(1));if(!ce(n))throw new Error("Point is not on curve");let r=function(t){const{P:e}=At,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=ee(u,kt)*u%e,f=ee(l,kt)*u%e,h=ee(f,vt)*c%e,d=ee(h,r)*h%e,p=ee(d,i)*d%e,y=ee(p,s)*p%e,g=ee(y,a)*y%e,m=ee(g,s)*p%e,b=ee(m,kt)*u%e,w=ee(b,o)*d%e,v=ee(w,n)*c%e,k=ee(v,vt);if(k*k%e!==t)throw new Error("Cannot find square root");return k}(Pt(n));const i=(r&bt)===bt;e?i&&(r=te(-r)):1==(1&t[0])!==i&&(r=te(-r));const o=new jt(n,r);return o.assertValidity(),o}static fromUncompressedHex(t){const e=Xt(t.subarray(1,It+1)),n=Xt(t.subarray(It+1,2*It+1)),r=new jt(e,n);return r.assertValidity(),r}static fromHex(t){const e=Yt(t),n=e.length,r=e[0];if(n===It)return this.fromCompressedHex(e);if(n===Ot&&(2===r||3===r))return this.fromCompressedHex(e);if(n===Tt&&4===r)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ot} compressed bytes or ${Tt} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return jt.BASE.multiply(le(t))}static fromSignature(t,e,n){const{r,s:i}=function(t){if(t instanceof Wt)return t.assertValidity(),t;try{return Wt.fromDER(t)}catch(e){return Wt.fromCompact(t)}}(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=re(Yt(t)),{n:s}=At,a=2===n||3===n?r+s:r,c=ne(a,s),u=te(-o*c,s),l=te(i*c,s),f=1&n?"03":"02",h=jt.fromHex(f+Kt(a)),d=jt.BASE.multiplyAndAddUnsafe(h,u,l);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(t=!1){return Jt(this.toHex(t))}toHex(t=!1){const e=Kt(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Kt(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!ce(e)||!ce(n))throw new Error(t);const r=te(n*n);if(te(r-Pt(e))!==mt)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new jt(this.x,te(-this.y))}double(){return Nt.fromAffine(this).double().toAffine()}add(t){return Nt.fromAffine(this).add(Nt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Nt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const r=Nt.fromAffine(this),i=e===mt||e===bt||this!==jt.BASE?r.multiplyUnsafe(e):r.multiply(e),o=Nt.fromAffine(t).multiplyUnsafe(n),s=i.add(o);return s.equals(Nt.ZERO)?void 0:s.toAffine()}}function Vt(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function zt(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${Ft(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Xt(n),left:t.subarray(e+2)}}jt.BASE=new jt(At.Gx,At.Gy),jt.ZERO=new jt(mt,mt);class Wt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=e?Ft(t):t;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new Wt(Zt(r.slice(0,64)),Zt(r.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${Ft(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=zt(t.subarray(2)),{data:r,left:i}=zt(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Ft(i)}`);return{r:e,s:r}}(e?t:Jt(t));return new Wt(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!ae(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ae(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=At.n>>bt;return this.s>t}normalizeS(){return this.hasHighS()?new Wt(this.r,te(-this.s,At.n)):this}toDERRawBytes(){return Jt(this.toDERHex())}toDERHex(){const t=Vt(Ht(this.s)),e=Vt(Ht(this.r)),n=t.length/2,r=e.length/2,i=Ht(n),o=Ht(r);return`30${Ht(r+n+4)}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Jt(this.toCompactHex())}toCompactHex(){return Kt(this.r)+Kt(this.s)}}function Dt(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}const Gt=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Ft(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=Gt[t[n]];return e}const qt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Kt(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(mt<=t&&t<qt))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function $t(t){const e=Jt(Kt(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function Ht(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Zt(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Jt(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[n]=o}return e}function Xt(t){return Zt(Ft(t))}function Yt(t){return t instanceof Uint8Array?Uint8Array.from(t):Jt(t)}function Qt(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&ae(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function te(t,e=At.P){const n=t%e;return n>=mt?n:e+n}function ee(t,e){const{P:n}=At;let r=t;for(;e-- >mt;)r*=r,r%=n;return r}function ne(t,e=At.P){if(t===mt||e<=mt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=te(t,e),r=e,i=mt,o=bt,s=bt,a=mt;for(;n!==mt;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==bt)throw new Error("invert: does not exist");return te(i,e)}function re(t,e=!1){const n=function(t){const e=8*t.length-8*Rt,n=Xt(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;const{n:r}=At;return n>=r?n-r:n}let ie,oe;class se{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return ge.hmacSha256(this.k,...t)}hmacSync(...t){return oe(this.k,...t)}checkSync(){if("function"!=typeof oe)throw new Ct("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Dt(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();e.push(n),t+=this.v.length}return Dt(...e)}}function ae(t){return mt<t&&t<At.n}function ce(t){return mt<t&&t<At.P}function ue(t,e,n,r=!0){const{n:i}=At,o=re(t,!0);if(!ae(o))return;const s=ne(o,i),a=jt.BASE.multiply(o),c=te(a.x,i);if(c===mt)return;const u=te(s*te(e+n*c,i),i);if(u===mt)return;let l=new Wt(c,u),f=(a.x===l.r?0:2)|Number(a.y&bt);return r&&l.hasHighS()&&(l=l.normalizeS(),f^=1),{sig:l,recovery:f}}function le(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*Rt)throw new Error("Expected 32 bytes of private key");e=Zt(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==Rt)throw new Error("Expected 32 bytes of private key");e=Xt(t)}if(!ae(e))throw new Error("Expected private key: 0 < key < n");return e}function fe(t){return Xt(t.length>It?t.slice(0,It):t)}function he(t){const e=fe(t),n=te(e,At.n);return de(n<mt?e:n)}function de(t){return $t(t)}jt.BASE._setWindowSize(8);const pe={node:gt,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ye={},ge={bytesToHex:Ft,hexToBytes:Jt,concatBytes:Dt,mod:te,invert:ne,isValidPrivateKey(t){try{return le(t),!0}catch(t){return!1}},_bigintTo32Bytes:$t,_normalizePrivateKey:le,hashToPrivateKey:t=>{t=Yt(t);const e=Rt+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return $t(te(Xt(t),At.n-bt)+bt)},randomBytes:(t=32)=>{if(pe.web)return pe.web.getRandomValues(new Uint8Array(t));if(pe.node){const{randomBytes:e}=pe.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ge.hashToPrivateKey(ge.randomBytes(Rt+8)),precompute(t=8,e=jt.BASE){const n=e===jt.BASE?e:new jt(e.x,e.y);return n._setWindowSize(t),n.multiply(kt),n},sha256:async(...t)=>{if(pe.web){const e=await pe.web.subtle.digest("SHA-256",Dt(...t));return new Uint8Array(e)}if(pe.node){const{createHash:e}=pe.node,n=e("sha256");return t.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(pe.web){const n=await pe.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Dt(...e),i=await pe.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}if(pe.node){const{createHmac:n}=pe.node,r=n("sha256",t);return e.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=ye[t];if(void 0===n){const e=await ge.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=Dt(e,e),ye[t]=n}return ge.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof ie)throw new Ct("sha256Sync is undefined, you need to set it");let n=ye[t];if(void 0===n){const e=ie(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=Dt(e,e),ye[t]=n}return ie(n,...e)},_JacobianPoint:Nt};Object.defineProperties(ge,{sha256Sync:{configurable:!1,get:()=>ie,set(t){ie||(ie=t)}},hmacSha256Sync:{configurable:!1,get:()=>oe,set(t){oe||(oe=t)}}}),rt.sha512Sync=(...t)=>(0,o.o)(rt.concatBytes(...t)),rt.randomPrivateKey;const me=()=>{const t=rt.randomPrivateKey(),e=be(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},be=Q;function we(t){try{return I.fromHex(t,!0),!0}catch{return!1}}const ve=(t,e)=>tt(t,e.slice(0,32)),ke=et,Se=t=>i.lW.isBuffer(t)?t:t instanceof Uint8Array?i.lW.from(t.buffer,t.byteOffset,t.byteLength):i.lW.from(t);class _e{constructor(t){Object.assign(this,t)}encode(){return i.lW.from((0,ut.serialize)(Ae,this))}static decode(t){return(0,ut.deserialize)(Ae,this,t)}static decodeUnchecked(t){return(0,ut.deserializeUnchecked)(Ae,this,t)}}const Ae=new Map;let Ee;const xe=32;let Ie=1;Ee=Symbol.toStringTag;class Re extends _e{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=at().decode(t);if(e.length!=xe)throw new Error("Invalid public key input");this._bn=new(ot())(e)}else this._bn=new(ot())(t);if(this._bn.byteLength()>xe)throw new Error("Invalid public key input")}}static unique(){const t=new Re(Ie);return Ie+=1,new Re(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return at().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.lW);if(t.length===xe)return t;const e=i.lW.alloc(32);return t.copy(e,32-t.length),e}get[Ee](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=i.lW.concat([t.toBuffer(),i.lW.from(e),n.toBuffer()]),o=(0,ct.J)(r);return new Re(o)}static createProgramAddressSync(t,e){let n=i.lW.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=i.lW.concat([n,Se(t)])})),n=i.lW.concat([n,e.toBuffer(),i.lW.from("ProgramDerivedAddress")]);const r=(0,ct.J)(n);if(we(r))throw new Error("Invalid seeds, address must fall off the curve");return new Re(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const o=t.concat(i.lW.from([r]));n=this.createProgramAddressSync(o,e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return we(new Re(t).toBytes())}}Re.default=new Re("11111111111111111111111111111111"),Ae.set(Re,{kind:"struct",fields:[["_bn","u256"]]}),new Re("BPFLoader1111111111111111111111111111111111");class Oe extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Oe.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Te extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Te.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Pe extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Pe.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Be{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const Ce=(t="publicKey")=>lt.Ik(32,t),Me=(t="string")=>{const e=lt.n_([lt.Jq("length"),lt.Jq("lengthPadding"),lt.Ik(lt.cv(lt.Jq(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(t,e)=>n(t,e).chars.toString(),o.encode=(t,e,n)=>{const o={chars:i.lW.from(t,"utf8")};return r(o,e,n)},o.alloc=t=>lt.Jq().span+lt.Jq().span+i.lW.from(t,"utf8").length,o};function Ne(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return Ne({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach((t=>{r+=n(t)})),r}function Ue(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,0==(128&r))break}return e}function Le(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function je(t,e){if(!t)throw new Error(e||"Assertion failed")}class Ve{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){r(e.programId).isInvoked=!0;for(const t of e.keys){const e=r(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new Ve(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];je(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{je(e.length>0,"Expected at least one writable signer key");const[t]=e[0];je(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new Re(t))),...n.map((([t])=>new Re(t))),...r.map((([t])=>new Re(t))),...i.map((([t])=>new Re(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new Re(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(je(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}class ze{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new Re(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:at().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Be(this.staticAccountKeys)}static compile(t){const e=Ve.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new Be(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:at().encode(t.data)})));return new ze({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Le(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(at().decode(t.data));let o=[];Le(o,e.length);let s=[];return Le(s,r.length),{programIdIndex:n,keyIndicesCount:i.lW.from(o),keyIndices:e,dataLength:i.lW.from(s),data:r}}));let r=[];Le(r,n.length);let o=i.lW.alloc(1232);i.lW.from(r).copy(o);let s=r.length;n.forEach((t=>{const e=lt.n_([lt.u8("programIdIndex"),lt.Ik(t.keyIndicesCount.length,"keyIndicesCount"),lt.A9(lt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),lt.Ik(t.dataLength.length,"dataLength"),lt.A9(lt.u8("userdatum"),t.data.length,"data")]).encode(t,o,s);s+=e})),o=o.slice(0,s);const a=lt.n_([lt.Ik(1,"numRequiredSignatures"),lt.Ik(1,"numReadonlySignedAccounts"),lt.Ik(1,"numReadonlyUnsignedAccounts"),lt.Ik(e.length,"keyCount"),lt.A9(Ce("key"),t,"keys"),Ce("recentBlockhash")]),c={numRequiredSignatures:i.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.lW.from(e),keys:this.accountKeys.map((t=>Se(t.toBytes()))),recentBlockhash:at().decode(this.recentBlockhash)};let u=i.lW.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=e.shift(),o=e.shift(),s=Ue(e);let a=[];for(let t=0;t<s;t++){const t=e.slice(0,xe);e=e.slice(xe),a.push(new Re(i.lW.from(t)))}const c=e.slice(0,xe);e=e.slice(xe);const u=Ue(e);let l=[];for(let t=0;t<u;t++){const t=e.shift(),n=Ue(e),r=e.slice(0,n);e=e.slice(n);const o=Ue(e),s=e.slice(0,o),a=at().encode(i.lW.from(s));e=e.slice(o),l.push({programIdIndex:t,accounts:r,data:a})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:o},recentBlockhash:at().encode(i.lW.from(c)),accountKeys:a,instructions:l};return new ze(f)}}let We;!function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"}(We||(We={}));const De=i.lW.alloc(64).fill(0);class Ge{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Fe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ge(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new Re(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),n=o.findIndex((t=>t.pubkey.toString()===e));n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58())}));const s=o.findIndex((t=>t.pubkey.equals(n)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],f=[];o.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(l.push(t.toString()),a+=1,n||(c+=1)):(f.push(t.toString()),n||(u+=1))}));const h=l.concat(f),d=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:h.indexOf(n.toString()),accounts:t.keys.map((t=>h.indexOf(t.pubkey.toString()))),data:at().encode(e)}}));return d.forEach((t=>{je(t.programIdIndex>=0),t.accounts.forEach((t=>je(t>=0)))})),new ze({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:t,instructions:d})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,n)=>e[n].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=ve(n,t.secretKey);this._addSignature(t.publicKey,Se(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){je(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=i.lW.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}_verifySignatures(t,e){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(e)return!1}else if(!ke(n,t,r.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n&&!this._verifySignatures(r,e))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];Le(n,e.length);const r=n.length+64*e.length+t.length,o=i.lW.alloc(r);return je(e.length<256),i.lW.from(n).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(je(64===t.length,"signature has invalid length"),i.lW.from(t).copy(o,n.length+64*e))})),t.copy(o,n.length+64*e.length),je(o.length<=1232,`Transaction too large: ${o.length} > 1232`),o}get keys(){return je(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return je(1===this.instructions.length),this.instructions[0].programId}get data(){return je(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=Ue(e);let r=[];for(let t=0;t<n;t++){const t=e.slice(0,64);e=e.slice(64),r.push(at().encode(i.lW.from(t)))}return Fe.populate(ze.from(e),r)}static populate(t,e=[]){const n=new Fe;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==at().encode(De)?null:at().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new Ge({keys:r,programId:t.accountKeys[e.programIdIndex],data:at().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}const qe=new Re("SysvarC1ock11111111111111111111111111111111"),Ke=(new Re("SysvarEpochSchedu1e111111111111111111111111"),new Re("Sysvar1nstructions1111111111111111111111111"),new Re("SysvarRecentB1ockHashes11111111111111111111")),$e=new Re("SysvarRent111111111111111111111111111111111"),He=(new Re("SysvarRewards111111111111111111111111111111"),new Re("SysvarS1otHashes111111111111111111111111111"),new Re("SysvarS1otHistory11111111111111111111111111"),new Re("SysvarStakeHistory1111111111111111111111111"));async function Ze(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:null==r?void 0:r.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:null==r?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=(null==r?void 0:r.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Je(t){return new Promise((e=>setTimeout(e,t)))}function Xe(t,e){const n=t.layout.span>=0?t.layout.span:Ne(t,e),r=i.lW.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}function Ye(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const Qe=lt._O("lamportsPerSignature"),tn=lt.n_([lt.Jq("version"),lt.Jq("state"),Ce("authorizedPubkey"),Ce("nonce"),lt.n_([Qe],"feeCalculator")]).span,en=(8,t=>{const e=(0,lt.Ik)(8,t),{encode:n,decode:r}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),o=e;return o.decode=(t,e)=>{const n=r(t,e);return(0,ft.oU)(i.lW.from(n))},o.encode=(t,e,r)=>{const i=(0,ft.k$)(t,8);return n(i,e,r)},o});class nn{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=lt.Jq("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(rn))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:n,programId:r}=Ye(rn.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new Re(r)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=Ye(rn.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:n,programId:r}=Ye(rn.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new Re(r)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=Ye(rn.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,space:r,programId:i}=Ye(rn.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Re(e),seed:n,space:r,programId:new Re(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=Ye(rn.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new Re(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,programId:r}=Ye(rn.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new Re(e),seed:n,programId:new Re(r)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:n,lamports:r,space:i,programId:o}=Ye(rn.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new Re(e),seed:n,lamports:r,space:i,programId:new Re(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=Ye(rn.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new Re(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ye(rn.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Ye(rn.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=Ye(rn.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new Re(e)}}static checkProgramId(t){if(!t.equals(on.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const rn=Object.freeze({Create:{index:0,layout:lt.n_([lt.Jq("instruction"),lt.gM("lamports"),lt.gM("space"),Ce("programId")])},Assign:{index:1,layout:lt.n_([lt.Jq("instruction"),Ce("programId")])},Transfer:{index:2,layout:lt.n_([lt.Jq("instruction"),en("lamports")])},CreateWithSeed:{index:3,layout:lt.n_([lt.Jq("instruction"),Ce("base"),Me("seed"),lt.gM("lamports"),lt.gM("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:lt.n_([lt.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:lt.n_([lt.Jq("instruction"),lt.gM("lamports")])},InitializeNonceAccount:{index:6,layout:lt.n_([lt.Jq("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:lt.n_([lt.Jq("instruction"),Ce("authorized")])},Allocate:{index:8,layout:lt.n_([lt.Jq("instruction"),lt.gM("space")])},AllocateWithSeed:{index:9,layout:lt.n_([lt.Jq("instruction"),Ce("base"),Me("seed"),lt.gM("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:lt.n_([lt.Jq("instruction"),Ce("base"),Me("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:lt.n_([lt.Jq("instruction"),en("lamports"),Me("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:lt.n_([lt.Jq("instruction")])}});class on{constructor(){}static createAccount(t){const e=Xe(rn.Create,{lamports:t.lamports,space:t.space,programId:Se(t.programId.toBuffer())});return new Ge({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;return"basePubkey"in t?(e=Xe(rn.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=Xe(rn.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Ge({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;return"basePubkey"in t?(e=Xe(rn.AssignWithSeed,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Xe(rn.Assign,{programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ge({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Xe(rn.CreateWithSeed,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Se(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ge({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Fe;"basePubkey"in t&&"seed"in t?e.add(on.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:tn,programId:this.programId})):e.add(on.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:tn,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=Xe(rn.InitializeNonceAccount,{authorized:Se(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:$e,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new Ge(n)}static nonceAdvance(t){const e=Xe(rn.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new Ge(n)}static nonceWithdraw(t){const e=Xe(rn.WithdrawNonceAccount,{lamports:t.lamports});return new Ge({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ke,isSigner:!1,isWritable:!1},{pubkey:$e,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Xe(rn.AuthorizeNonceAccount,{authorized:Se(t.newAuthorizedPubkey.toBuffer())});return new Ge({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;return"basePubkey"in t?(e=Xe(rn.AllocateWithSeed,{base:Se(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Se(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=Xe(rn.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ge({keys:n,programId:this.programId,data:e})}}on.programId=new Re("11111111111111111111111111111111");class sn{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/sn.chunkSize)+1+1)}static async load(t,e,n,r,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new Fe,a.add(on.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(r)||(a=a||new Fe,a.add(on.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<i&&(a=a||new Fe,a.add(on.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:i-s.lamports})))}else a=(new Fe).add(on.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:i>0?i:1,space:o.length,programId:r}));null!==a&&await Ze(t,a,[e,n],{commitment:"confirmed"})}const s=lt.n_([lt.Jq("instruction"),lt.Jq("offset"),lt.Jq("bytesLength"),lt.Jq("bytesLengthPadding"),lt.A9(lt.u8("byte"),lt.cv(lt.Jq(),-8),"bytes")]),a=sn.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),f=i.lW.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},f);const h=(new Fe).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:f});if(l.push(Ze(t,h,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Je(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=lt.n_([lt.Jq("instruction")]),s=i.lW.alloc(o.span);o.encode({instruction:1},s);const a=(new Fe).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!1}],programId:r,data:s});await Ze(t,a,[e,n],{commitment:"confirmed"})}return!0}}sn.chunkSize=932,new Re("BPFLoader2111111111111111111111111111111111"),Object.prototype.toString,Object.keys;class an extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class cn extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}globalThis.fetch,lt.n_([lt.Jq("typeIndex"),en("deactivationSlot"),lt._O("lastExtendedSlot"),lt.u8("lastExtendedStartIndex"),lt.u8(),lt.A9(Ce(),lt.cv(lt.u8(),-1),"authority")]);const un=(0,ht.oQ)((0,ht.eE)(Re),(0,ht.Z_)(),(t=>new Re(t))),ln=(0,ht.bc)([(0,ht.Z_)(),(0,ht.i0)("base64")]),fn=(0,ht.oQ)((0,ht.eE)(i.lW),ln,(t=>i.lW.from(t[0],"base64")));function hn(t){return(0,ht.G0)([(0,ht.dt)({jsonrpc:(0,ht.i0)("2.0"),id:(0,ht.Z_)(),result:t}),(0,ht.dt)({jsonrpc:(0,ht.i0)("2.0"),id:(0,ht.Z_)(),error:(0,ht.dt)({code:(0,ht._4)(),message:(0,ht.Z_)(),data:(0,ht.jt)((0,ht.Yj)())})})])}const dn=hn((0,ht._4)());function pn(t){return(0,ht.oQ)(hn(t),dn,(e=>"error"in e?e:{...e,result:(0,ht.Ue)(e.result,t)}))}function yn(t){return pn((0,ht.dt)({context:(0,ht.dt)({slot:(0,ht.Rx)()}),value:t}))}function gn(t){return(0,ht.dt)({context:(0,ht.dt)({slot:(0,ht.Rx)()}),value:t})}const mn=(0,ht.dt)({foundation:(0,ht.Rx)(),foundationTerm:(0,ht.Rx)(),initial:(0,ht.Rx)(),taper:(0,ht.Rx)(),terminal:(0,ht.Rx)()}),bn=(pn((0,ht.IX)((0,ht.AG)((0,ht.dt)({epoch:(0,ht.Rx)(),effectiveSlot:(0,ht.Rx)(),amount:(0,ht.Rx)(),postBalance:(0,ht.Rx)(),commission:(0,ht.jt)((0,ht.AG)((0,ht.Rx)()))})))),(0,ht.dt)({total:(0,ht.Rx)(),validator:(0,ht.Rx)(),foundation:(0,ht.Rx)(),epoch:(0,ht.Rx)()})),wn=(0,ht.dt)({epoch:(0,ht.Rx)(),slotIndex:(0,ht.Rx)(),slotsInEpoch:(0,ht.Rx)(),absoluteSlot:(0,ht.Rx)(),blockHeight:(0,ht.jt)((0,ht.Rx)()),transactionCount:(0,ht.jt)((0,ht.Rx)())}),vn=(0,ht.dt)({slotsPerEpoch:(0,ht.Rx)(),leaderScheduleSlotOffset:(0,ht.Rx)(),warmup:(0,ht.O7)(),firstNormalEpoch:(0,ht.Rx)(),firstNormalSlot:(0,ht.Rx)()}),kn=(0,ht.IM)((0,ht.Z_)(),(0,ht.IX)((0,ht.Rx)())),Sn=(0,ht.AG)((0,ht.G0)([(0,ht.dt)({}),(0,ht.Z_)()])),_n=(0,ht.dt)({err:Sn}),An=(0,ht.i0)("receivedSignature");(0,ht.dt)({"solana-core":(0,ht.Z_)(),"feature-set":(0,ht.jt)((0,ht.Rx)())}),yn((0,ht.dt)({err:(0,ht.AG)((0,ht.G0)([(0,ht.dt)({}),(0,ht.Z_)()])),logs:(0,ht.AG)((0,ht.IX)((0,ht.Z_)())),accounts:(0,ht.jt)((0,ht.AG)((0,ht.IX)((0,ht.AG)((0,ht.dt)({executable:(0,ht.O7)(),owner:(0,ht.Z_)(),lamports:(0,ht.Rx)(),data:(0,ht.IX)((0,ht.Z_)()),rentEpoch:(0,ht.jt)((0,ht.Rx)())}))))),unitsConsumed:(0,ht.jt)((0,ht.Rx)()),returnData:(0,ht.jt)((0,ht.AG)((0,ht.dt)({programId:(0,ht.Z_)(),data:(0,ht.bc)([(0,ht.Z_)(),(0,ht.i0)("base64")])})))})),yn((0,ht.dt)({byIdentity:(0,ht.IM)((0,ht.Z_)(),(0,ht.IX)((0,ht.Rx)())),range:(0,ht.dt)({firstSlot:(0,ht.Rx)(),lastSlot:(0,ht.Rx)()})})),pn(mn),pn(bn),pn(wn),pn(vn),pn(kn),pn((0,ht.Rx)()),yn((0,ht.dt)({total:(0,ht.Rx)(),circulating:(0,ht.Rx)(),nonCirculating:(0,ht.Rx)(),nonCirculatingAccounts:(0,ht.IX)(un)}));const En=(0,ht.dt)({amount:(0,ht.Z_)(),uiAmount:(0,ht.AG)((0,ht.Rx)()),decimals:(0,ht.Rx)(),uiAmountString:(0,ht.jt)((0,ht.Z_)())}),xn=(yn((0,ht.IX)((0,ht.dt)({address:un,amount:(0,ht.Z_)(),uiAmount:(0,ht.AG)((0,ht.Rx)()),decimals:(0,ht.Rx)(),uiAmountString:(0,ht.jt)((0,ht.Z_)())}))),yn((0,ht.IX)((0,ht.dt)({pubkey:un,account:(0,ht.dt)({executable:(0,ht.O7)(),owner:un,lamports:(0,ht.Rx)(),data:fn,rentEpoch:(0,ht.Rx)()})}))),(0,ht.dt)({program:(0,ht.Z_)(),parsed:(0,ht._4)(),space:(0,ht.Rx)()})),In=(yn((0,ht.IX)((0,ht.dt)({pubkey:un,account:(0,ht.dt)({executable:(0,ht.O7)(),owner:un,lamports:(0,ht.Rx)(),data:xn,rentEpoch:(0,ht.Rx)()})}))),yn((0,ht.IX)((0,ht.dt)({lamports:(0,ht.Rx)(),address:un}))),(0,ht.dt)({executable:(0,ht.O7)(),owner:un,lamports:(0,ht.Rx)(),data:fn,rentEpoch:(0,ht.Rx)()})),Rn=((0,ht.dt)({pubkey:un,account:In}),(0,ht.oQ)((0,ht.G0)([(0,ht.eE)(i.lW),xn]),(0,ht.G0)([ln,xn]),(t=>Array.isArray(t)?(0,ht.Ue)(t,fn):t))),On=(0,ht.dt)({executable:(0,ht.O7)(),owner:un,lamports:(0,ht.Rx)(),data:Rn,rentEpoch:(0,ht.Rx)()}),Tn=((0,ht.dt)({pubkey:un,account:On}),(0,ht.dt)({state:(0,ht.G0)([(0,ht.i0)("active"),(0,ht.i0)("inactive"),(0,ht.i0)("activating"),(0,ht.i0)("deactivating")]),active:(0,ht.Rx)(),inactive:(0,ht.Rx)()}),pn((0,ht.IX)((0,ht.dt)({signature:(0,ht.Z_)(),slot:(0,ht.Rx)(),err:Sn,memo:(0,ht.AG)((0,ht.Z_)()),blockTime:(0,ht.jt)((0,ht.AG)((0,ht.Rx)()))}))),pn((0,ht.IX)((0,ht.dt)({signature:(0,ht.Z_)(),slot:(0,ht.Rx)(),err:Sn,memo:(0,ht.AG)((0,ht.Z_)()),blockTime:(0,ht.jt)((0,ht.AG)((0,ht.Rx)()))}))),(0,ht.dt)({subscription:(0,ht.Rx)(),result:gn(In)}),(0,ht.dt)({pubkey:un,account:In})),Pn=((0,ht.dt)({subscription:(0,ht.Rx)(),result:gn(Tn)}),(0,ht.dt)({parent:(0,ht.Rx)(),slot:(0,ht.Rx)(),root:(0,ht.Rx)()})),Bn=((0,ht.dt)({subscription:(0,ht.Rx)(),result:Pn}),(0,ht.G0)([(0,ht.dt)({type:(0,ht.G0)([(0,ht.i0)("firstShredReceived"),(0,ht.i0)("completed"),(0,ht.i0)("optimisticConfirmation"),(0,ht.i0)("root")]),slot:(0,ht.Rx)(),timestamp:(0,ht.Rx)()}),(0,ht.dt)({type:(0,ht.i0)("createdBank"),parent:(0,ht.Rx)(),slot:(0,ht.Rx)(),timestamp:(0,ht.Rx)()}),(0,ht.dt)({type:(0,ht.i0)("frozen"),slot:(0,ht.Rx)(),timestamp:(0,ht.Rx)(),stats:(0,ht.dt)({numTransactionEntries:(0,ht.Rx)(),numSuccessfulTransactions:(0,ht.Rx)(),numFailedTransactions:(0,ht.Rx)(),maxTransactionsPerEntry:(0,ht.Rx)()})}),(0,ht.dt)({type:(0,ht.i0)("dead"),slot:(0,ht.Rx)(),timestamp:(0,ht.Rx)(),err:(0,ht.Z_)()})])),Cn=((0,ht.dt)({subscription:(0,ht.Rx)(),result:Bn}),(0,ht.dt)({subscription:(0,ht.Rx)(),result:gn((0,ht.G0)([_n,An]))}),(0,ht.dt)({subscription:(0,ht.Rx)(),result:(0,ht.Rx)()}),(0,ht.dt)({pubkey:(0,ht.Z_)(),gossip:(0,ht.AG)((0,ht.Z_)()),tpu:(0,ht.AG)((0,ht.Z_)()),rpc:(0,ht.AG)((0,ht.Z_)()),version:(0,ht.AG)((0,ht.Z_)())}),(0,ht.dt)({votePubkey:(0,ht.Z_)(),nodePubkey:(0,ht.Z_)(),activatedStake:(0,ht.Rx)(),epochVoteAccount:(0,ht.O7)(),epochCredits:(0,ht.IX)((0,ht.bc)([(0,ht.Rx)(),(0,ht.Rx)(),(0,ht.Rx)()])),commission:(0,ht.Rx)(),lastVote:(0,ht.Rx)(),rootSlot:(0,ht.AG)((0,ht.Rx)())})),Mn=(pn((0,ht.dt)({current:(0,ht.IX)(Cn),delinquent:(0,ht.IX)(Cn)})),(0,ht.G0)([(0,ht.i0)("processed"),(0,ht.i0)("confirmed"),(0,ht.i0)("finalized")])),Nn=(0,ht.dt)({slot:(0,ht.Rx)(),confirmations:(0,ht.AG)((0,ht.Rx)()),err:Sn,confirmationStatus:(0,ht.jt)(Mn)}),Un=(yn((0,ht.IX)((0,ht.AG)(Nn))),pn((0,ht.Rx)()),(0,ht.dt)({accountKey:un,writableIndexes:(0,ht.IX)((0,ht.Rx)()),readonlyIndexes:(0,ht.IX)((0,ht.Rx)())})),Ln=(0,ht.dt)({signatures:(0,ht.IX)((0,ht.Z_)()),message:(0,ht.dt)({accountKeys:(0,ht.IX)((0,ht.Z_)()),header:(0,ht.dt)({numRequiredSignatures:(0,ht.Rx)(),numReadonlySignedAccounts:(0,ht.Rx)(),numReadonlyUnsignedAccounts:(0,ht.Rx)()}),instructions:(0,ht.IX)((0,ht.dt)({accounts:(0,ht.IX)((0,ht.Rx)()),data:(0,ht.Z_)(),programIdIndex:(0,ht.Rx)()})),recentBlockhash:(0,ht.Z_)(),addressTableLookups:(0,ht.jt)((0,ht.IX)(Un))})}),jn=(0,ht.dt)({pubkey:un,signer:(0,ht.O7)(),writable:(0,ht.O7)(),source:(0,ht.jt)((0,ht.G0)([(0,ht.i0)("transaction"),(0,ht.i0)("lookupTable")]))}),Vn=(0,ht.dt)({accountKeys:(0,ht.IX)(jn),signatures:(0,ht.IX)((0,ht.Z_)())}),zn=(0,ht.dt)({parsed:(0,ht._4)(),program:(0,ht.Z_)(),programId:un}),Wn=(0,ht.dt)({accounts:(0,ht.IX)(un),data:(0,ht.Z_)(),programId:un}),Dn=(0,ht.G0)([Wn,zn]),Gn=(0,ht.G0)([(0,ht.dt)({parsed:(0,ht._4)(),program:(0,ht.Z_)(),programId:(0,ht.Z_)()}),(0,ht.dt)({accounts:(0,ht.IX)((0,ht.Z_)()),data:(0,ht.Z_)(),programId:(0,ht.Z_)()})]),Fn=(0,ht.oQ)(Dn,Gn,(t=>"accounts"in t?(0,ht.Ue)(t,Wn):(0,ht.Ue)(t,zn))),qn=(0,ht.dt)({signatures:(0,ht.IX)((0,ht.Z_)()),message:(0,ht.dt)({accountKeys:(0,ht.IX)(jn),instructions:(0,ht.IX)(Fn),recentBlockhash:(0,ht.Z_)(),addressTableLookups:(0,ht.jt)((0,ht.AG)((0,ht.IX)(Un)))})}),Kn=(0,ht.dt)({accountIndex:(0,ht.Rx)(),mint:(0,ht.Z_)(),owner:(0,ht.jt)((0,ht.Z_)()),uiTokenAmount:En}),$n=(0,ht.dt)({writable:(0,ht.IX)(un),readonly:(0,ht.IX)(un)}),Hn=(0,ht.dt)({err:Sn,fee:(0,ht.Rx)(),innerInstructions:(0,ht.jt)((0,ht.AG)((0,ht.IX)((0,ht.dt)({index:(0,ht.Rx)(),instructions:(0,ht.IX)((0,ht.dt)({accounts:(0,ht.IX)((0,ht.Rx)()),data:(0,ht.Z_)(),programIdIndex:(0,ht.Rx)()}))})))),preBalances:(0,ht.IX)((0,ht.Rx)()),postBalances:(0,ht.IX)((0,ht.Rx)()),logMessages:(0,ht.jt)((0,ht.AG)((0,ht.IX)((0,ht.Z_)()))),preTokenBalances:(0,ht.jt)((0,ht.AG)((0,ht.IX)(Kn))),postTokenBalances:(0,ht.jt)((0,ht.AG)((0,ht.IX)(Kn))),loadedAddresses:(0,ht.jt)($n),computeUnitsConsumed:(0,ht.jt)((0,ht.Rx)())}),Zn=(0,ht.dt)({err:Sn,fee:(0,ht.Rx)(),innerInstructions:(0,ht.jt)((0,ht.AG)((0,ht.IX)((0,ht.dt)({index:(0,ht.Rx)(),instructions:(0,ht.IX)(Fn)})))),preBalances:(0,ht.IX)((0,ht.Rx)()),postBalances:(0,ht.IX)((0,ht.Rx)()),logMessages:(0,ht.jt)((0,ht.AG)((0,ht.IX)((0,ht.Z_)()))),preTokenBalances:(0,ht.jt)((0,ht.AG)((0,ht.IX)(Kn))),postTokenBalances:(0,ht.jt)((0,ht.AG)((0,ht.IX)(Kn))),loadedAddresses:(0,ht.jt)($n),computeUnitsConsumed:(0,ht.jt)((0,ht.Rx)())}),Jn=(0,ht.G0)([(0,ht.i0)(0),(0,ht.i0)("legacy")]),Xn=(0,ht.dt)({pubkey:(0,ht.Z_)(),lamports:(0,ht.Rx)(),postBalance:(0,ht.AG)((0,ht.Rx)()),rewardType:(0,ht.AG)((0,ht.Z_)()),commission:(0,ht.jt)((0,ht.AG)((0,ht.Rx)()))}),Yn=(pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),transactions:(0,ht.IX)((0,ht.dt)({transaction:Ln,meta:(0,ht.AG)(Hn),version:(0,ht.jt)(Jn)})),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),transactions:(0,ht.IX)((0,ht.dt)({transaction:Vn,meta:(0,ht.AG)(Hn),version:(0,ht.jt)(Jn)})),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),transactions:(0,ht.IX)((0,ht.dt)({transaction:qn,meta:(0,ht.AG)(Zn),version:(0,ht.jt)(Jn)})),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),transactions:(0,ht.IX)((0,ht.dt)({transaction:Vn,meta:(0,ht.AG)(Zn),version:(0,ht.jt)(Jn)})),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)()),blockHeight:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),transactions:(0,ht.IX)((0,ht.dt)({transaction:Ln,meta:(0,ht.AG)(Hn)})),rewards:(0,ht.jt)((0,ht.IX)(Xn)),blockTime:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({blockhash:(0,ht.Z_)(),previousBlockhash:(0,ht.Z_)(),parentSlot:(0,ht.Rx)(),signatures:(0,ht.IX)((0,ht.Z_)()),blockTime:(0,ht.AG)((0,ht.Rx)())}))),pn((0,ht.AG)((0,ht.dt)({slot:(0,ht.Rx)(),meta:Hn,blockTime:(0,ht.jt)((0,ht.AG)((0,ht.Rx)())),transaction:Ln,version:(0,ht.jt)(Jn)}))),pn((0,ht.AG)((0,ht.dt)({slot:(0,ht.Rx)(),transaction:qn,meta:(0,ht.AG)(Zn),blockTime:(0,ht.jt)((0,ht.AG)((0,ht.Rx)())),version:(0,ht.jt)(Jn)}))),yn((0,ht.dt)({blockhash:(0,ht.Z_)(),feeCalculator:(0,ht.dt)({lamportsPerSignature:(0,ht.Rx)()})})),yn((0,ht.dt)({blockhash:(0,ht.Z_)(),lastValidBlockHeight:(0,ht.Rx)()})),(0,ht.dt)({slot:(0,ht.Rx)(),numTransactions:(0,ht.Rx)(),numSlots:(0,ht.Rx)(),samplePeriodSecs:(0,ht.Rx)()})),Qn=(pn((0,ht.IX)(Yn)),yn((0,ht.AG)((0,ht.dt)({feeCalculator:(0,ht.dt)({lamportsPerSignature:(0,ht.Rx)()})}))),pn((0,ht.Z_)()),pn((0,ht.Z_)()),(0,ht.dt)({err:Sn,logs:(0,ht.IX)((0,ht.Z_)()),signature:(0,ht.Z_)()}));(0,ht.dt)({result:gn(Qn),subscription:(0,ht.Rx)()});class tr{constructor(t){this._keypair=void 0,this._keypair=null!=t?t:me()}static generate(){return new tr(me())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=be(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new tr({publicKey:n,secretKey:t})}static fromSeed(t){const e=be(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new tr({publicKey:e,secretKey:n})}get publicKey(){return new Re(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:lt.n_([lt.Jq("instruction"),en("recentSlot"),lt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:lt.n_([lt.Jq("instruction")])},ExtendLookupTable:{index:2,layout:lt.n_([lt.Jq("instruction"),en(),lt.A9(Ce(),lt.cv(lt.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:lt.n_([lt.Jq("instruction")])},CloseLookupTable:{index:4,layout:lt.n_([lt.Jq("instruction")])}});new Re("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:lt.n_([lt.u8("instruction"),lt.Jq("units"),lt.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:lt.n_([lt.u8("instruction"),lt.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:lt.n_([lt.u8("instruction"),lt.Jq("units")])},SetComputeUnitPrice:{index:3,layout:lt.n_([lt.u8("instruction"),en("microLamports")])}});new Re("ComputeBudget111111111111111111111111111111");const er=lt.n_([lt.u8("numSignatures"),lt.u8("padding"),lt.KB("signatureOffset"),lt.KB("signatureInstructionIndex"),lt.KB("publicKeyOffset"),lt.KB("publicKeyInstructionIndex"),lt.KB("messageDataOffset"),lt.KB("messageDataSize"),lt.KB("messageInstructionIndex")]);class nr{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,instructionIndex:o}=t;je(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),je(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=er.span,a=s+e.length,c=a+r.length,u=i.lW.alloc(c+n.length),l=null==o?65535:o;return er.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(r,a),u.fill(n,c),new Ge({keys:[],programId:nr.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;je(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=tr.fromSecretKey(e),i=t.publicKey.toBytes(),o=ve(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}nr.programId=new Re("Ed25519SigVerify111111111111111111111111111"),ge.hmacSha256Sync=(t,...e)=>{const n=pt.b.create(ct.J,t);return e.forEach((t=>n.update(t))),n.digest()};const rr=(t,e)=>function(t,e,n={}){const{seed:r,m:i,d:o}=function(t,e,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=Yt(t),i=le(e),o=[de(i),he(r)];if(null!=n){!0===n&&(n=ge.randomBytes(It));const t=Yt(n);if(t.length!==It)throw new Error(`sign: Expected ${It} bytes of extra data`);o.push(t)}return{seed:Dt(...o),m:fe(r),d:i}}(t,e,n.extraEntropy),s=new se(32,Rt);let a;for(s.reseedSync(r);!(a=ue(s.generateSync(),i,o,n.canonical));)s.reseedSync();return function(t,e){const{sig:n,recovery:r}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}(a,n)}(t,e,{der:!1,recovered:!0});ge.isValidPrivateKey;const ir=lt.n_([lt.u8("numSignatures"),lt.KB("signatureOffset"),lt.u8("signatureInstructionIndex"),lt.KB("ethAddressOffset"),lt.u8("ethAddressInstructionIndex"),lt.KB("messageDataOffset"),lt.KB("messageDataSize"),lt.u8("messageInstructionIndex"),lt.Ik(20,"ethAddress"),lt.Ik(64,"signature"),lt.u8("recoveryId")]);class or{constructor(){}static publicKeyToEthAddress(t){je(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.lW.from((0,dt.fr)(Se(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:o}=t;return or.createInstructionWithEthAddress({ethAddress:or.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:r,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.lW.from(e.substr(2),"hex"):i.lW.from(e,"hex"):e,je(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+r.length+1,l=i.lW.alloc(ir.span+n.length);return ir.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:Se(r),ethAddress:Se(a),recoveryId:o},l),l.fill(Se(n),ir.span),new Ge({keys:[],programId:or.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;je(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Se(e),o=function(t,e=!1){return jt.fromPrivateKey(t).toRawBytes(e)}(t,!1).slice(1),s=i.lW.from((0,dt.fr)(Se(n))),[a,c]=rr(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}or.programId=new Re("KeccakSecp256k11111111111111111111111111111");const sr=new Re("StakeConfig11111111111111111111111111111111");class ar{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}ar.default=new ar(0,0,Re.default);const cr=Object.freeze({Initialize:{index:0,layout:lt.n_([lt.Jq("instruction"),((t="authorized")=>lt.n_([Ce("staker"),Ce("withdrawer")],t))(),((t="lockup")=>lt.n_([lt.gM("unixTimestamp"),lt.gM("epoch"),Ce("custodian")],t))()])},Authorize:{index:1,layout:lt.n_([lt.Jq("instruction"),Ce("newAuthorized"),lt.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:lt.n_([lt.Jq("instruction")])},Split:{index:3,layout:lt.n_([lt.Jq("instruction"),lt.gM("lamports")])},Withdraw:{index:4,layout:lt.n_([lt.Jq("instruction"),lt.gM("lamports")])},Deactivate:{index:5,layout:lt.n_([lt.Jq("instruction")])},Merge:{index:7,layout:lt.n_([lt.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:lt.n_([lt.Jq("instruction"),Ce("newAuthorized"),lt.Jq("stakeAuthorizationType"),Me("authoritySeed"),Ce("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class ur{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||ar.default,o=Xe(cr.Initialize,{authorized:{staker:Se(n.staker.toBuffer()),withdrawer:Se(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Se(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Ge(s)}static createAccountWithSeed(t){const e=new Fe;e.add(on.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new Fe;e.add(on.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=Xe(cr.Delegate);return(new Fe).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:sr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=t,s=Xe(cr.Authorize,{newAuthorized:Se(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Fe).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=Xe(cr.AuthorizeWithSeed,{newAuthorized:Se(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:Se(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Fe).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,o=Xe(cr.Split,{lamports:i});return new Ge({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new Fe;return e.add(on.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,basePubkey:i,seed:o,lamports:s}=t,a=new Fe;return a.add(on.allocate({accountPubkey:r,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=Xe(cr.Merge);return(new Fe).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=t,s=Xe(cr.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:He,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Fe).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=Xe(cr.Deactivate);return(new Fe).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}ur.programId=new Re("Stake11111111111111111111111111111111111111"),ur.space=200;const lr=Object.freeze({InitializeAccount:{index:0,layout:lt.n_([lt.Jq("instruction"),((t="voteInit")=>lt.n_([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),lt.u8("commission")],t))()])},Authorize:{index:1,layout:lt.n_([lt.Jq("instruction"),Ce("newAuthorized"),lt.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:lt.n_([lt.Jq("instruction"),lt.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:lt.n_([lt.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>lt.n_([lt.Jq("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Me("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],t))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fr{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=Xe(lr.InitializeAccount,{voteInit:{nodePubkey:Se(r.nodePubkey.toBuffer()),authorizedVoter:Se(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Se(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$e,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ge(o)}static createAccount(t){const e=new Fe;return e.add(on.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,o=Xe(lr.Authorize,{newAuthorized:Se(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Fe).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=Xe(lr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Se(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Se(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Fe).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,o=Xe(lr.Withdraw,{lamports:r}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Fe).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return fr.withdraw(t)}}fr.programId=new Re("Vote111111111111111111111111111111111111111"),fr.space=3731,new Re("Va1idator1nfo111111111111111111111111111111"),(0,ht.dt)({name:(0,ht.Z_)(),website:(0,ht.jt)((0,ht.Z_)()),details:(0,ht.jt)((0,ht.Z_)()),keybaseUsername:(0,ht.jt)((0,ht.Z_)())}),new Re("Vote111111111111111111111111111111111111111"),lt.n_([Ce("nodePubkey"),Ce("authorizedWithdrawer"),lt.u8("commission"),lt._O(),lt.A9(lt.n_([lt._O("slot"),lt.Jq("confirmationCount")]),lt.cv(lt.Jq(),-8),"votes"),lt.u8("rootSlotValid"),lt._O("rootSlot"),lt._O(),lt.A9(lt.n_([lt._O("epoch"),Ce("authorizedVoter")]),lt.cv(lt.Jq(),-8),"authorizedVoters"),lt.n_([lt.A9(lt.n_([Ce("authorizedPubkey"),lt._O("epochOfLastAuthorizedSwitch"),lt._O("targetEpoch")]),32,"buf"),lt._O("idx"),lt.u8("isEmpty")],"priorVoters"),lt._O(),lt.A9(lt.n_([lt._O("epoch"),lt._O("credits"),lt._O("prevCredits")]),lt.cv(lt.Jq(),-8),"epochCredits"),lt.n_([lt._O("slot"),lt._O("timestamp")],"lastTimestamp")]);var hr=r(5872),dr=r(872),pr=r(5415),yr=r(1036),gr=r.n(yr),mr=r(9489),br=r(626);function wr(t){let e=t.length;for(;--e>=0;)t[e]=0}const vr=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),kr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Sr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_r=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ar=new Array(576);wr(Ar);const Er=new Array(60);wr(Er);const xr=new Array(512);wr(xr);const Ir=new Array(256);wr(Ir);const Rr=new Array(29);wr(Rr);const Or=new Array(30);function Tr(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let Pr,Br,Cr;function Mr(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}wr(Or);const Nr=t=>t<256?xr[t]:xr[256+(t>>>7)],Ur=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Lr=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,Ur(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},jr=(t,e,n)=>{Lr(t,n[2*e],n[2*e+1])},Vr=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},zr=(t,e,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=Vr(r[e]++,e))}},Wr=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Dr=t=>{t.bi_valid>8?Ur(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Gr=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},Fr=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Gr(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Gr(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},qr=(t,e,n)=>{let r,i,o,s,a=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+a++],r+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===r?jr(t,i,e):(o=Ir[i],jr(t,o+256+1,e),s=vr[o],0!==s&&(i-=Rr[o],Lr(t,i,s)),r--,o=Nr(r),jr(t,o,n),s=kr[o],0!==s&&(r-=Or[o],Lr(t,r,s)))}while(a<t.sym_next);jr(t,256,e)},Kr=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)Fr(t,n,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Fr(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,Fr(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,f,h,d,p,y=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(n[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,y++),n[2*l+1]=h,l>r||(t.bl_count[h]++,d=0,l>=a&&(d=s[l-a]),p=n[2*l],t.opt_len+=p*(h+d),o&&(t.static_len+=p*(i[2*l+1]+d)));if(0!==y){do{for(h=c-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,y-=2}while(y>0);for(h=c;0!==h;h--)for(l=t.bl_count[h];0!==l;)f=t.heap[--u],f>r||(n[2*f+1]!==h&&(t.opt_len+=(h-n[2*f+1])*n[2*f],n[2*f+1]=h),l--)}})(t,e),zr(n,u,t.bl_count)},$r=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Hr=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)do{jr(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(jr(t,i,t.bl_tree),a--),jr(t,16,t.bl_tree),Lr(t,a-3,2)):a<=10?(jr(t,17,t.bl_tree),Lr(t,a-3,3)):(jr(t,18,t.bl_tree),Lr(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let Zr=!1;const Jr=(t,e,n,r)=>{Lr(t,0+(r?1:0),3),Dr(t),Ur(t,n),Ur(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var Xr={_tr_init:t=>{Zr||((()=>{let t,e,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(Rr[r]=n,t=0;t<1<<vr[r];t++)Ir[n++]=r;for(Ir[n-1]=r,i=0,r=0;r<16;r++)for(Or[r]=i,t=0;t<1<<kr[r];t++)xr[i++]=r;for(i>>=7;r<30;r++)for(Or[r]=i<<7,t=0;t<1<<kr[r]-7;t++)xr[256+i++]=r;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)Ar[2*t+1]=8,t++,o[8]++;for(;t<=255;)Ar[2*t+1]=9,t++,o[9]++;for(;t<=279;)Ar[2*t+1]=7,t++,o[7]++;for(;t<=287;)Ar[2*t+1]=8,t++,o[8]++;for(zr(Ar,287,o),t=0;t<30;t++)Er[2*t+1]=5,Er[2*t]=Vr(t,5);Pr=new Tr(Ar,vr,257,286,15),Br=new Tr(Er,kr,0,30,15),Cr=new Tr(new Array(0),Sr,0,19,7)})(),Zr=!0),t.l_desc=new Mr(t.dyn_ltree,Pr),t.d_desc=new Mr(t.dyn_dtree,Br),t.bl_desc=new Mr(t.bl_tree,Cr),t.bi_buf=0,t.bi_valid=0,Wr(t)},_tr_stored_block:Jr,_tr_flush_block:(t,e,n,r)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Kr(t,t.l_desc),Kr(t,t.d_desc),s=(t=>{let e;for($r(t,t.dyn_ltree,t.l_desc.max_code),$r(t,t.dyn_dtree,t.d_desc.max_code),Kr(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_r[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Jr(t,e,n,r):4===t.strategy||o===i?(Lr(t,2+(r?1:0),3),qr(t,Ar,Er)):(Lr(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(Lr(t,e-257,5),Lr(t,n-1,5),Lr(t,r-4,4),i=0;i<r;i++)Lr(t,t.bl_tree[2*_r[i]+1],3);Hr(t,t.dyn_ltree,e-1),Hr(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),qr(t,t.dyn_ltree,t.dyn_dtree)),Wr(t),r&&Dr(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Ir[n]+256+1)]++,t.dyn_dtree[2*Nr(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{Lr(t,2,3),jr(t,256,Ar),(t=>{16===t.bi_valid?(Ur(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Yr=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Qr=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var ti=(t,e,n,r)=>{const i=Qr,o=r+n;t^=-1;for(let n=r;n<o;n++)t=t>>>8^i[255&(t^e[n])];return-1^t},ei={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ni={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ri,_tr_stored_block:ii,_tr_flush_block:oi,_tr_tally:si,_tr_align:ai}=Xr,{Z_NO_FLUSH:ci,Z_PARTIAL_FLUSH:ui,Z_FULL_FLUSH:li,Z_FINISH:fi,Z_BLOCK:hi,Z_OK:di,Z_STREAM_END:pi,Z_STREAM_ERROR:yi,Z_DATA_ERROR:gi,Z_BUF_ERROR:mi,Z_DEFAULT_COMPRESSION:bi,Z_FILTERED:wi,Z_HUFFMAN_ONLY:vi,Z_RLE:ki,Z_FIXED:Si,Z_DEFAULT_STRATEGY:_i,Z_UNKNOWN:Ai,Z_DEFLATED:Ei}=ni,xi=258,Ii=262,Ri=42,Oi=113,Ti=666,Pi=(t,e)=>(t.msg=ei[e],e),Bi=t=>2*t-(t>4?9:0),Ci=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Mi=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let Ni=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Ui=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Li=(t,e)=>{oi(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ui(t.strm)},ji=(t,e)=>{t.pending_buf[t.pending++]=e},Vi=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},zi=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=Yr(t.adler,e,i,n):2===t.state.wrap&&(t.adler=ti(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Wi=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-Ii?t.strstart-(t.w_size-Ii):0,u=t.window,l=t.w_mask,f=t.prev,h=t.strstart+xi;let d=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,u[n+s]===p&&u[n+s-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=xi-(h-o),o=h-xi,r>s){if(t.match_start=e,s=r,r>=a)break;d=u[o+s-1],p=u[o+s]}}}while((e=f[e&l])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead},Di=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ii)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Mi(t),r+=e),0===t.strm.avail_in)break;if(n=zi(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Ni(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Ni(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ii&&0!==t.strm.avail_in)},Gi=(t,e)=>{let n,r,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&e!==fi||e===ci||n!==r+t.strm.avail_in))break;s=e===fi&&n===r+t.strm.avail_in?1:0,ii(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Ui(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(zi(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==ci&&e!==fi&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(zi(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=o||(r||e===fi)&&e!==ci&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=e===fi&&0===t.strm.avail_in&&n===r?1:0,ii(t,t.block_start,n,s),t.block_start+=n,Ui(t.strm)),s?3:1)},Fi=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ii){if(Di(t),t.lookahead<Ii&&e===ci)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Ni(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ii&&(t.match_length=Wi(t,n)),t.match_length>=3)if(r=si(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Ni(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ni(t,t.ins_h,t.window[t.strstart+1]);else r=si(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Li(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===fi?(Li(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Li(t,!1),0===t.strm.avail_out)?1:2},qi=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ii){if(Di(t),t.lookahead<Ii&&e===ci)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Ni(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ii&&(t.match_length=Wi(t,n),t.match_length<=5&&(t.strategy===wi||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=si(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Ni(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Li(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=si(t,0,t.window[t.strstart-1]),r&&Li(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=si(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===fi?(Li(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Li(t,!1),0===t.strm.avail_out)?1:2};function Ki(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const $i=[new Ki(0,0,0,0,Gi),new Ki(4,4,8,4,Fi),new Ki(4,5,16,8,Fi),new Ki(4,6,32,32,Fi),new Ki(4,4,16,16,qi),new Ki(8,16,32,32,qi),new Ki(8,16,128,128,qi),new Ki(8,32,128,256,qi),new Ki(32,128,258,1024,qi),new Ki(32,258,258,4096,qi)];function Hi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ei,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ci(this.dyn_ltree),Ci(this.dyn_dtree),Ci(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ci(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ci(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Zi=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ri&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Oi&&e.status!==Ti?1:0},Ji=t=>{if(Zi(t))return Pi(t,yi);t.total_in=t.total_out=0,t.data_type=Ai;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Ri:Oi,t.adler=2===e.wrap?0:1,e.last_flush=-2,ri(e),di},Xi=t=>{const e=Ji(t);return e===di&&((n=t.state).window_size=2*n.w_size,Ci(n.head),n.max_lazy_match=$i[n.level].max_lazy,n.good_match=$i[n.level].good_length,n.nice_match=$i[n.level].nice_length,n.max_chain_length=$i[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e;var n},Yi=(t,e,n,r,i,o)=>{if(!t)return yi;let s=1;if(e===bi&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==Ei||r<8||r>15||e<0||e>9||o<0||o>Si||8===r&&1!==s)return Pi(t,yi);8===r&&(r=9);const a=new Hi;return t.state=a,a.strm=t,a.status=Ri,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,Xi(t)};var Qi={deflateInit:(t,e)=>Yi(t,e,Ei,15,8,_i),deflateInit2:Yi,deflateReset:Xi,deflateResetKeep:Ji,deflateSetHeader:(t,e)=>Zi(t)||2!==t.state.wrap?yi:(t.state.gzhead=e,di),deflate:(t,e)=>{if(Zi(t)||e>hi||e<0)return t?Pi(t,yi):yi;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Ti&&e!==fi)return Pi(t,0===t.avail_out?mi:yi);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Ui(t),0===t.avail_out)return n.last_flush=-1,di}else if(0===t.avail_in&&Bi(e)<=Bi(r)&&e!==fi)return Pi(t,mi);if(n.status===Ti&&0!==t.avail_in)return Pi(t,mi);if(n.status===Ri&&0===n.wrap&&(n.status=Oi),n.status===Ri){let e=Ei+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=vi||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,Vi(n,e),0!==n.strstart&&(Vi(n,t.adler>>>16),Vi(n,65535&t.adler)),t.adler=1,n.status=Oi,Ui(t),0!==n.pending)return n.last_flush=-1,di}if(57===n.status)if(t.adler=0,ji(n,31),ji(n,139),ji(n,8),n.gzhead)ji(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ji(n,255&n.gzhead.time),ji(n,n.gzhead.time>>8&255),ji(n,n.gzhead.time>>16&255),ji(n,n.gzhead.time>>24&255),ji(n,9===n.level?2:n.strategy>=vi||n.level<2?4:0),ji(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ji(n,255&n.gzhead.extra.length),ji(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=ti(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(ji(n,0),ji(n,0),ji(n,0),ji(n,0),ji(n,0),ji(n,9===n.level?2:n.strategy>=vi||n.level<2?4:0),ji(n,3),n.status=Oi,Ui(t),0!==n.pending)return n.last_flush=-1,di;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=ti(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,Ui(t),0!==n.pending)return n.last_flush=-1,di;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=ti(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=ti(t.adler,n.pending_buf,n.pending-r,r)),Ui(t),0!==n.pending)return n.last_flush=-1,di;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ji(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=ti(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=ti(t.adler,n.pending_buf,n.pending-r,r)),Ui(t),0!==n.pending)return n.last_flush=-1,di;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ji(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=ti(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ui(t),0!==n.pending))return n.last_flush=-1,di;ji(n,255&t.adler),ji(n,t.adler>>8&255),t.adler=0}if(n.status=Oi,Ui(t),0!==n.pending)return n.last_flush=-1,di}if(0!==t.avail_in||0!==n.lookahead||e!==ci&&n.status!==Ti){let r=0===n.level?Gi(n,e):n.strategy===vi?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Di(t),0===t.lookahead)){if(e===ci)return 1;break}if(t.match_length=0,n=si(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Li(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===fi?(Li(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Li(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===ki?((t,e)=>{let n,r,i,o;const s=t.window;for(;;){if(t.lookahead<=xi){if(Di(t),t.lookahead<=xi&&e===ci)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+xi;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=xi-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=si(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=si(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Li(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===fi?(Li(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Li(t,!1),0===t.strm.avail_out)?1:2})(n,e):$i[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Ti),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),di;if(2===r&&(e===ui?ai(n):e!==hi&&(ii(n,0,0,!1),e===li&&(Ci(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Ui(t),0===t.avail_out))return n.last_flush=-1,di}return e!==fi?di:n.wrap<=0?pi:(2===n.wrap?(ji(n,255&t.adler),ji(n,t.adler>>8&255),ji(n,t.adler>>16&255),ji(n,t.adler>>24&255),ji(n,255&t.total_in),ji(n,t.total_in>>8&255),ji(n,t.total_in>>16&255),ji(n,t.total_in>>24&255)):(Vi(n,t.adler>>>16),Vi(n,65535&t.adler)),Ui(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?di:pi)},deflateEnd:t=>{if(Zi(t))return yi;const e=t.state.status;return t.state=null,e===Oi?Pi(t,gi):di},deflateSetDictionary:(t,e)=>{let n=e.length;if(Zi(t))return yi;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==Ri||r.lookahead)return yi;if(1===i&&(t.adler=Yr(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Ci(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Di(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=Ni(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Di(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,di},deflateInfo:"pako deflate (from Nodeca project)"};const to=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var eo={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)to(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n}};let no=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){no=!1}const ro=new Uint8Array(256);for(let t=0;t<256;t++)ro[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ro[254]=ro[254]=1;var io={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){o[i++]=e;continue}let s=ro[e];if(s>4)o[i++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&no)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+ro[t[n]]>e?n:e}},oo=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const so=Object.prototype.toString,{Z_NO_FLUSH:ao,Z_SYNC_FLUSH:co,Z_FULL_FLUSH:uo,Z_FINISH:lo,Z_OK:fo,Z_STREAM_END:ho,Z_DEFAULT_COMPRESSION:po,Z_DEFAULT_STRATEGY:yo,Z_DEFLATED:go}=ni;function mo(t){this.options=eo.assign({level:po,method:go,chunkSize:16384,windowBits:15,memLevel:8,strategy:yo},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;let n=Qi.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==fo)throw new Error(ei[n]);if(e.header&&Qi.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?io.string2buf(e.dictionary):"[object ArrayBuffer]"===so.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Qi.deflateSetDictionary(this.strm,t),n!==fo)throw new Error(ei[n]);this._dict_set=!0}}function bo(t,e){const n=new mo(e);if(n.push(t,!0),n.err)throw n.msg||ei[n.err];return n.result}mo.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?lo:ao,"string"==typeof t?n.input=io.string2buf(t):"[object ArrayBuffer]"===so.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===co||o===uo)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Qi.deflate(n,o),i===ho)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Qi.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===fo;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},mo.prototype.onData=function(t){this.chunks.push(t)},mo.prototype.onEnd=function(t){t===fo&&(this.result=eo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var wo={Deflate:mo,deflate:bo,deflateRaw:function(t,e){return(e=e||{}).raw=!0,bo(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,bo(t,e)},constants:ni};const vo=16209;var ko=function(t,e){let n,r,i,o,s,a,c,u,l,f,h,d,p,y,g,m,b,w,v,k,S,_,A,E;const x=t.state;n=t.next_in,A=t.input,r=n+(t.avail_in-5),i=t.next_out,E=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=x.dmax,c=x.wsize,u=x.whave,l=x.wnext,f=x.window,h=x.hold,d=x.bits,p=x.lencode,y=x.distcode,g=(1<<x.lenbits)-1,m=(1<<x.distbits)-1;t:do{d<15&&(h+=A[n++]<<d,d+=8,h+=A[n++]<<d,d+=8),b=p[h&g];e:for(;;){if(w=b>>>24,h>>>=w,d-=w,w=b>>>16&255,0===w)E[i++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue e}if(32&w){x.mode=16191;break t}t.msg="invalid literal/length code",x.mode=vo;break t}v=65535&b,w&=15,w&&(d<w&&(h+=A[n++]<<d,d+=8),v+=h&(1<<w)-1,h>>>=w,d-=w),d<15&&(h+=A[n++]<<d,d+=8,h+=A[n++]<<d,d+=8),b=y[h&m];n:for(;;){if(w=b>>>24,h>>>=w,d-=w,w=b>>>16&255,!(16&w)){if(0==(64&w)){b=y[(65535&b)+(h&(1<<w)-1)];continue n}t.msg="invalid distance code",x.mode=vo;break t}if(k=65535&b,w&=15,d<w&&(h+=A[n++]<<d,d+=8,d<w&&(h+=A[n++]<<d,d+=8)),k+=h&(1<<w)-1,k>a){t.msg="invalid distance too far back",x.mode=vo;break t}if(h>>>=w,d-=w,w=i-o,k>w){if(w=k-w,w>u&&x.sane){t.msg="invalid distance too far back",x.mode=vo;break t}if(S=0,_=f,0===l){if(S+=c-w,w<v){v-=w;do{E[i++]=f[S++]}while(--w);S=i-k,_=E}}else if(l<w){if(S+=c+l-w,w-=l,w<v){v-=w;do{E[i++]=f[S++]}while(--w);if(S=0,l<v){w=l,v-=w;do{E[i++]=f[S++]}while(--w);S=i-k,_=E}}}else if(S+=l-w,w<v){v-=w;do{E[i++]=f[S++]}while(--w);S=i-k,_=E}for(;v>2;)E[i++]=_[S++],E[i++]=_[S++],E[i++]=_[S++],v-=3;v&&(E[i++]=_[S++],v>1&&(E[i++]=_[S++]))}else{S=i-k;do{E[i++]=E[S++],E[i++]=E[S++],E[i++]=E[S++],v-=3}while(v>2);v&&(E[i++]=E[S++],v>1&&(E[i++]=E[S++]))}break}}break}}while(n<r&&i<s);v=d>>3,n-=v,d-=v<<3,h&=(1<<d)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),x.hold=h,x.bits=d};const So=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_o=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ao=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Eo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var xo=(t,e,n,r,i,o,s,a)=>{const c=a.bits;let u,l,f,h,d,p,y=0,g=0,m=0,b=0,w=0,v=0,k=0,S=0,_=0,A=0,E=null;const x=new Uint16Array(16),I=new Uint16Array(16);let R,O,T,P=null;for(y=0;y<=15;y++)x[y]=0;for(g=0;g<r;g++)x[e[n+g]]++;for(w=c,b=15;b>=1&&0===x[b];b--);if(w>b&&(w=b),0===b)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(m=1;m<b&&0===x[m];m++);for(w<m&&(w=m),S=1,y=1;y<=15;y++)if(S<<=1,S-=x[y],S<0)return-1;if(S>0&&(0===t||1!==b))return-1;for(I[1]=0,y=1;y<15;y++)I[y+1]=I[y]+x[y];for(g=0;g<r;g++)0!==e[n+g]&&(s[I[e[n+g]]++]=g);if(0===t?(E=P=s,p=20):1===t?(E=So,P=_o,p=257):(E=Ao,P=Eo,p=0),A=0,g=0,y=m,d=o,v=w,k=0,f=-1,_=1<<w,h=_-1,1===t&&_>852||2===t&&_>592)return 1;for(;;){R=y-k,s[g]+1<p?(O=0,T=s[g]):s[g]>=p?(O=P[s[g]-p],T=E[s[g]-p]):(O=96,T=0),u=1<<y-k,l=1<<v,m=l;do{l-=u,i[d+(A>>k)+l]=R<<24|O<<16|T|0}while(0!==l);for(u=1<<y-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,g++,0==--x[y]){if(y===b)break;y=e[n+s[g]]}if(y>w&&(A&h)!==f){for(0===k&&(k=w),d+=m,v=y-k,S=1<<v;v+k<b&&(S-=x[v+k],!(S<=0));)v++,S<<=1;if(_+=1<<v,1===t&&_>852||2===t&&_>592)return 1;f=A&h,i[f]=w<<24|v<<16|d-o|0}}return 0!==A&&(i[d+A]=y-k<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:Io,Z_BLOCK:Ro,Z_TREES:Oo,Z_OK:To,Z_STREAM_END:Po,Z_NEED_DICT:Bo,Z_STREAM_ERROR:Co,Z_DATA_ERROR:Mo,Z_MEM_ERROR:No,Z_BUF_ERROR:Uo,Z_DEFLATED:Lo}=ni,jo=16180,Vo=16190,zo=16191,Wo=16192,Do=16194,Go=16199,Fo=16200,qo=16206,Ko=16209,$o=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ho(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zo=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<jo||e.mode>16211?1:0},Jo=t=>{if(Zo(t))return Co;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=jo,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,To},Xo=t=>{if(Zo(t))return Co;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Jo(t)},Yo=(t,e)=>{let n;if(Zo(t))return Co;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Co:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Xo(t))},Qo=(t,e)=>{if(!t)return Co;const n=new Ho;t.state=n,n.strm=t,n.window=null,n.mode=jo;const r=Yo(t,e);return r!==To&&(t.state=null),r};let ts,es,ns=!0;const rs=t=>{if(ns){ts=new Int32Array(512),es=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xo(1,t.lens,0,288,ts,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xo(2,t.lens,0,32,es,0,t.work,{bits:5}),ns=!1}t.lencode=ts,t.lenbits=9,t.distcode=es,t.distbits=5},is=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var os={inflateReset:Xo,inflateReset2:Yo,inflateResetKeep:Jo,inflateInit:t=>Qo(t,15),inflateInit2:Qo,inflate:(t,e)=>{let n,r,i,o,s,a,c,u,l,f,h,d,p,y,g,m,b,w,v,k,S,_,A=0;const E=new Uint8Array(4);let x,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zo(t)||!t.output||!t.input&&0!==t.avail_in)return Co;n=t.state,n.mode===zo&&(n.mode=Wo),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,f=a,h=c,_=To;t:for(;;)switch(n.mode){case jo:if(0===n.wrap){n.mode=Wo;break}for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,E[0]=255&u,E[1]=u>>>8&255,n.check=ti(n.check,E,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ko;break}if((15&u)!==Lo){t.msg="unknown compression method",n.mode=Ko;break}if(u>>>=4,l-=4,S=8+(15&u),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){t.msg="invalid window size",n.mode=Ko;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&u?16189:zo,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==Lo){t.msg="unknown compression method",n.mode=Ko;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Ko;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=ti(n.check,E,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=ti(n.check,E,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=ti(n.check,E,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(E[0]=255&u,E[1]=u>>>8&255,n.check=ti(n.check,E,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(d=n.length,d>a&&(d=a),d&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+d),S)),512&n.flags&&4&n.wrap&&(n.check=ti(n.check,r,d,o)),a-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;d=0;do{S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&d<a);if(512&n.flags&&4&n.wrap&&(n.check=ti(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;d=0;do{S=r[o+d++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&d<a);if(512&n.flags&&4&n.wrap&&(n.check=ti(n.check,r,d,o)),a-=d,o+=d,S)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Ko;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=zo;break;case 16189:for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=$o(u),u=0,l=0,n.mode=Vo;case Vo:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,Bo;t.adler=n.check=1,n.mode=zo;case zo:if(e===Ro||e===Oo)break t;case Wo:if(n.last){u>>>=7&l,l-=7&l,n.mode=qo;break}for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(rs(n),n.mode=Go,e===Oo){u>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Ko}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ko;break}if(n.length=65535&u,u=0,l=0,n.mode=Do,e===Oo)break t;case Do:n.mode=16195;case 16195:if(d=n.length,d){if(d>a&&(d=a),d>c&&(d=c),0===d)break t;i.set(r.subarray(o,o+d),s),a-=d,o+=d,c-=d,s+=d,n.length-=d;break}n.mode=zo;break;case 16196:for(;l<14;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ko;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.lens[R[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},_=xo(0,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,_){t.msg="invalid code lengths set",n.mode=Ko;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[u&(1<<n.lenbits)-1],g=A>>>24,m=A>>>16&255,b=65535&A,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(b<16)u>>>=g,l-=g,n.lens[n.have++]=b;else{if(16===b){for(I=g+2;l<I;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(u>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=Ko;break}S=n.lens[n.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(I=g+3;l<I;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=g,l-=g,S=0,d=3+(7&u),u>>>=3,l-=3}else{for(I=g+7;l<I;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=g,l-=g,S=0,d=11+(127&u),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ko;break}for(;d--;)n.lens[n.have++]=S}}if(n.mode===Ko)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Ko;break}if(n.lenbits=9,x={bits:n.lenbits},_=xo(1,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,_){t.msg="invalid literal/lengths set",n.mode=Ko;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},_=xo(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,_){t.msg="invalid distances set",n.mode=Ko;break}if(n.mode=Go,e===Oo)break t;case Go:n.mode=Fo;case Fo:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,ko(t,h),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===zo&&(n.back=-1);break}for(n.back=0;A=n.lencode[u&(1<<n.lenbits)-1],g=A>>>24,m=A>>>16&255,b=65535&A,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(m&&0==(240&m)){for(w=g,v=m,k=b;A=n.lencode[k+((u&(1<<w+v)-1)>>w)],g=A>>>24,m=A>>>16&255,b=65535&A,!(w+g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,n.length=b,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=zo;break}if(64&m){t.msg="invalid literal/length code",n.mode=Ko;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;l<I;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;A=n.distcode[u&(1<<n.distbits)-1],g=A>>>24,m=A>>>16&255,b=65535&A,!(g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(0==(240&m)){for(w=g,v=m,k=b;A=n.distcode[k+((u&(1<<w+v)-1)>>w)],g=A>>>24,m=A>>>16&255,b=65535&A,!(w+g<=l);){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}u>>>=w,l-=w,n.back+=w}if(u>>>=g,l-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=Ko;break}n.offset=b,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;l<I;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ko;break}n.mode=16204;case 16204:if(0===c)break t;if(d=h-c,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ko;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),y=n.window}else y=i,p=s-n.offset,d=n.length;d>c&&(d=c),c-=d,n.length-=d;do{i[s++]=y[p++]}while(--d);0===n.length&&(n.mode=Fo);break;case 16205:if(0===c)break t;i[s++]=n.length,c--,n.mode=Fo;break;case qo:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=r[o++]<<l,l+=8}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?ti(n.check,i,h,s-h):Yr(n.check,i,h,s-h)),h=c,4&n.wrap&&(n.flags?u:$o(u))!==n.check){t.msg="incorrect data check",n.mode=Ko;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Ko;break}u=0,l=0}n.mode=16208;case 16208:_=Po;break t;case Ko:_=Mo;break t;case 16210:return No;default:return Co}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<Ko&&(n.mode<qo||e!==Io))&&is(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?ti(n.check,i,h,t.next_out-h):Yr(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===zo?128:0)+(n.mode===Go||n.mode===Do?256:0),(0===f&&0===h||e===Io)&&_===To&&(_=Uo),_},inflateEnd:t=>{if(Zo(t))return Co;let e=t.state;return e.window&&(e.window=null),t.state=null,To},inflateGetHeader:(t,e)=>{if(Zo(t))return Co;const n=t.state;return 0==(2&n.wrap)?Co:(n.head=e,e.done=!1,To)},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,o;return Zo(t)?Co:(r=t.state,0!==r.wrap&&r.mode!==Vo?Co:r.mode===Vo&&(i=1,i=Yr(i,e,n,0),i!==r.check)?Mo:(o=is(t,e,n,n),o?(r.mode=16210,No):(r.havedict=1,To)))},inflateInfo:"pako inflate (from Nodeca project)"},ss=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const as=Object.prototype.toString,{Z_NO_FLUSH:cs,Z_FINISH:us,Z_OK:ls,Z_STREAM_END:fs,Z_NEED_DICT:hs,Z_STREAM_ERROR:ds,Z_DATA_ERROR:ps,Z_MEM_ERROR:ys}=ni;function gs(t){this.options=eo.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oo,this.strm.avail_out=0;let n=os.inflateInit2(this.strm,e.windowBits);if(n!==ls)throw new Error(ei[n]);if(this.header=new ss,os.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=io.string2buf(e.dictionary):"[object ArrayBuffer]"===as.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=os.inflateSetDictionary(this.strm,e.dictionary),n!==ls)))throw new Error(ei[n])}function ms(t,e){const n=new gs(e);if(n.push(t),n.err)throw n.msg||ei[n.err];return n.result}gs.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?us:cs,"[object ArrayBuffer]"===as.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=os.inflate(n,s),o===hs&&i&&(o=os.inflateSetDictionary(n,i),o===ls?o=os.inflate(n,s):o===ps&&(o=hs));n.avail_in>0&&o===fs&&n.state.wrap>0&&0!==t[n.next_in];)os.inflateReset(n),o=os.inflate(n,s);switch(o){case ds:case ps:case hs:case ys:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===fs))if("string"===this.options.to){let t=io.utf8border(n.output,n.next_out),e=n.next_out-t,i=io.buf2string(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==ls||0!==a){if(o===fs)return o=os.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},gs.prototype.onData=function(t){this.chunks.push(t)},gs.prototype.onEnd=function(t){t===ls&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eo.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var bs={Inflate:gs,inflate:ms,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ms(t,e)},ungzip:ms,constants:ni};const{Deflate:ws,deflate:vs,deflateRaw:ks,gzip:Ss}=wo,{Inflate:_s,inflate:As,inflateRaw:Es,ungzip:xs}=bs;r(1312),r(2943);var Is=r(5872).Buffer,Rs=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?hr.Buffer.from([]):hr.Buffer.from(e.map((t=>parseInt(t,16))))}});function Os(t){return(new TextEncoder).encode(t)}var Ts=Object.freeze({__proto__:null,decode:function(t){return new TextDecoder("utf-8").decode(t)},encode:Os});function Ps(t){return at().encode(t)}var Bs=Object.freeze({__proto__:null,encode:Ps,decode:function(t){return at().decode(t)}});var Cs=Object.freeze({__proto__:null,encode:function(t){return pr.fromByteArray(t)},decode:function(t){return hr.Buffer.from(pr.toByteArray(t))}}),Ms=Object.freeze({__proto__:null,hex:Rs,utf8:Ts,bs58:Bs,base64:Cs});function Ns(t){return t instanceof dr.PublicKey?t:new dr.PublicKey(t)}class Us extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function Ls(t){return"object"==typeof t&&null!=t}function js(t){return"string"==typeof t?JSON.stringify(t):""+t}function Vs(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+js(r)+"`"}=t;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*zs(t,e,n,r){var i;Ls(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=Vs(i,e,n,r);t&&(yield t)}}function*Ws(t,e,n){void 0===n&&(n={});const{path:r=[],branch:i=[t],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&Ls(e.schema)&&Ls(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,l]of e.entries(t,a)){const e=Ws(u,l,{path:void 0===n?r:[...r,n],branch:void 0===n?i:[...i,u],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):Ls(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class Ds{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>zs(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>zs(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=qs(t,e);if(n[0])throw n[0]}(t,this)}create(t){return Gs(t,this)}is(t){return Fs(t,this)}mask(t){return function(t,e){const n=qs(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),qs(t,this,e)}}function Gs(t,e){const n=qs(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Fs(t,e){return!qs(t,e)[0]}function qs(t,e,n){void 0===n&&(n={});const r=Ws(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);return i[0]?[new Us(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function Ks(t,e){return new Ds({type:t,schema:null,validator:e})}function $s(t){return new Ds({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+js(t)})}function Hs(t){const e=js(t),n=typeof t;return new Ds({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+js(n)})}function Zs(t){return new Ds({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function Js(){return Ks("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+js(t)))}function Xs(t){return new Ds({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Ys(){return Ks("string",(t=>"string"==typeof t||"Expected a string, but received: "+js(t)))}function Qs(t){const e=Object.keys(t);return new Ds({type:"type",schema:t,*entries(n){if(Ls(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>Ls(t)||"Expected an object, but received: "+js(t)})}function ta(t){const e=t.map((t=>t.type)).join(" | ");return new Ds({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||ea()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=Ws(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+js(n),...i]}})}function ea(){return Ks("unknown",(()=>!0))}async function na(t,e,n){const r=null!=n?n:t.commitment;return(await t.getMultipleAccountsInfo(e,r)).map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}async function ra(t,e,n,r,i){n&&n.length>0&&e.sign(...n);const o=e._compile(),s=o.serialize(),a=e._serialize(s).toString("base64"),c={encoding:"base64",commitment:null!=r?r:t.commitment};if(i){const t=(Array.isArray(i)?i:o.nonProgramIds()).map((t=>t.toBase58()));c.accounts={encoding:"base64",addresses:t}}n&&(c.sigVerify=!0);const u=[a,c],l=Gs(await t._rpcRequest("simulateTransaction",u),sa);if("error"in l){let t;if("data"in l.error&&(t=l.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(l.error.message,n)}throw new dr.SendTransactionError("failed to simulate transaction: "+l.error.message,t)}return l.result}const ia=oa(ea());function oa(t){return ta([Qs({jsonrpc:Hs("2.0"),id:Ys(),result:t}),Qs({jsonrpc:Hs("2.0"),id:Ys(),error:Qs({code:ea(),message:Ys(),data:Xs(Ks("any",(()=>!0)))})})])}const sa=(ca=Qs({err:Zs(ta([Qs({}),Ys()])),logs:Zs($s(Ys())),accounts:Xs(Zs($s(Zs(Qs({executable:Ks("boolean",(t=>"boolean"==typeof t)),owner:Ys(),lamports:Js(),data:$s(Ys()),rentEpoch:Xs(Js())}))))),unitsConsumed:Xs(Js())}),function(t,e,n){return new Ds({...t,coercer:(r,i)=>Fs(r,e)?t.coercer(n(r),i):t.coercer(r,i)})}(oa(aa=Qs({context:Qs({slot:Js()}),value:ca})),ia,(t=>"error"in t?t:{...t,result:Gs(t.result,aa)})));var aa,ca,ua=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=Ns(t),r||(r=null===pa?la.local():pa);const i=new dr.Transaction;if(i.add(new dr.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(i,[])},getMultipleAccounts:async function(t,e,n){if(e.length<=99)return await na(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/99))).map(((e,n)=>t.slice(99*n,99*(n+1))))}(e);return(await Promise.all(r.map((e=>na(t,e,n))))).flat()}},simulateTransaction:ra});class la{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r;void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),(null!=e?e:[]).forEach((e=>{t.partialSign(e)}));const i=t.serialize();try{return await ha(this.connection,i,n)}catch(e){if(e instanceof da){const n=await this.connection.getTransaction(Ps(t.signature),{commitment:"confirmed"});if(n){const t=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw t?new dr.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{var e;let r=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=this.wallet.publicKey,r.recentBlockhash=n.blockhash,i.forEach((t=>{r.partialSign(t)})),r}));const i=await this.wallet.signAllTransactions(r),o=[];for(let t=0;t<r.length;t+=1){const n=i[t].serialize();o.push(await ha(this.connection,n,e))}return o}async simulate(t,e,n,r){t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,t=await this.wallet.signTransaction(t);const i=await ra(this.connection,t,e,n,r);if(i.value.err)throw new fa(i.value);return i.value}}class fa extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function ha(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new da(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class da extends Error{constructor(t){super(t)}}let pa=null;const ya=new Set(["anchor-deprecated-state","debug-logs"]),ga=new Map;var ma=Object.freeze({__proto__:null,set:function(t){if(!ya.has(t))throw new Error("Invalid feature");ga.set(t,!0)},isSet:function(t){return void 0!==ga.get(t)}});class ba extends Error{constructor(t){super(t),this.name="IdlError"}}class wa extends Error{constructor(t,e,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=wt.parse(r)}static parse(t){if(!t)return null;const n=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===n)return null;const r=t[n],i=[r];let o;if(n+1<t.length)if("Program log: Left:"===t[n+1]){const r=/^Program log: (.*)$/,o=r.exec(t[n+2])[1],s=r.exec(t[n+4])[1];new e(o),new e(s),i.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const e=/^Program log: (Left|Right): (.*)$/;e.exec(t[n+1])[2],e.exec(t[n+2])[2];i.push(...t.slice(n+1,n+3))}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,n,r]=s.slice(1,4),a={code:e,number:parseInt(n)};return new wa(a,r,i,t,void 0,o)}if(a){const[e,n,r,s,c]=a.slice(1,6),u={code:r,number:parseInt(s)},l={file:e,line:parseInt(n)};return new wa(u,c,i,t,l,o)}if(c){const[e,n,r,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(r)};return new wa(u,s,i,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class va extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=wt.parse(n))}static parse(t,e){const n=t.toString();let r;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;t[0].match(/([0-9]+)/g)[0]}try{parseInt(undefined)}catch(t){return null}let i=e.get(r);return void 0!==i?new va(r,i,t.logs):(St.get(r),void 0!==i?new va(r,i,t.logs):null)}get program(){return this._programErrorStack,void 0}get programErrorStack(){return this._programErrorStack,void 0}toString(){return this.msg}}new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has_one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"A state constraint was violated"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4e3,"The given state account does not have the correct address"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var ka=function(){return ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ka.apply(this,arguments)};function Sa(t){return t.toLowerCase()}var _a=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Aa=/[^A-Z0-9]+/gi;function Ea(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}class xa{static fieldLayout(t,e){const n=void 0!==t.name?gr()(t.name):void 0;switch(t.type){case"bool":return br.bool(n);case"u8":return br.u8(n);case"i8":return br.i8(n);case"u16":return br.u16(n);case"i16":return br.i16(n);case"u32":return br.u32(n);case"i32":return br.i32(n);case"f32":return br.f32(n);case"u64":return br.u64(n);case"i64":return br.i64(n);case"f64":return br.f64(n);case"u128":return br.u128(n);case"i128":return br.i128(n);case"bytes":return br.vecU8(n);case"string":return br.str(n);case"publicKey":return br.publicKey(n);default:if("vec"in t.type)return br.vec(xa.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return br.option(xa.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new ba("User defined types not provided");const i=e.filter((t=>t.name===r));if(1!==i.length)throw new ba(`Type not found: ${JSON.stringify(t)}`);return xa.typeDefLayout(i[0],e,n)}if("array"in t.type){let r=t.type.array[0],i=t.type.array[1],o=xa.fieldLayout({name:void 0,type:r},e);return br.array(o,i,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>xa.fieldLayout(t,e)));return br.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=gr()(t.name);if(void 0===t.fields)return br.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return xa.fieldLayout(t,e)}));return br.struct(r,n)}));return void 0!==n?br.rustEnum(r).replicate(n):br.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class Ia{constructor(t){this.idl=t,this.ixLayout=Ia.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=Oa("global",t.name);e.set(at().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=Oa("state",t.name);e.set(at().encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const r=hr.Buffer.alloc(1e3),i=gr()(e),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const s=o.encode(n,r),a=r.slice(0,s);return hr.Buffer.concat([Oa(t,e),a])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return xa.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=gr()(e.name);return[r,br.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return xa.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=gr()(e.name);return[r,br.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?hr.Buffer.from(t,"hex"):at().decode(t));let n=at().encode(t.slice(0,8)),r=t.slice(8);const i=this.sighashLayouts.get(n);return i?{data:i.layout.decode(r),name:i.name}:null}format(t,e){return Ra.format(t,e,this.idl)}}class Ra{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:Ra.formatIdlType(e.type),data:Ra.formatIdlData(e,t.data[e.name],n.types)}))),o=Ra.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Ra.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const i=r.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+Ra.formatIdlData(i,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=r[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Ra.formatIdlData(a,s,n)})).join(", "),a=gr()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Ra.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function Oa(t,e){var n;let r=`${t}:${void 0===n&&(n={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?_a:n,i=e.stripRegexp,o=void 0===i?Aa:i,s=e.transform,a=void 0===s?Sa:s,c=e.delimiter,u=void 0===c?" ":c,l=Ea(Ea(t,r,"$1\0$2"),o,"\0"),f=0,h=l.length;"\0"===l.charAt(f);)f++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(f,h).split("\0").map(a).join(u)}(t,ka({delimiter:"."},e))}(e,ka({delimiter:"_"},n))}`;return hr.Buffer.from(mr.sha256.digest(r)).slice(0,8)}function Ta(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Pa(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Pa(t,e.type))).reduce(((t,e)=>t+e),0)}function Pa(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Pa(t,e.option);if("coption"in e)return 4+Pa(t,e.coption);if("defined"in e){const i=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==i.length)throw new ba(`Type not found: ${JSON.stringify(e)}`);return Ta(t,i[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Pa(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}var Ba="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};class Ca{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Ma=Ca;class Na extends Ca{isCount(){throw new Error("ExternalLayout is abstract")}}class Ua extends Na{constructor(t,e,n){if(!(t instanceof Ca))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof La||this.layout instanceof ja}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class La extends Ca{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class ja extends Ca{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Va=Math.pow(2,32);function za(t){const e=Math.floor(t/Va);return{hi32:e,lo32:t-e*Va}}function Wa(t,e){return t*Va+e}class Da extends Ca{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Wa(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=za(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class Ga extends Ca{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Wa(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=za(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class Fa extends Ca{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Ca),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class qa{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ka extends qa{constructor(t,e){if(!(t instanceof Na&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class $a extends Ca{constructor(t,e,n){const r=t instanceof La||t instanceof ja;if(r)t=new Ka(new Ua(t));else if(t instanceof Na&&t.isCount())t=new Ka(t);else if(!(t instanceof qa))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Ca))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new Ha(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Is.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class Ha extends Ca{constructor(t,e,n,r){if(!(t instanceof $a))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Ca))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Za extends Ca{constructor(t,e){if(!(t instanceof Na&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Na||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Na&&(r=t.length),!Is.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+r+") Buffer as src"));var i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Na&&this.length.encode(r,e,n),r}}var Ja=(t,e,n)=>new Ua(t,e,n),Xa=t=>new La(1,t),Ya=t=>new La(4,t),Qa=t=>new Da(t),tc=t=>new Ga(t),ec=(t,e,n)=>new Fa(t,e,n),nc=(t,e,n)=>new $a(t,e,n),rc=(t,e)=>new Za(t,e);class ic{constructor(t){}encode(t,e){switch(gr()(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return ac({initializeMint:{decimals:t,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||dr.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return ac({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return ac({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return ac({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return ac({approve:{amount:t}})}(e);case"revoke":return ac({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return ac({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return ac({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return ac({burn:{amount:t}})}(e);case"closeAccount":return ac({closeAccount:{}});case"freezeAccount":return ac({freezeAccount:{}});case"thawAccount":return ac({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return ac({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return ac({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return ac({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return ac({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return ac({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return ac({syncNative:{}});case"initializeAccount3":return function({authority:t}){return ac({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return ac({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return ac({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const oc=nc(Xa("instruction"));function sc(t){return rc(32,t)}function ac(t){let e=Is.alloc(cc),n=oc.encode(t,e);return e.slice(0,n)}oc.addVariant(0,ec([Xa("decimals"),rc(32,"mintAuthority"),Xa("freezeAuthorityOption"),sc("freezeAuthority")]),"initializeMint"),oc.addVariant(1,ec([]),"initializeAccount"),oc.addVariant(2,ec([Xa("m")]),"initializeMultisig"),oc.addVariant(3,ec([Qa("amount")]),"transfer"),oc.addVariant(4,ec([Qa("amount")]),"approve"),oc.addVariant(5,ec([]),"revoke"),oc.addVariant(6,ec([Xa("authorityType"),Xa("newAuthorityOption"),sc("newAuthority")]),"setAuthority"),oc.addVariant(7,ec([Qa("amount")]),"mintTo"),oc.addVariant(8,ec([Qa("amount")]),"burn"),oc.addVariant(9,ec([]),"closeAccount"),oc.addVariant(10,ec([]),"freezeAccount"),oc.addVariant(11,ec([]),"thawAccount"),oc.addVariant(12,ec([Qa("amount"),Xa("decimals")]),"transferChecked"),oc.addVariant(13,ec([Qa("amount"),Xa("decimals")]),"approvedChecked"),oc.addVariant(14,ec([Qa("amount"),Xa("decimals")]),"mintToChecked"),oc.addVariant(15,ec([Qa("amount"),Xa("decimals")]),"burnedChecked"),oc.addVariant(16,ec([sc("authority")]),"InitializeAccount2"),oc.addVariant(17,ec([]),"syncNative"),oc.addVariant(18,ec([sc("authority")]),"initializeAccount3"),oc.addVariant(19,ec([Xa("m")]),"initializeMultisig2"),oc.addVariant(20,ec([Xa("decimals"),sc("mintAuthority"),Xa("freezeAuthorityOption"),sc("freezeAuthority")]),"initializeMint2");const cc=Math.max(...Object.values(oc.registry).map((t=>t.span)));class uc{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function lc(t){return new dc(rc(8),(t=>yc.fromBuffer(t)),(t=>t.toBuffer()),t)}function fc(t){return new dc(rc(32),(t=>new dr.PublicKey(t)),(t=>t.toBuffer()),t)}function hc(t,e){return new pc(t,e)}class dc extends Ma{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class pc extends Ma{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=Ya()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class yc extends(ot()){toBuffer(){const t=super.toArray().reverse(),e=Is.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=Is.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new yc([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class gc{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=Is.alloc(165),n=bc.encode(e,t);return t.slice(0,n)}case"mint":{const t=Is.alloc(82),n=mc.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return bc.decode(t)}(e);case"mint":return function(t){return mc.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=Ta(this.idl,t))&&void 0!==e?e:0}}const mc=ec([hc(fc(),"mintAuthority"),lc("supply"),Xa("decimals"),new dc(Xa(),(function(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}),(function(t){return t?1:0}),"isInitialized"),hc(fc(),"freezeAuthority")]),bc=ec([fc("mint"),fc("authority"),lc("amount"),hc(fc(),"delegate"),Xa("state"),hc(lc(),"isNative"),lc("delegatedAmount"),hc(fc(),"closeAuthority")]);class wc{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class vc{constructor(t){}encode(t,e){throw new Error("SPL token does not have user-defined types")}decode(t,e){throw new Error("SPL token does not have user-defined types")}}class kc{constructor(t){this.instruction=new ic(t),this.accounts=new gc(t),this.events=new wc(t),this.state=new uc(t),this.types=new vc(t)}}class Sc extends Ma{constructor(t){super(-1,t),this.property=t,this.layout=ec([Ya("length"),Ya("lengthPadding"),rc(Ja(Ya(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:Is.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return Ya().span+Ya().span+new(ot())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function _c(t){return new Sc(t)}function Ac(t){return rc(32,t)}const Ec=nc(Ya("instruction"));Ec.addVariant(0,ec([tc("lamports"),tc("space"),Ac("owner")]),"createAccount"),Ec.addVariant(1,ec([Ac("owner")]),"assign"),Ec.addVariant(2,ec([tc("lamports")]),"transfer"),Ec.addVariant(3,ec([Ac("base"),_c("seed"),tc("lamports"),tc("space"),Ac("owner")]),"createAccountWithSeed"),Ec.addVariant(4,ec([Ac("authorized")]),"advanceNonceAccount"),Ec.addVariant(5,ec([tc("lamports")]),"withdrawNonceAccount"),Ec.addVariant(6,ec([Ac("authorized")]),"initializeNonceAccount"),Ec.addVariant(7,ec([Ac("authorized")]),"authorizeNonceAccount"),Ec.addVariant(8,ec([tc("space")]),"allocate"),Ec.addVariant(9,ec([Ac("base"),_c("seed"),tc("space"),Ac("owner")]),"allocateWithSeed"),Ec.addVariant(10,ec([Ac("base"),_c("seed"),Ac("owner")]),"assignWithSeed"),Ec.addVariant(11,ec([tc("lamports"),_c("seed"),Ac("owner")]),"transferWithSeed"),Math.max(...Object.values(Ec.registry).map((t=>t.span)));class xc extends Ma{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function Ic(t){return new xc(rc(32),(t=>new dr.PublicKey(t)),(t=>t.toBuffer()),t)}ec([Ya("version"),Ya("state"),Ic("authorizedPubkey"),Ic("nonce"),ec([Qa("lamportsPerSignature")],"feeCalculator")]);var Rc=Object.freeze({__proto__:null,hash:function(t){return(0,mr.sha256)(t)}});function Oc(t,e){let n=hr.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");n=hr.Buffer.concat([n,Tc(t)])})),n=hr.Buffer.concat([n,e.toBuffer(),hr.Buffer.from("ProgramDerivedAddress")]);let r=(0,mr.sha256)(new Uint8Array(n)),i=new(ot())(r,16).toArray(void 0,32);if(dr.PublicKey.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new dr.PublicKey(i)}const Tc=t=>t instanceof hr.Buffer?t:t instanceof Uint8Array?hr.Buffer.from(t.buffer,t.byteOffset,t.byteLength):hr.Buffer.from(t);var Pc=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,n){const r=hr.Buffer.concat([t.toBuffer(),hr.Buffer.from(e),n.toBuffer()]),i=mr.sha256.digest(r);return new dr.PublicKey(hr.Buffer.from(i))},createProgramAddressSync:Oc,findProgramAddressSync:function(t,e){let n,r=255;for(;0!=r;){try{n=Oc(t.concat(hr.Buffer.from([r])),e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")},associated:async function(t,...e){let n=[hr.Buffer.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof hr.Buffer?t:Ns(t).toBuffer())}));const[r]=await dr.PublicKey.findProgramAddress(n,Ns(t));return r}});const Bc=new dr.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Cc=new dr.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Mc=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Bc,ASSOCIATED_PROGRAM_ID:Cc,associatedAddress:async function({mint:t,owner:e}){return(await dr.PublicKey.findProgramAddress([e.toBuffer(),Bc.toBuffer(),t.toBuffer()],Cc))[0]}}),Nc={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Ba,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function y(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=l(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];k.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(t,n){return new Promise((function(r,o){var s=new w(t,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new k(i,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=h,t.Request=w,t.Response=k),e.Headers=h,e.Request=w,e.Response=k,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Nc,Nc.exports);var Uc=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Nc.exports);async function Lc(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Vc(n.data),i=await t.getAccountInfo(r.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Vc(i.data);return o}const jc=br.rustEnum([br.struct([],"uninitialized"),br.struct([br.option(br.publicKey(),"authorityAddress")],"buffer"),br.struct([br.publicKey("programdataAddress")],"program"),br.struct([br.u64("slot"),br.option(br.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,br.u32());function Vc(t){return jc.decode(t)}var zc=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[i,o]=await Promise.all([Lc(t,e),Uc(r)]),s=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Lc,decodeUpgradeableLoaderState:Vc}),Wc=Object.freeze({__proto__:null,sha256:Rc,rpc:ua,publicKey:Pc,bytes:Ms,token:Mc,features:ma,registry:zc});br.struct([br.publicKey("authority"),br.vecU8("data")]),new Map,new dr.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");const Dc={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Gc{constructor(t,e,n,r,i,o){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._accountStore=new Fc(n,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=gr()(e.name);if(!e.isSigner||this._accounts[n])Reflect.has(Gc.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=Gc.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=gr()(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]&&await this.autoPopulatePda(e)}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[r]=await dr.PublicKey.findProgramAddress(e,n);this._accounts[gr()(t.name)]=r}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new dr.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=gr()(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[gr()(n)];if(1===e.length)return r;const i=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[gr()(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Is.from([e]);case"u16":let n=Is.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=Is.alloc(4);return r.writeUInt32LE(e),r;case"u64":let i=Is.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return Is.from(Os(e));case"publicKey":return e.toBuffer();default:if(t.array)return Is.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}Gc.CONST_ACCOUNTS={associatedTokenProgram:Cc,rent:dr.SYSVAR_RENT_PUBKEY,systemProgram:dr.SystemProgram.programId,tokenProgram:Bc};class Fc{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=new kc(Dc).accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[gr()(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}new dr.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new dr.PublicKey("11111111111111111111111111111111");for(var qc=r(5872).Buffer,Kc={},$c={byteLength:function(t){var e=Qc(t),n=e[0],r=e[1];return 3*(n+r)/4-r},toByteArray:function(t){var e,n,r=Qc(t),i=r[0],o=r[1],s=new Jc(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)e=Zc[t.charCodeAt(n)]<<18|Zc[t.charCodeAt(n+1)]<<12|Zc[t.charCodeAt(n+2)]<<6|Zc[t.charCodeAt(n+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===o&&(e=Zc[t.charCodeAt(n)]<<2|Zc[t.charCodeAt(n+1)]>>4,s[a++]=255&e),1===o&&(e=Zc[t.charCodeAt(n)]<<10|Zc[t.charCodeAt(n+1)]<<4|Zc[t.charCodeAt(n+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(t){for(var e,n=t.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(tu(t,s,s+o>a?a:s+o));return 1===r?(e=t[n-1],i.push(Hc[e>>2]+Hc[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(Hc[e>>10]+Hc[e>>4&63]+Hc[e<<2&63]+"=")),i.join("")}},Hc=[],Zc=[],Jc="undefined"!=typeof Uint8Array?Uint8Array:Array,Xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yc=0;Yc<64;++Yc)Hc[Yc]=Xc[Yc],Zc[Xc.charCodeAt(Yc)]=Yc;function Qc(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function tu(t,e,n){for(var r,i,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(Hc[(i=r)>>18&63]+Hc[i>>12&63]+Hc[i>>6&63]+Hc[63&i]);return o.join("")}Zc["-".charCodeAt(0)]=62,Zc["_".charCodeAt(0)]=63;var eu={read:function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},write:function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*y}};!function(t){const e=$c,n=eu,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},t.INSPECT_MAX_BYTES=50;const i=2147483647;function o(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return a(t,e,n)}function a(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|d(t,e);let r=o(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if($(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($(t,ArrayBuffer)||t&&$(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&($(t,SharedArrayBuffer)||t&&$(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return s.from(r,e,n);const i=function(t){if(s.isBuffer(t)){const e=0|h(t.length),n=o(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||H(t.length)?o(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return c(t),o(t<0?0:0|h(t))}function l(t){const e=t.length<0?0:0|h(t.length),n=o(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,s.prototype),r}function h(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function d(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return r?-1:F(t).length;e=(""+e).toLowerCase(),i=!0}}function p(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),H(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(H(r))return s;t[n+s]=r}return s}function w(t,e,n,r){return K(F(e,t.length-n),t,n,r)}function v(t,e,n,r){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return K(q(e),t,n,r)}function S(t,e,n,r){return K(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function _(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function A(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=E));return n}(r)}t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},s.allocUnsafe=function(t){return u(t)},s.allocUnsafeSlow=function(t){return u(t)},s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if($(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),$(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=s.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if($(e,Uint8Array))i+e.length>r.length?(s.isBuffer(e)||(e=s.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!s.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},s.byteLength=d,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},s.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(t,e,n,r,i){if($(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0);const c=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<c;++t)if(u[t]!==l[t]){o=u[t],a=l[t];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},s.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":case"latin1":case"binary":return v(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function x(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Z[t[r]];return i}function O(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r,i){z(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function C(t,e,n,r,i){z(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,r,i,o){return e=+e,r>>>=0,o||M(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function U(t,e,r,i,o){return e=+e,r>>>=0,o||M(t,0,r,8),n.write(t,e,r,i,52,8),r+8}s.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||T(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=J((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||D(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),s.prototype.readBigUInt64BE=J((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||D(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),s.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||T(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return t>>>=0,e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||T(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){t>>>=0,e||T(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=J((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||D(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),s.prototype.readBigInt64BE=J((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||D(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),s.prototype.readFloatLE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||T(t,4,this.length),n.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||T(t,8,this.length),n.read(this,t,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigUInt64LE=J((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=J((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeBigInt64LE=J((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=J((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=s.isBuffer(t)?t:s.from(t,r),a=o.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%a]}return this};const L={};function j(t,e,n){L[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function z(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new L.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||D(e,t.length-(n+1))}(r,i,o)}function W(t,e){if("number"!=typeof t)throw new L.ERR_INVALID_ARG_TYPE(e,"number",t)}function D(t,e,n){if(Math.floor(t)!==t)throw W(t,n),new L.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function F(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return e.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function $(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function J(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}}(Kc);const nu=new Re("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Re("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ru=new Re("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Re("So11111111111111111111111111111111111111112"),new Re("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var iu={};Object.defineProperty(iu,"__esModule",{value:!0});var ou=iu.s16=iu.s8=iu.nu64be=iu.u48be=iu.u40be=iu.u32be=iu.u24be=iu.u16be=iu.nu64=iu.u48=iu.u40=qu=iu.u32=iu.u24=Fu=iu.u16=Gu=iu.u8=iu.offset=iu.greedy=iu.Constant=iu.UTF8=iu.CString=iu.Blob=iu.Boolean=iu.BitField=iu.BitStructure=iu.VariantLayout=iu.Union=iu.UnionLayoutDiscriminator=iu.UnionDiscriminator=iu.Structure=iu.Sequence=iu.DoubleBE=iu.Double=iu.FloatBE=iu.Float=iu.NearInt64BE=iu.NearInt64=iu.NearUInt64BE=iu.NearUInt64=iu.IntBE=iu.Int=iu.UIntBE=iu.UInt=iu.OffsetLayout=iu.GreedyCount=iu.ExternalLayout=iu.bindConstructorLayout=iu.nameWithProperty=iu.Layout=iu.uint8ArrayToBuffer=iu.checkUint8Array=void 0;iu.constant=iu.utf8=iu.cstr=Hu=iu.blob=iu.unionLayoutDiscriminator=iu.union=iu.seq=iu.bits=$u=iu.struct=iu.f64be=iu.f64=iu.f32be=iu.f32=iu.ns64be=iu.s48be=iu.s40be=iu.s32be=iu.s24be=iu.s16be=Ku=iu.ns64=iu.s48=iu.s40=iu.s32=iu.s24=void 0;const su=Kc;function au(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function cu(t){return au(t),su.Buffer.from(t.buffer,t.byteOffset,t.length)}iu.checkUint8Array=au,iu.uint8ArrayToBuffer=cu;class uu{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function lu(t,e){return e.property?t+"["+e.property+"]":t}iu.Layout=uu,iu.nameWithProperty=lu,iu.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof uu))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:(t,n)=>e.decode(t,n),writable:!0})};class fu extends uu{isCount(){throw new Error("ExternalLayout is abstract")}}iu.ExternalLayout=fu;class hu extends fu{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){au(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}iu.GreedyCount=hu;class du extends fu{constructor(t,e=0,n){if(!(t instanceof uu))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof pu||this.layout instanceof yu}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}iu.OffsetLayout=du;class pu extends uu{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return cu(t).readUIntLE(e,this.span)}encode(t,e,n=0){return cu(e).writeUIntLE(t,n,this.span),this.span}}iu.UInt=pu;class yu extends uu{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return cu(t).readUIntBE(e,this.span)}encode(t,e,n=0){return cu(e).writeUIntBE(t,n,this.span),this.span}}iu.UIntBE=yu;class gu extends uu{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return cu(t).readIntLE(e,this.span)}encode(t,e,n=0){return cu(e).writeIntLE(t,n,this.span),this.span}}iu.Int=gu;class mu extends uu{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return cu(t).readIntBE(e,this.span)}encode(t,e,n=0){return cu(e).writeIntBE(t,n,this.span),this.span}}iu.IntBE=mu;const bu=Math.pow(2,32);function wu(t){const e=Math.floor(t/bu);return{hi32:e,lo32:t-e*bu}}function vu(t,e){return t*bu+e}class ku extends uu{constructor(t){super(8,t)}decode(t,e=0){const n=cu(t),r=n.readUInt32LE(e);return vu(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=wu(t),i=cu(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}iu.NearUInt64=ku;class Su extends uu{constructor(t){super(8,t)}decode(t,e=0){const n=cu(t);return vu(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=wu(t),i=cu(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}iu.NearUInt64BE=Su;class _u extends uu{constructor(t){super(8,t)}decode(t,e=0){const n=cu(t),r=n.readUInt32LE(e);return vu(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=wu(t),i=cu(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}iu.NearInt64=_u;class Au extends uu{constructor(t){super(8,t)}decode(t,e=0){const n=cu(t);return vu(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=wu(t),i=cu(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}iu.NearInt64BE=Au;class Eu extends uu{constructor(t){super(4,t)}decode(t,e=0){return cu(t).readFloatLE(e)}encode(t,e,n=0){return cu(e).writeFloatLE(t,n),4}}iu.Float=Eu;class xu extends uu{constructor(t){super(4,t)}decode(t,e=0){return cu(t).readFloatBE(e)}encode(t,e,n=0){return cu(e).writeFloatBE(t,n),4}}iu.FloatBE=xu;class Iu extends uu{constructor(t){super(8,t)}decode(t,e=0){return cu(t).readDoubleLE(e)}encode(t,e,n=0){return cu(e).writeDoubleLE(t,n),8}}iu.Double=Iu;class Ru extends uu{constructor(t){super(8,t)}decode(t,e=0){return cu(t).readDoubleBE(e)}encode(t,e,n=0){return cu(e).writeDoubleBE(t,n),8}}iu.DoubleBE=Ru;class Ou extends uu{constructor(t,e,n){if(!(t instanceof uu))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof fu&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof fu)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof fu&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof fu&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof fu&&this.count.encode(t.length,e,n),i}}iu.Sequence=Ou;class Tu extends uu{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof uu),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e=0){au(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}iu.Structure=Tu;class Pu{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}iu.UnionDiscriminator=Pu;class Bu extends Pu{constructor(t,e){if(!(t instanceof fu&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}iu.UnionLayoutDiscriminator=Bu;class Cu extends uu{constructor(t,e,n){let r;if(t instanceof pu||t instanceof yu)r=new Bu(new du(t));else if(t instanceof fu&&t.isCount())r=new Bu(t);else{if(!(t instanceof Pu))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=t}if(void 0===e&&(e=null),!(null===e||e instanceof uu))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof pu||t instanceof yu)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=t instanceof pu||t instanceof yu,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=o.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new Mu(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}iu.Union=Cu;class Mu extends uu{constructor(t,e,n,r){if(!(t instanceof Cu))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof uu))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function Nu(t){return 0>t&&(t+=4294967296),t}iu.VariantLayout=Mu;class Uu extends uu{constructor(t,e,n){if(!(t instanceof pu||t instanceof yu))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=Nu(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const e of this.fields)void 0!==e.property&&(n[e.property]=e.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Lu(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new ju(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}iu.BitStructure=Uu;class Lu{constructor(t,e,n){if(!(t instanceof Uu))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=Nu(this.valueMask<<this.start),this.property=n}decode(t,e){return Nu(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==Nu(t&this.valueMask))throw new TypeError(lu("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Nu(t<<this.start);this.container._packedSetValue(Nu(e&~this.wordMask)|n)}}iu.BitField=Lu;class ju extends Lu{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}iu.Boolean=ju;class Vu extends uu{constructor(t,e){if(!(t instanceof fu&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof fu||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),cu(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof fu&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(lu("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=cu(t);return cu(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof fu&&this.length.encode(r,e,n),r}}iu.Blob=Vu;class zu extends uu{constructor(t){super(-1,t)}getSpan(t,e=0){au(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return cu(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const r=su.Buffer.from(t,"utf8"),i=r.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const o=cu(e);return r.copy(o,n),o[n+i]=0,i+1}}iu.CString=zu;class Wu extends uu{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return au(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return cu(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const r=su.Buffer.from(t,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(cu(e),n),i}}iu.UTF8=Wu;class Du extends uu{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}iu.Constant=Du,iu.greedy=(t,e)=>new hu(t,e),iu.offset=(t,e,n)=>new du(t,e,n);var Gu=iu.u8=t=>new pu(1,t),Fu=iu.u16=t=>new pu(2,t);iu.u24=t=>new pu(3,t);var qu=iu.u32=t=>new pu(4,t);iu.u40=t=>new pu(5,t),iu.u48=t=>new pu(6,t),iu.nu64=t=>new ku(t),iu.u16be=t=>new yu(2,t),iu.u24be=t=>new yu(3,t),iu.u32be=t=>new yu(4,t),iu.u40be=t=>new yu(5,t),iu.u48be=t=>new yu(6,t),iu.nu64be=t=>new Su(t),iu.s8=t=>new gu(1,t),ou=iu.s16=t=>new gu(2,t),iu.s24=t=>new gu(3,t),iu.s32=t=>new gu(4,t),iu.s40=t=>new gu(5,t),iu.s48=t=>new gu(6,t);var Ku=iu.ns64=t=>new _u(t);iu.s16be=t=>new mu(2,t),iu.s24be=t=>new mu(3,t),iu.s32be=t=>new mu(4,t),iu.s40be=t=>new mu(5,t),iu.s48be=t=>new mu(6,t),iu.ns64be=t=>new Au(t),iu.f32=t=>new Eu(t),iu.f32be=t=>new xu(t),iu.f64=t=>new Iu(t),iu.f64be=t=>new Ru(t);var $u=iu.struct=(t,e,n)=>new Tu(t,e,n);iu.bits=(t,e,n)=>new Uu(t,e,n),iu.seq=(t,e,n)=>new Ou(t,e,n),iu.union=(t,e,n)=>new Cu(t,e,n),iu.unionLayoutDiscriminator=(t,e)=>new Bu(t,e);var Hu=iu.blob=(t,e)=>new Vu(t,e);iu.cstr=t=>new zu(t),iu.utf8=(t,e)=>new Wu(t,e),iu.constant=(t,e)=>new Du(t,e);const Zu=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)});var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});var Xu=Ju.toBigIntLE=function(t){{const e=qc.from(t);e.reverse();const n=e.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}};Ju.toBigIntBE=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}};var Yu=Ju.toBufferLE=function(t,e){{const n=t.toString(16),r=qc.from(n.padStart(2*e,"0").slice(0,2*e),"hex");return r.reverse(),r}};Ju.toBufferBE=function(t,e){{const n=t.toString(16);return qc.from(n.padStart(2*e,"0").slice(0,2*e),"hex")}};const Qu=t=>{const e=Hu(8,t),{encode:n,decode:r}=Zu(e),i=e;return i.decode=(t,e)=>{const n=r(t,e);return Xu(qc.from(n))},i.encode=(t,e,r)=>{const i=Yu(t,8);return n(i,e,r)},i},tl=t=>{const e=Gu(t),{encode:n,decode:r}=Zu(e),i=e;return i.decode=(t,e)=>!!r(t,e),i.encode=(t,e,r)=>{const i=Number(t);return n(i,e,r)},i},el=t=>{const e=Hu(32,t),{encode:n,decode:r}=Zu(e),i=e;return i.decode=(t,e)=>{const n=r(t,e);return new Re(n)},i.encode=(t,e,r)=>{const i=t.toBuffer();return n(i,e,r)},i};class nl extends Error{constructor(t){super(t)}}class rl extends nl{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class il extends nl{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class ol extends nl{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class sl extends nl{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}var al;!function(t){t[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate"}(al||(al={})),$u([Gu("instruction"),Qu("amount")]);const cl=$u([Gu("instruction"),Qu("amount")]),ul=$u([Gu("instruction"),Qu("amount"),Gu("decimals")]),ll=$u([Gu("instruction"),Qu("amount")]),fl=$u([Gu("instruction"),Qu("amount"),Gu("decimals")]),hl=$u([Gu("instruction")]);var dl,pl,yl,gl,ml,bl,wl;function vl(t){return $u([Qu("epoch"),Qu("maximumFee"),Fu("transferFeeBasisPoints")],t)}!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"}(dl||(dl={})),$u([Gu("m"),Gu("n"),tl("isInitialized"),el("signer1"),el("signer2"),el("signer3"),el("signer4"),el("signer5"),el("signer6"),el("signer7"),el("signer8"),el("signer9"),el("signer10"),el("signer11")]).span,function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"}(pl||(pl={})),$u([el("mint"),el("owner"),Qu("amount"),qu("delegateOption"),el("delegate"),Gu("state"),qu("isNativeOption"),Qu("isNative"),Qu("delegatedAmount"),qu("closeAuthorityOption"),el("closeAuthority")]).span,$u([qu("mintAuthorityOption"),el("mintAuthority"),Qu("supply"),Gu("decimals"),tl("isInitialized"),qu("freezeAuthorityOption"),el("freezeAuthority")]).span,function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"}(yl||(yl={})),$u([Gu("instruction"),Gu("cpiGuardInstruction")]),$u([tl("lockCpi")]).span,function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"}(gl||(gl={})),$u([Gu("instruction"),Gu("defaultAccountStateInstruction"),Gu("accountState")]),$u([Gu("state")]).span,$u([]).span,$u([el("rateAuthority"),Ku("initializationTimestamp"),ou("preUpdateAverageRate"),Ku("lastUpdateTimestamp"),ou("currentRate")]).span,function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"}(ml||(ml={})),$u([Gu("instruction"),Gu("memoTransferInstruction")]),$u([tl("requireIncomingTransferMemos")]).span,$u([el("closeAuthority")]).span,$u([]).span,$u([el("delegate")]).span,function(t){t[t.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",t[t.TransferCheckedWithFee=1]="TransferCheckedWithFee",t[t.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",t[t.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",t[t.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",t[t.SetTransferFee=5]="SetTransferFee"}(bl||(bl={})),$u([Gu("instruction"),Gu("transferFeeInstruction"),Gu("transferFeeConfigAuthorityOption"),el("transferFeeConfigAuthority"),Gu("withdrawWithheldAuthorityOption"),el("withdrawWithheldAuthority"),Fu("transferFeeBasisPoints"),Qu("maximumFee")]),$u([Gu("instruction"),Gu("transferFeeInstruction"),Qu("amount"),Gu("decimals"),Qu("fee")]),$u([Gu("instruction"),Gu("transferFeeInstruction")]),$u([Gu("instruction"),Gu("transferFeeInstruction"),Gu("numTokenAccounts")]),$u([Gu("instruction"),Gu("transferFeeInstruction")]),$u([el("transferFeeConfigAuthority"),el("withdrawWithheldAuthority"),Qu("withheldAmount"),vl("olderTransferFee"),vl("newerTransferFee")]).span,$u([Qu("withheldAmount")]).span,function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate"}(wl||(wl={}));const kl=$u([Gu("instruction")]);$u([Gu("instruction"),Gu("decimals"),el("mintAuthority"),Gu("freezeAuthorityOption"),el("freezeAuthority")]);const Sl=$u([Gu("instruction"),Gu("m")]);$u([Gu("instruction")]),$u([Gu("instruction")]);const _l=$u([Gu("instruction")]),Al=$u([Gu("instruction"),Qu("amount")]),El=$u([Gu("instruction"),Qu("amount"),Gu("decimals")]),xl=$u([Gu("instruction")]);var Il;!function(t){t[t.MintTokens=0]="MintTokens",t[t.FreezeAccount=1]="FreezeAccount",t[t.AccountOwner=2]="AccountOwner",t[t.CloseAccount=3]="CloseAccount"}(Il||(Il={}));const Rl=$u([Gu("instruction"),Gu("authorityType"),Gu("newAuthorityOption"),el("newAuthority")]),Ol=$u([Gu("instruction")]),Tl=$u([Gu("instruction"),Qu("amount")]),Pl=$u([Gu("instruction"),Qu("amount"),Gu("decimals")]),Bl=$u([Gu("instruction"),Gu("decimals"),el("mintAuthority"),Gu("freezeAuthorityOption"),el("freezeAuthority")]);function Cl({programId:t,keys:[e,n],data:r}){const{instruction:i,decimals:o,mintAuthority:s,freezeAuthorityOption:a,freezeAuthority:c}=Bl.decode(r);return{programId:t,keys:{mint:e,rent:n},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a?c:null}}}var Ml;function Nl(t){const e=t.startsWith("0x")?t.slice(2):t;return qc.from(e)}function Ul(t,e){const n="legacy"===t.version?t.accountKeys:t.staticAccountKeys,r=t.header.numReadonlySignedAccounts,i=t.header.numReadonlyUnsignedAccounts,o=t.header.numRequiredSignatures,s=n.length;let a=n.map(((t,e)=>({isSigner:e<o,isWritable:e<o-r||e>=o&&e<s-i,pubkey:new Re(t)})));const[c,u]="legacy"===t.version?[[],[]]:e?[e.writable,e.readonly]:[[],[]];return c&&(a=[...a,...c.map((t=>({isSigner:!1,isWritable:!0,pubkey:t})))]),u&&(a=[...a,...u.map((t=>({isSigner:!1,isWritable:!1,pubkey:t})))]),a}function Ll(t,e){if("string"==typeof t.data){const n=t;return new Ge({data:Wc.bytes.bs58.decode(n.data),programId:e[n.programIdIndex].pubkey,keys:n.accounts.map((t=>e[t]))})}{const n=t;return new Ge({data:qc.from(n.data),programId:e[n.programIdIndex].pubkey,keys:n.accountKeyIndexes.map((t=>{if(t>=e.length)throw new Error(`Trying to resolve account at index ${t} while parsedAccounts is only ${e.length}. \t\t\t\t\t\tLooks like you're trying to parse versioned transaction, make sure that LoadedAddresses are passed to the \t\t\t\t\t\tparseTransactionAccounts function`);return e[t]}))})}}function jl(t,e){const n=e.map((t=>({pk:t.pubkey.toString(),...t})));return t.map((t=>{const e=t.toString(),r=n.find((t=>t.pk===e));if(!r)throw new Error(`Account ${e} not present in account meta!`);return r}))}function Vl(t,e){return new Ge({data:Wc.bytes.bs58.decode(t.data),programId:t.programId,keys:jl(t.accounts,e)})}function zl(t){var e,n,r;const i=[];if(null==t)return[];const o=t.transaction.message.compiledInstructions,s=Ul(t.transaction.message,null===(e=t.meta)||void 0===e?void 0:e.loadedAddresses),a=((null===(n=null==t?void 0:t.meta)||void 0===n?void 0:n.innerInstructions)||[]).sort(((t,e)=>t.index-e.index)),c=((null===(r=t.meta)||void 0===r?void 0:r.innerInstructions)||[]).reduce(((t,e)=>t+e.instructions.length),0)+o.length;let u=-1,l=-1;for(const t of a){for(;u!==t.index;)u+=1,l+=1,i.push(Ll(o[u],s));for(const e of t.instructions)i.push(Ll(e,s)),l+=1}for(;l<c-1;)u+=1,l+=1,i.push(Ll(o[u],s));return i}function Wl(t,e,n,r){return{logMessages:[],dataLogs:[],rawLogs:[],errors:[],programId:t,depth:e,id:n,instructionIndex:r}}function Dl(t){const e=/(?<logTruncated>^Log truncated$)|(?<programInvoke>^Program (?<invokeProgramId>[1-9A-HJ-NP-Za-km-z]{32,}) invoke \[(?<level>\d+)\]$)|(?<programSuccessResult>^Program (?<successResultProgramId>[1-9A-HJ-NP-Za-km-z]{32,}) success$)|(?<programFailedResult>^Program (?<failedResultProgramId>[1-9A-HJ-NP-Za-km-z]{32,}) failed: (?<failedResultErr>.*)$)|(?<programCompleteFailedResult>^Program failed to complete: (?<failedCompleteError>.*)$)|(?<programLog>^^Program log: (?<logMessage>.*)$)|(?<programData>^Program data: (?<data>.*)$)|(?<programConsumed>^Program (?<consumedProgramId>[1-9A-HJ-NP-Za-km-z]{32,}) consumed (?<consumedComputeUnits>\d*) of (?<allComputedUnits>\d*) compute units$)|(?<programReturn>^Program return: (?<returnProgramId>[1-9A-HJ-NP-Za-km-z]{32,}) (?<returnMessage>.*)$)/s,n=[];let r=-1,i=0,o=0;const s=[],a=[];for(const c of t){const t=e.exec(c);if(!t||!t.groups)throw new Error(`Failed to parse log line: ${c}`);if(t.groups.logTruncated)n[a[a.length-1]].invokeResult="Log truncated";else if(t.groups.programInvoke){if(s.push(t.groups.invokeProgramId),r+=1,o+=1,a.push(r),t.groups.level!=o.toString())throw new Error(`invoke depth mismatch, log: ${t.groups.level}, expected: ${o}`);n.push(Wl(s[s.length-1],s.length,r,i)),n[n.length-1].rawLogs.push(c)}else if(t.groups.programSuccessResult){const e=s.pop(),r=a.pop();if(void 0===r)throw new Error("callIds malformed");if(e!=t.groups.successResultProgramId)throw new Error("[ProramSuccess] callstack mismatch");n[r].rawLogs.push(c),o-=1,0===o&&(i+=1)}else if(t.groups.programFailedResult){if(s.pop()!=t.groups.failedResultProgramId)throw new Error("[ProgramFailed] callstack mismatch");n[a[a.length-1]].rawLogs.push(c),n[a[a.length-1]].errors.push(t.groups.failedResultErr)}else if(t.groups.programCompleteFailedResult)n[a[a.length-1]].rawLogs.push(c),n[a[a.length-1]].errors.push(t.groups.failedCompleteError);else if(t.groups.programLog)n[a[a.length-1]].rawLogs.push(c),n[a[a.length-1]].logMessages.push(t.groups.logMessage);else if(t.groups.programData)n[a[a.length-1]].rawLogs.push(c),n[a[a.length-1]].dataLogs.push(t.groups.data);else if(t.groups.programConsumed)n[a[a.length-1]].rawLogs.push(c);else if(t.groups.programReturn){if(s[s.length-1]!=t.groups.returnProgramId)throw new Error("[InvokeReturn]: callstack mismatch");n[a[a.length-1]].invokeResult=t.groups.returnMessage}}return n}function Gl(t){let e;switch(nn.decodeInstructionType(t)){case"AdvanceNonceAccount":{const n=nn.decodeNonceAdvance(t);e={name:"advanceNonceAccount",accounts:[{name:"nonce",pubkey:n.noncePubkey,isSigner:!1,isWritable:!0},{name:"recentBlockhashSysvar",...t.keys[1]},{name:"nonceAuthority",pubkey:n.authorizedPubkey,isSigner:!0,isWritable:!1}],args:{}};break}case"Allocate":{const n=nn.decodeAllocate(t);e={name:"allocate",accounts:[{name:"newAccount",pubkey:n.accountPubkey,isSigner:!0,isWritable:!0}],args:{space:new(ot())(n.space)}};break}case"AllocateWithSeed":{const n=nn.decodeAllocateWithSeed(t);e={name:"allocateWithSeed",accounts:[{name:"newAccount",pubkey:n.accountPubkey,isSigner:!1,isWritable:!0},{name:"base",pubkey:n.basePubkey,isSigner:!0,isWritable:!1}],args:{seed:n.seed,space:new(ot())(n.space),owner:n.programId,base:n.basePubkey}};break}case"Assign":{const n=nn.decodeAssign(t);e={name:"assign",accounts:[{name:"assignedAccount",pubkey:n.accountPubkey,isSigner:!0,isWritable:!0}],args:{owner:n.programId}};break}case"AssignWithSeed":{const n=nn.decodeAssignWithSeed(t);e={name:"assignWithSeed",accounts:[{name:"assigned",pubkey:n.accountPubkey,isSigner:!1,isWritable:!0},{name:"base",pubkey:n.basePubkey,isSigner:!0,isWritable:!1}],args:{seed:n.seed,owner:n.programId,base:n.basePubkey}};break}case"AuthorizeNonceAccount":{const n=nn.decodeNonceAuthorize(t);e={name:"authorizeNonceAccount",accounts:[{name:"nonce",isSigner:!1,isWritable:!0,pubkey:n.noncePubkey},{name:"nonceAuthority",isSigner:!0,isWritable:!1,pubkey:n.authorizedPubkey}],args:{authorized:n.newAuthorizedPubkey}};break}case"Create":{const n=nn.decodeCreateAccount(t);e={name:"createAccount",accounts:[{name:"payer",pubkey:n.fromPubkey,isSigner:!0,isWritable:!0},{name:"newAccount",pubkey:n.newAccountPubkey,isSigner:!0,isWritable:!0}],args:{lamports:new(ot())(n.lamports),owner:n.programId,space:new(ot())(n.space)}};break}case"CreateWithSeed":{const n=nn.decodeCreateWithSeed(t);e={name:"createAccountWithSeed",accounts:[{name:"payer",pubkey:n.fromPubkey,isSigner:!0,isWritable:!0},{name:"created",pubkey:n.newAccountPubkey,isSigner:!1,isWritable:!0},{name:"base",pubkey:n.basePubkey,isSigner:!0,isWritable:!1}],args:{lamports:new(ot())(n.lamports),owner:n.programId,space:new(ot())(n.space),seed:n.seed,base:n.basePubkey}};break}case"InitializeNonceAccount":{const n=nn.decodeNonceInitialize(t);e={name:"initializeNonceAccount",accounts:[{name:"nonce",pubkey:n.noncePubkey,isSigner:!1,isWritable:!0},{name:"recentBlockhashSysvar",...t.keys[1]},{name:"rentSysvar",...t.keys[2]}],args:{authorized:n.authorizedPubkey}};break}case"Transfer":{const n=nn.decodeTransfer(t);e={name:"transfer",accounts:[{name:"sender",pubkey:n.fromPubkey,isSigner:!0,isWritable:!0},{name:"receiver",pubkey:n.toPubkey,isWritable:!0,isSigner:!1}],args:{lamports:new(ot())(n.lamports.toString())}};break}case"TransferWithSeed":{const n=nn.decodeTransferWithSeed(t);e={name:"transferWithSeed",accounts:[{name:"sender",pubkey:n.fromPubkey,isSigner:!1,isWritable:!0},{name:"base",pubkey:n.basePubkey,isSigner:!0,isWritable:!1},{name:"receiver",pubkey:n.toPubkey,isSigner:!1,isWritable:!0}],args:{owner:n.programId,lamports:new(ot())(n.lamports.toString()),seed:n.seed}};break}case"WithdrawNonceAccount":{const n=nn.decodeNonceWithdraw(t);e={name:"withdrawNonceAccount",accounts:[{name:"nonce",pubkey:n.noncePubkey,isSigner:!1,isWritable:!0},{name:"recepient",pubkey:n.toPubkey,isSigner:!1,isWritable:!0},{name:"recentBlockhashSysvar",...t.keys[2]},{name:"rentSysvar",...t.keys[3]},{name:"nonceAuthority",pubkey:n.noncePubkey,isSigner:!0,isWritable:!1}],args:{lamports:new(ot())(n.lamports)}};break}default:e=null}return e?{...e,programId:on.programId}:{programId:on.programId,name:"unknown",accounts:t.keys,args:{unknown:t.data}}}function Fl(t){let e;switch(Gu().decode(t.data)){case al.InitializeMint:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Bl.span)throw new ol;const{keys:{mint:n,rent:r},data:i}=Cl(t);if(i.instruction!==al.InitializeMint)throw new sl;if(!n||!r)throw new il;return{programId:e,keys:{mint:n,rent:r},data:i}}(t);e={name:"initializeMint",accounts:[{name:"tokenMint",...n.keys.mint},{name:"rentSysvar",...n.keys.rent}],args:{decimals:n.data.decimals,mintAuthority:n.data.mintAuthority,freezeAuthority:n.data.freezeAuthority}};break}case al.InitializeAccount:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==kl.span)throw new ol;const{keys:{account:n,mint:r,owner:i,rent:o},data:s}=function({programId:t,keys:[e,n,r,i],data:o}){return{programId:t,keys:{account:e,mint:n,owner:r,rent:i},data:kl.decode(o)}}(t);if(s.instruction!==al.InitializeAccount)throw new sl;if(!(n&&r&&i&&o))throw new il;return{programId:e,keys:{account:n,mint:r,owner:i,rent:o},data:s}}(t);e={name:"initializeAccount",accounts:[{name:"newAccount",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"owner",...n.keys.owner},{name:"rentSysvar",...n.keys.rent}],args:{}};break}case al.InitializeMultisig:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Sl.span)throw new ol;const{keys:{account:n,rent:r,signers:i},data:o}=function({programId:t,keys:[e,n,...r],data:i}){return{programId:t,keys:{account:e,rent:n,signers:r},data:Sl.decode(i)}}(t);if(o.instruction!==al.InitializeMultisig)throw new sl;if(!n||!r||!i.length)throw new il;return{programId:e,keys:{account:n,rent:r,signers:i},data:o}}(t),r=n.keys.signers.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"initializeMultisig",accounts:[{name:"multisig",...n.keys.account},{name:"rentSysvar",...n.keys.rent},...r],args:{m:n.data.m}};break}case al.Transfer:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Tl.span)throw new ol;const{keys:{source:n,destination:r,owner:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{source:e,destination:n,owner:r,multiSigners:i},data:Tl.decode(o)}}(t);if(s.instruction!==al.Transfer)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{source:n,destination:r,owner:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"transfer",accounts:[{name:"source",...n.keys.source},{name:"destination",...n.keys.destination},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString())}};break}case al.Approve:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==cl.span)throw new ol;const{keys:{account:n,delegate:r,owner:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,delegate:n,owner:r,multiSigners:i},data:cl.decode(o)}}(t);if(s.instruction!==al.Approve)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,delegate:r,owner:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"approve",accounts:[{name:"source",...n.keys.account},{name:"delegate",...n.keys.delegate},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString())}};break}case al.Revoke:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==xl.span)throw new ol;const{keys:{account:n,owner:r,multiSigners:i},data:o}=function({programId:t,keys:[e,n,...r],data:i}){return{programId:t,keys:{account:e,owner:n,multiSigners:r},data:xl.decode(i)}}(t);if(o.instruction!==al.Revoke)throw new sl;if(!n||!r)throw new il;return{programId:e,keys:{account:n,owner:r,multiSigners:i},data:o}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"revoke",accounts:[{name:"source",...n.keys.account},{name:"owner",...n.keys.owner},...r],args:{}};break}case al.SetAuthority:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Rl.span)throw new ol;const{keys:{account:n,currentAuthority:r,multiSigners:i},data:o}=function({programId:t,keys:[e,n,...r],data:i}){const{instruction:o,authorityType:s,newAuthorityOption:a,newAuthority:c}=Rl.decode(i);return{programId:t,keys:{account:e,currentAuthority:n,multiSigners:r},data:{instruction:o,authorityType:s,newAuthority:a?c:null}}}(t);if(o.instruction!==al.SetAuthority)throw new sl;if(!n||!r)throw new il;return{programId:e,keys:{account:n,currentAuthority:r,multiSigners:i},data:o}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"setAuthority",accounts:[{name:"account",...n.keys.account},{name:"currentAuthority",...n.keys.currentAuthority},...r],args:{authorityType:n.data.authorityType,newAuthority:n.data.newAuthority}};break}case al.MintTo:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Al.span)throw new ol;const{keys:{mint:n,destination:r,authority:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{mint:e,destination:n,authority:r,multiSigners:i},data:Al.decode(o)}}(t);if(s.instruction!==al.MintTo)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"mintTo",accounts:[{name:"tokenMint",...n.keys.mint},{name:"mintTo",...n.keys.destination},{name:"authority",...n.keys.authority},...r],args:{amount:new(ot())(n.data.amount.toString())}};break}case al.Burn:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==ll.span)throw new ol;const{keys:{account:n,mint:r,owner:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,mint:n,owner:r,multiSigners:i},data:ll.decode(o)}}(t);if(s.instruction!==al.Burn)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,mint:r,owner:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"burn",accounts:[{name:"burnFrom",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString())}};break}case al.CloseAccount:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==hl.span)throw new ol;const{keys:{account:n,destination:r,authority:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,destination:n,authority:r,multiSigners:i},data:hl.decode(o)}}(t);if(s.instruction!==al.CloseAccount)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,destination:r,authority:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"closeAccount",accounts:[{name:"account",...n.keys.account},{name:"destination",...n.keys.destination},{name:"owner",...n.keys.authority},...r],args:{}};break}case al.FreezeAccount:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==_l.span)throw new ol;const{keys:{account:n,mint:r,authority:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,mint:n,authority:r,multiSigners:i},data:_l.decode(o)}}(t);if(s.instruction!==al.FreezeAccount)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,mint:r,authority:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"freezeAccount",accounts:[{name:"account",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"authority",...n.keys.authority},...r],args:{}};break}case al.ThawAccount:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Ol.span)throw new ol;const{keys:{account:n,mint:r,authority:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,mint:n,authority:r,multiSigners:i},data:Ol.decode(o)}}(t);if(s.instruction!==al.ThawAccount)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,mint:r,authority:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"thawAccount",accounts:[{name:"account",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"authority",...n.keys.authority},...r],args:{}};break}case al.TransferChecked:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==Pl.span)throw new ol;const{keys:{source:n,mint:r,destination:i,owner:o,multiSigners:s},data:a}=function({programId:t,keys:[e,n,r,i,...o],data:s}){return{programId:t,keys:{source:e,mint:n,destination:r,owner:i,multiSigners:o},data:Pl.decode(s)}}(t);if(a.instruction!==al.TransferChecked)throw new sl;if(!(n&&r&&i&&o))throw new il;return{programId:e,keys:{source:n,mint:r,destination:i,owner:o,multiSigners:s},data:a}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"transferChecked",accounts:[{name:"source",...n.keys.source},{name:"tokenMint",...n.keys.mint},{name:"destination",...n.keys.destination},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString()),decimals:n.data.decimals}};break}case al.ApproveChecked:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==ul.span)throw new ol;const{keys:{account:n,mint:r,delegate:i,owner:o,multiSigners:s},data:a}=function({programId:t,keys:[e,n,r,i,...o],data:s}){return{programId:t,keys:{account:e,mint:n,delegate:r,owner:i,multiSigners:o},data:ul.decode(s)}}(t);if(a.instruction!==al.ApproveChecked)throw new sl;if(!(n&&r&&i&&o))throw new il;return{programId:e,keys:{account:n,mint:r,delegate:i,owner:o,multiSigners:s},data:a}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"approveChecked",accounts:[{name:"source",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"delegate",...n.keys.delegate},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString()),decimals:n.data.decimals}};break}case al.MintToChecked:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==El.span)throw new ol;const{keys:{mint:n,destination:r,authority:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{mint:e,destination:n,authority:r,multiSigners:i},data:El.decode(o)}}(t);if(s.instruction!==al.MintToChecked)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{mint:n,destination:r,authority:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"mintToChecked",accounts:[{name:"tokenMint",...n.keys.mint},{name:"mintTo",...n.keys.destination},{name:"authority",...n.keys.authority},...r],args:{amount:new(ot())(n.data.amount.toString()),decimals:n.data.decimals}};break}case al.BurnChecked:{const n=function(t,e=nu){if(!t.programId.equals(e))throw new rl;if(t.data.length!==fl.span)throw new ol;const{keys:{account:n,mint:r,owner:i,multiSigners:o},data:s}=function({programId:t,keys:[e,n,r,...i],data:o}){return{programId:t,keys:{account:e,mint:n,owner:r,multiSigners:i},data:fl.decode(o)}}(t);if(s.instruction!==al.BurnChecked)throw new sl;if(!n||!r||!i)throw new il;return{programId:e,keys:{account:n,mint:r,owner:i,multiSigners:o},data:s}}(t),r=n.keys.multiSigners.map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"burnChecked",accounts:[{name:"burnFrom",...n.keys.account},{name:"tokenMint",...n.keys.mint},{name:"owner",...n.keys.owner},...r],args:{amount:new(ot())(n.data.amount.toString()),decimals:n.data.decimals}};break}case al.InitializeAccount2:{const n=$u([Gu("instruction"),Hu(32,"owner")]).decode(t.data);e={name:"initializeAccount2",accounts:[{name:"newAccount",...t.keys[0]},{name:"tokenMint",...t.keys[1]},{name:"rentSysvar",...t.keys[2]}],args:{authority:new Re(n.owner)}};break}case al.SyncNative:e={name:"syncNative",accounts:[{name:"account",...t.keys[0]}],args:{}};break;case al.InitializeAccount3:{const n=$u([Gu("instruction"),Hu(32,"owner")]).decode(t.data);e={name:"initializeAccount3",accounts:[{name:"newAccount",...t.keys[0]},{name:"tokenMint",...t.keys[1]}],args:{authority:new Re(n.owner)}};break}case al.InitializeMultisig2:{const n=t.keys.slice(1).map(((t,e)=>({name:`signer_${e}`,...t})));e={name:"initializeMultisig2",accounts:[{name:"multisig",...t.keys[0]},...n],args:{m:t.data[1]}};break}case al.InitializeMint2:{const n=Cl(t);if(!n.keys.mint)throw new Error("Failed to parse InitializeMint2 instruction");e={name:"initializeMint2",accounts:[{name:"tokenMint",...n.keys.mint}],args:{decimals:n.data.decimals,mintAuthority:n.data.mintAuthority,freezeAuthority:n.data.freezeAuthority}};break}default:e=null}return e?{...e,programId:nu}:{programId:nu,name:"unknown",accounts:t.keys,args:{unknown:t.data}}}function ql(t){return{name:"createAssociatedTokenAccount",accounts:[{name:"fundingAccount",...t.keys[0]},{name:"newAccount",...t.keys[1]},{name:"wallet",...t.keys[2]},{name:"tokenMint",...t.keys[3]},{name:"systemProgram",...t.keys[4]},{name:"tokenProgram",...t.keys[5]},t.keys.length>5?{name:"rentSysvar",...t.keys[6]}:void 0],args:{},programId:ru}}function Kl(t,e){return t.map((t=>{const n=t.name;if(Object.prototype.hasOwnProperty.call(t,"accounts")){const r=e?`${e} > ${n}`:n;return Kl(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}!function(t){t[t.Initialize=0]="Initialize",t[t.UpdateRate=1]="UpdateRate"}(Ml||(Ml={})),$u([Gu("instruction"),Gu("interestBearingMintInstruction"),el("rateAuthority"),ou("rate")]),$u([Gu("instruction"),Gu("interestBearingMintInstruction"),ou("rate")]),$u([Gu("instruction"),el("owner")]),$u([Gu("instruction"),el("owner")]),$u([Gu("instruction")]),$u([Gu("instruction"),Gu("closeAuthorityOption"),el("closeAuthority")]),$u([Gu("instruction")]),$u([Gu("instruction"),el("delegate")]);class $l{constructor(t,e){const n=[[on.programId.toBase58(),Gl],[nu.toBase58(),Fl],[ru.toBase58(),ql]];let r;e=e||[];for(const n of t)e.push(this.buildIdlParser(new Re(n.programId),n.idl));if(e){r=new Map(e);for(const t of n)r.has(t[0])||r.set(...t)}else r=new Map(n);this.instructionParsers=r}addParser(t,e){this.instructionParsers.set(t.toBase58(),e)}addParserFromIdl(t,e){this.instructionParsers.set(...this.buildIdlParser(new Re(t),e))}buildIdlParser(t,e){return[t.toBase58(),(t=>{const n=new Ia(e).decode(t.data);if(n){const r=e.instructions.find((t=>t.name===n.name));if(!r)return this.buildUnknownParsedInstruction(t.programId,t.keys,t.data,n.name);const i=Kl(r.accounts),o=t.keys.map(((t,e)=>e<i.length?{name:i[e].name,...t}:{name:"Remaining "+(e-i.length),...t}));return{name:n.name,accounts:o,programId:t.programId,args:n.data}}return this.buildUnknownParsedInstruction(t.programId,t.keys,t.data)}).bind(this)]}removeParser(t){this.instructionParsers.delete(t.toBase58())}buildUnknownParsedInstruction(t,e,n,r){return{programId:t,accounts:e,args:{unknown:n},name:r||"unknown"}}parseInstruction(t){return this.instructionParsers.has(t.programId.toBase58())?this.instructionParsers.get(t.programId.toBase58())(t):this.buildUnknownParsedInstruction(t.programId,t.keys,t.data)}parseTransactionData(t,e){const n=Ul(t,e);return t.compiledInstructions.map((t=>this.parseInstruction(Ll(t,n))))}parseTransactionParsedData(t){const e=t.accountKeys.map((t=>({isSigner:t.signer,isWritable:t.writable,pubkey:t.pubkey})));return t.instructions.map((t=>this.parseInstruction(Vl(t,e))))}async parseTransaction(t,e,n=!1,r="confirmed"){var i;const o=await t.getTransaction(e,{commitment:r,maxSupportedTransactionVersion:0});return o?n?zl(o).map((t=>this.parseInstruction(t))):this.parseTransactionData(o.transaction.message,null===(i=o.meta)||void 0===i?void 0:i.loadedAddresses):null}parseTransactionDump(t){t instanceof Kc.Buffer||(t=Kc.Buffer.from(t,"base64"));const e=Fe.from(t).compileMessage();return this.parseTransactionData(e)}}},626:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=n(4104),s=n(872),a=i(n(9098));var c=n(4104);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,n){super(t,n),this.blob=o.blob(t),this.signed=e}decode(t,e=0){const n=new a.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(r,"le",this.span),e,n)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)};class f extends o.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new f(o.blob(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=o.u8()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function d(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function y(t){const e=o.u32("length"),n=o.struct([e,o.blob(o.offset(e,-e.span),"data")]);return new f(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new f(o.u8(),d,p,t)},e.vec=function(t,e){const n=o.u32("length"),r=o.struct([n,o.seq(t,o.offset(n,-n.span),"values")]);return new f(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=o.struct([l("tag"),e.replicate("data")]);return new f(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=y,e.str=function(t){return new f(y(),(t=>t.toString("utf-8")),(t=>r.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=o.union(null!=n?n:o.u8(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=o.struct([o.seq(t,e,"values")]);return new f(r,(({values:t})=>t),(t=>({values:t})),n)};class g extends o.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){return e=e||0,[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=o.u32("length"),i=o.struct([r,o.seq(new g(t,e),o.offset(r,-r.span),"values")]);return new f(i,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},4380:(t,e,n)=>{"use strict";e._O=e.Jq=e.KB=e.u8=e.cv=void 0,e.Ik=e.A9=e.n_=e.gM=void 0;const r=n(5872);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(t){return i(t),r.Buffer.from(t.buffer,t.byteOffset,t.length)}class s{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function a(t,e){return e.property?t+"["+e.property+"]":t}class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(t,e=0,n){if(!(t instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof l||this.layout instanceof f}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}class l extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntLE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntLE(t,n,this.span),this.span}}class f extends s{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return o(t).readUIntBE(e,this.span)}encode(t,e,n=0){return o(e).writeUIntBE(t,n,this.span),this.span}}const h=Math.pow(2,32);function d(t){const e=Math.floor(t/h);return{hi32:e,lo32:t-e*h}}function p(t,e){return t*h+e}class y extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return p(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=d(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class g extends s{constructor(t){super(8,t)}decode(t,e=0){const n=o(t),r=n.readUInt32LE(e);return p(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=d(t),i=o(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class m extends s{constructor(t,e,n){if(!(t instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof c)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof c&&this.count.encode(t.length,e,n),i}}class b extends s{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e=0){i(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class w extends s{constructor(t,e){if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof c||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),o(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof c&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=o(t);return o(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,e,n),r}}e.cv=(t,e,n)=>new u(t,e,n),e.u8=t=>new l(1,t),e.KB=t=>new l(2,t),e.Jq=t=>new l(4,t),e._O=t=>new y(t),e.gM=t=>new g(t),e.n_=(t,e,n)=>new b(t,e,n),e.A9=(t,e,n)=>new m(t,e,n),e.Ik=(t,e)=>new w(t,e)},3981:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.getMaxVoterWeightRecordAddress=e.MaxVoterWeightRecord=e.getVoterWeightRecordAddress=e.VoterWeightRecord=e.VoterWeightAction=void 0;var a,c=n(872);(a=e.VoterWeightAction||(e.VoterWeightAction={}))[a.CastVote=0]="CastVote",a[a.CommentProposal=1]="CommentProposal",a[a.CreateGovernance=2]="CreateGovernance",a[a.CreateProposal=3]="CreateProposal",a[a.SignOffProposal=4]="SignOffProposal";e.VoterWeightRecord=function(t){this.accountDiscriminator=new Uint8Array([50,101,102,57,57,98,52,98]),this.realm=t.realm,this.governingTokenMint=t.governingTokenMint,this.governingTokenOwner=t.governingTokenOwner,this.voterWeight=t.voterWeight,this.voterWeightExpiry=t.voterWeightExpiry,this.weightAction=t.weightAction,this.weightActionTarget=t.weightActionTarget},e.getVoterWeightRecordAddress=function(t,e,n,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,c.PublicKey.findProgramAddress([r.from("voter-weight-record"),e.toBuffer(),n.toBuffer(),a.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))};e.MaxVoterWeightRecord=function(t){this.accountDiscriminator=new Uint8Array([57,100,53,102,102,50,57,55]),this.realm=t.realm,this.governingTokenMint=t.governingTokenMint,this.maxVoterWeight=t.maxVoterWeight,this.maxVoterWeightExpiry=t.maxVoterWeightExpiry},e.getMaxVoterWeightRecordAddress=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,c.PublicKey.findProgramAddress([r.from("max-voter-weight-record"),e.toBuffer(),n.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))}},900:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getGovernanceAddinAccount=e.getVoterWeightRecord=e.getMaxVoterWeightRecord=void 0;var o=n(3981),s=n(1208);function a(t,e,n){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,t.getAccountInfo(e)];case 1:if(!(r=i.sent()))throw new Error("Account ".concat(e," of type ").concat(n.name," not found"));return[2,(0,s.GovernanceAddinAccountParser)(n)(e,r)]}}))}))}e.getMaxVoterWeightRecord=function(t,e){return r(this,void 0,void 0,(function(){return i(this,(function(n){return[2,a(t,e,o.MaxVoterWeightRecord)]}))}))},e.getVoterWeightRecord=function(t,e){return r(this,void 0,void 0,(function(){return i(this,(function(n){return[2,a(t,e,o.VoterWeightRecord)]}))}))},e.getGovernanceAddinAccount=a},7220:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(3981),e),i(n(900),e),i(n(1208),e)},1208:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GovernanceAddinAccountParser=e.GOVERNANCE_ADDINS_SCHEMA=void 0;var r=n(3981),i=n(4707);e.GOVERNANCE_ADDINS_SCHEMA=new Map([[r.MaxVoterWeightRecord,{kind:"struct",fields:[["accountDiscriminator",[8]],["realm","pubkey"],["governingTokenMint","pubkey"],["maxVoterWeight","u64"],["maxVoterWeightExpiry",{kind:"option",type:"u64"}]]}],[r.VoterWeightRecord,{kind:"struct",fields:[["accountDiscriminator",[8]],["realm","pubkey"],["governingTokenMint","pubkey"],["governingTokenOwner","pubkey"],["voterWeight","u64"],["voterWeightExpiry",{kind:"option",type:"u64"}],["weightAction",{kind:"option",type:"u8"}],["weightActionTarget",{kind:"option",type:"pubkey"}]]}]]),e.GovernanceAddinAccountParser=function(t){return(0,i.BorshAccountParser)(t,(function(t){return e.GOVERNANCE_ADDINS_SCHEMA}))}},703:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChatMessage=e.ChatMessageBody=e.ChatMessageBodyType=e.GovernanceChatAccountType=e.GOVERNANCE_CHAT_PROGRAM_ID=void 0;var r,i,o=n(872);e.GOVERNANCE_CHAT_PROGRAM_ID=new o.PublicKey("gCHAtYKrUUktTVzE4hEnZdLV4LXrdBf6Hh9qMaJALET"),function(t){t[t.Uninitialized=0]="Uninitialized",t[t.ChatMessage=1]="ChatMessage"}(r=e.GovernanceChatAccountType||(e.GovernanceChatAccountType={})),(i=e.ChatMessageBodyType||(e.ChatMessageBodyType={}))[i.Text=0]="Text",i[i.Reaction=1]="Reaction";e.ChatMessageBody=function(t){var e;this.type=t.type,this.value=t.value,this.isReply=null!==(e=t.isReply)&&void 0!==e&&e};e.ChatMessage=function(t){this.accountType=r.ChatMessage,this.proposal=t.proposal,this.author=t.author,this.postedAt=t.postedAt,this.replyTo=t.replyTo,this.body=t.body}},702:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGovernanceChatMessagesByVoter=e.getGovernanceChatMessages=void 0;var r=n(3067),i=n(703),o=n(1197);e.getGovernanceChatMessages=function(t,e,n){return(0,r.getBorshProgramAccounts)(t,e,(function(t){return o.GOVERNANCE_CHAT_SCHEMA}),i.ChatMessage,[(0,r.pubkeyFilter)(1,n)])},e.getGovernanceChatMessagesByVoter=function(t,e,n){return(0,r.getBorshProgramAccounts)(t,e,(function(t){return o.GOVERNANCE_CHAT_SCHEMA}),i.ChatMessage,[(0,r.pubkeyFilter)(33,n)])}},8700:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(703),e),i(n(702),e),i(n(6189),e),i(n(1197),e),i(n(91),e)},6189:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.PostChatMessageArgs=e.GovernanceChatInstruction=void 0,function(t){t[t.PostMessage=0]="PostMessage"}(n=e.GovernanceChatInstruction||(e.GovernanceChatInstruction={}));e.PostChatMessageArgs=function(t){this.instruction=n.PostMessage,this.body=t.body}},1197:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChatAccountParser=e.GOVERNANCE_CHAT_SCHEMA=void 0;var r=n(703),i=n(4707),o=n(6189);e.GOVERNANCE_CHAT_SCHEMA=new Map([[r.ChatMessageBody,{kind:"struct",fields:[["type","u8"],["value","string"],["isReply","u8"]]}],[r.ChatMessage,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["author","pubkey"],["postedAt","u64"],["replyTo",{kind:"option",type:"pubkey"}],["body",r.ChatMessageBody]]}],[o.PostChatMessageArgs,{kind:"struct",fields:[["instruction","u8"],["body",r.ChatMessageBody]]}]]),e.ChatAccountParser=function(t){return(0,i.BorshAccountParser)(t,(function(t){return e.GOVERNANCE_CHAT_SCHEMA}))}},91:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withPostChatMessage=void 0;var s=n(872),a=n(1197),c=n(2303),u=n(6189),l=n(9193),f=n(3811);e.withPostChatMessage=function(t,e,n,h,d,p,y,g,m,b,w,v,k){return i(this,void 0,void 0,(function(){var i,S,_,A;return o(this,(function(o){switch(o.label){case 0:return i=new u.PostChatMessageArgs({body:v}),S=r.from((0,c.serialize)(a.GOVERNANCE_CHAT_SCHEMA,i)),_=new s.Keypair,e.push(_),A=[{pubkey:h,isWritable:!1,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!0},{pubkey:_.publicKey,isWritable:!0,isSigner:!0},{pubkey:b,isWritable:!1,isSigner:!0},{pubkey:l.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],w&&A.push({pubkey:w,isWritable:!1,isSigner:!1}),[4,(0,f.withRealmConfigPluginAccounts)(A,h,d,k)];case 1:return o.sent(),t.push(new s.TransactionInstruction({keys:A,programId:n,data:S})),[2,_.publicKey]}}))}))}},5025:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3067:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getBorshProgramAccounts=e.booleanFilter=e.pubkeyFilter=e.MemcmpFilter=e.RpcContext=void 0;var l=n(872),f=u(n(1511)),h=n(7327),d=n(2490),p=n(742),y=function(){function t(t,e,n,r,i){this.programId=t,this.wallet=n,this.connection=r,this.endpoint=i,this.programVersion=e}return Object.defineProperty(t.prototype,"walletPubkey",{get:function(){var t;if(!(null===(t=this.wallet)||void 0===t?void 0:t.publicKey))throw new p.WalletNotConnectedError;return this.wallet.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"programIdBase58",{get:function(){return this.programId.toBase58()},enumerable:!1,configurable:!0}),t}();e.RpcContext=y;var g=function(){function t(t,e){this.offset=t,this.bytes=e}return t.prototype.isMatch=function(t){if(this.offset+this.bytes.length>t.length)return!1;for(var e=0;e<this.bytes.length;e++)if(this.bytes[e]!==t[this.offset+e])return!1;return!0},t}();e.MemcmpFilter=g,e.pubkeyFilter=function(t,e){return e?new g(t,e.toBuffer()):void 0},e.booleanFilter=function(t,e){return new g(t,r.from(e?[1]:[0]))},e.getBorshProgramAccounts=function(t,e,n,r,u,p){return void 0===u&&(u=[]),i(this,void 0,void 0,(function(){var i,y,g,m,b,w,v,k,S,_;return o(this,(function(o){switch(o.label){case 0:return p=null!=p?p:new r({}).accountType,[4,t.getProgramAccounts(e,{commitment:t.commitment,filters:a([{memcmp:{offset:0,bytes:f.default.encode([p])}}],s(u.map((function(t){return{memcmp:{offset:t.offset,bytes:f.default.encode(t.bytes)}}}))),!1)})];case 1:i=o.sent(),y=[];try{for(g=c(i),m=g.next();!m.done;m=g.next()){b=m.value;try{w=b.account.data,v=w[0],k={pubkey:new l.PublicKey(b.pubkey),account:(0,d.deserializeBorsh)(n(v),r,w),owner:b.account.owner},y.push(k)}catch(t){console.info("Can't deserialize ".concat(r.name," @ ").concat(b.pubkey,"."),(0,h.getErrorMessage)(t))}}}catch(t){S={error:t}}finally{try{m&&!m.done&&(_=g.return)&&_.call(g)}finally{if(S)throw S.error}}return[2,y]}}))}))}},8466:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5025),e),i(n(3067),e),i(n(4707),e)},4707:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.BorshAccountParser=void 0;var i=n(2490);e.BorshAccountParser=function(t,e){return function(n,o){var s=r.from(o.data),a=(0,i.deserializeBorsh)(e(o.data[0]),t,s);return{pubkey:n,owner:o.owner,account:a}}}},3126:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getProposalDepositAddress=e.getGoverningTokenHoldingAddress=e.getNativeTreasuryAddress=e.getProgramMetadataAddress=e.ProgramMetadata=e.getProposalTransactionAddress=e.ProposalTransaction=e.InstructionData=e.AccountMetaData=e.getVoteRecordAddress=e.VoteRecord=e.VoteWeight=e.getSignatoryRecordAddress=e.SignatoryRecord=e.ProposalDeposit=e.Proposal=e.ProposalOption=e.OptionVoteResult=e.ProposalState=e.getTokenOwnerRecordAddress=e.TokenOwnerRecord=e.Governance=e.GovernanceConfig=e.getRealmConfigAddress=e.RealmConfigAccount=e.GoverningTokenConfig=e.getTokenHoldingAddress=e.Realm=e.RealmConfig=e.GoverningTokenConfigAccountArgs=e.GoverningTokenConfigArgs=e.GoverningTokenType=e.RealmConfigArgs=e.VoteType=e.VoteTypeKind=e.MintMaxVoteWeightSource=e.MintMaxVoteWeightSourceType=e.InstructionExecutionFlags=e.InstructionExecutionStatus=e.VoteTipping=e.VoteThreshold=e.VoteThresholdType=e.getGovernanceAccountVersion=e.getAccountTypes=e.GovernanceAccountType=e.GOVERNANCE_PROGRAM_SEED=void 0;var c,u,l=n(872),f=a(n(9098)),h=a(n(1924)),d=n(1839),p=n(9413);e.GOVERNANCE_PROGRAM_SEED="governance",function(t){t[t.Uninitialized=0]="Uninitialized",t[t.RealmV1=1]="RealmV1",t[t.TokenOwnerRecordV1=2]="TokenOwnerRecordV1",t[t.GovernanceV1=3]="GovernanceV1",t[t.ProgramGovernanceV1=4]="ProgramGovernanceV1",t[t.ProposalV1=5]="ProposalV1",t[t.SignatoryRecordV1=6]="SignatoryRecordV1",t[t.VoteRecordV1=7]="VoteRecordV1",t[t.ProposalInstructionV1=8]="ProposalInstructionV1",t[t.MintGovernanceV1=9]="MintGovernanceV1",t[t.TokenGovernanceV1=10]="TokenGovernanceV1",t[t.RealmConfig=11]="RealmConfig",t[t.VoteRecordV2=12]="VoteRecordV2",t[t.ProposalTransactionV2=13]="ProposalTransactionV2",t[t.ProposalV2=14]="ProposalV2",t[t.ProgramMetadata=15]="ProgramMetadata",t[t.RealmV2=16]="RealmV2",t[t.TokenOwnerRecordV2=17]="TokenOwnerRecordV2",t[t.GovernanceV2=18]="GovernanceV2",t[t.ProgramGovernanceV2=19]="ProgramGovernanceV2",t[t.MintGovernanceV2=20]="MintGovernanceV2",t[t.TokenGovernanceV2=21]="TokenGovernanceV2",t[t.SignatoryRecordV2=22]="SignatoryRecordV2",t[t.ProposalDeposit=23]="ProposalDeposit"}(c=e.GovernanceAccountType||(e.GovernanceAccountType={})),e.getAccountTypes=function(t){switch(t){case A:return[c.RealmV1,c.RealmV2];case O:return[c.TokenOwnerRecordV1,c.TokenOwnerRecordV2];case T:return[c.ProposalV1,c.ProposalV2];case P:return[c.ProposalDeposit];case B:return[c.SignatoryRecordV1,c.SignatoryRecordV2];case C:return[c.VoteRecordV1,c.VoteRecordV2];case M:return[c.ProposalInstructionV1,c.ProposalTransactionV2];case E:return[c.RealmConfig];case x:return[c.GovernanceV1,c.ProgramGovernanceV1,c.MintGovernanceV1,c.TokenGovernanceV1,c.GovernanceV2,c.ProgramGovernanceV2,c.MintGovernanceV2,c.TokenGovernanceV2];case N:return[c.ProgramMetadata];default:throw Error("".concat(t," account is not supported"))}},e.getGovernanceAccountVersion=function(t){switch(t){case c.VoteRecordV2:case c.ProposalTransactionV2:case c.ProposalV2:case c.RealmV2:case c.TokenOwnerRecordV2:case c.GovernanceV2:case c.ProgramGovernanceV2:case c.MintGovernanceV2:case c.TokenGovernanceV2:case c.SignatoryRecordV2:return p.ACCOUNT_VERSION_V2;default:return p.ACCOUNT_VERSION_V1}},function(t){t[t.YesVotePercentage=0]="YesVotePercentage",t[t.QuorumPercentage=1]="QuorumPercentage",t[t.Disabled=2]="Disabled"}(u=e.VoteThresholdType||(e.VoteThresholdType={}));var y,g,m,b,w=function(t){this.type=t.type,this.value=t.value};e.VoteThreshold=w,function(t){t[t.Strict=0]="Strict",t[t.Early=1]="Early",t[t.Disabled=2]="Disabled"}(y=e.VoteTipping||(e.VoteTipping={})),(b=e.InstructionExecutionStatus||(e.InstructionExecutionStatus={}))[b.None=0]="None",b[b.Success=1]="Success",b[b.Error=2]="Error",(m=e.InstructionExecutionFlags||(e.InstructionExecutionFlags={}))[m.None=0]="None",m[m.Ordered=1]="Ordered",m[m.UseTransaction=2]="UseTransaction",function(t){t[t.SupplyFraction=0]="SupplyFraction",t[t.Absolute=1]="Absolute"}(g=e.MintMaxVoteWeightSourceType||(e.MintMaxVoteWeightSourceType={}));var v,k=function(){function t(t){this.type=t.type,this.value=t.value}return t.prototype.isFullSupply=function(){return this.type===g.SupplyFraction&&0===this.value.cmp(t.SUPPLY_FRACTION_BASE)},t.prototype.getSupplyFraction=function(){if(this.type!==g.SupplyFraction)throw new Error("Max vote weight is not fraction");return this.value},t.prototype.fmtSupplyFractionPercentage=function(){return new h.default(this.getSupplyFraction()).shiftedBy(2-t.SUPPLY_FRACTION_DECIMALS).toFormat()},t.SUPPLY_FRACTION_BASE=new f.default(1e10),t.SUPPLY_FRACTION_DECIMALS=10,t.FULL_SUPPLY_FRACTION=new t({type:g.SupplyFraction,value:t.SUPPLY_FRACTION_BASE}),t}();e.MintMaxVoteWeightSource=k,function(t){t[t.SingleChoice=0]="SingleChoice",t[t.MultiChoice=1]="MultiChoice"}(v=e.VoteTypeKind||(e.VoteTypeKind={}));var S=function(){function t(t){this.type=t.type,this.choiceCount=t.choiceCount}return t.prototype.isSingleChoice=function(){return this.type===v.SingleChoice},t.SINGLE_CHOICE=new t({type:v.SingleChoice,choiceCount:void 0}),t.MULTI_CHOICE=function(e){return new t({type:v.MultiChoice,choiceCount:e})},t}();e.VoteType=S;var _;e.RealmConfigArgs=function(t){this.useCouncilMint=!!t.useCouncilMint,this.communityMintMaxVoteWeightSource=t.communityMintMaxVoteWeightSource,this.minCommunityTokensToCreateGovernance=t.minCommunityTokensToCreateGovernance,this.useCommunityVoterWeightAddin=t.useCommunityVoterWeightAddin,this.useMaxCommunityVoterWeightAddin=t.useMaxCommunityVoterWeightAddin,this.communityTokenConfigArgs=t.communityTokenConfigArgs,this.councilTokenConfigArgs=t.councilTokenConfigArgs},(_=e.GoverningTokenType||(e.GoverningTokenType={}))[_.Liquid=0]="Liquid",_[_.Membership=1]="Membership",_[_.Dormant=2]="Dormant";e.GoverningTokenConfigArgs=function(t){this.useVoterWeightAddin=t.useVoterWeightAddin,this.useMaxVoterWeightAddin=t.useMaxVoterWeightAddin,this.tokenType=t.tokenType};e.GoverningTokenConfigAccountArgs=function(t){this.voterWeightAddin=t.voterWeightAddin,this.maxVoterWeightAddin=t.maxVoterWeightAddin,this.tokenType=t.tokenType};e.RealmConfig=function(t){this.councilMint=t.councilMint,this.communityMintMaxVoteWeightSource=t.communityMintMaxVoteWeightSource,this.minCommunityTokensToCreateGovernance=t.minCommunityTokensToCreateGovernance,this.useCommunityVoterWeightAddin=!!t.useCommunityVoterWeightAddin,this.useMaxCommunityVoterWeightAddin=!!t.useMaxCommunityVoterWeightAddin,this.reserved=t.reserved};var A=function(t){this.accountType=c.RealmV1,this.communityMint=t.communityMint,this.config=t.config,this.reserved=t.reserved,this.votingProposalCount=t.votingProposalCount,this.authority=t.authority,this.name=t.name};e.Realm=A,e.getTokenHoldingAddress=function(t,n,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from(e.GOVERNANCE_PROGRAM_SEED),n.toBuffer(),a.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))};e.GoverningTokenConfig=function(t){this.voterWeightAddin=t.voterWeightAddin,this.maxVoterWeightAddin=t.maxVoterWeightAddin,this.tokenType=t.tokenType,this.reserved=t.reserved};var E=function(t){this.accountType=c.RealmConfig,this.realm=t.realm,this.communityTokenConfig=t.communityTokenConfig,this.councilTokenConfig=t.councilTokenConfig,this.reserved=t.reserved};e.RealmConfigAccount=E,e.getRealmConfigAddress=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from("realm-config"),e.toBuffer()],t)];case 1:return[2,s.apply(void 0,[n.sent(),1])[0]]}}))}))};e.GovernanceConfig=function(t){var e,n,r,i,o;this.communityVoteThreshold=t.communityVoteThreshold,this.minCommunityTokensToCreateProposal=t.minCommunityTokensToCreateProposal,this.minInstructionHoldUpTime=t.minInstructionHoldUpTime,this.baseVotingTime=t.baseVotingTime,this.communityVoteTipping=null!==(e=t.communityVoteTipping)&&void 0!==e?e:y.Strict,this.minCouncilTokensToCreateProposal=t.minCouncilTokensToCreateProposal,this.councilVoteThreshold=null!==(n=t.councilVoteThreshold)&&void 0!==n?n:t.communityVoteThreshold,this.councilVetoVoteThreshold=null!==(r=t.councilVetoVoteThreshold)&&void 0!==r?r:t.communityVoteThreshold,this.communityVetoVoteThreshold=null!==(i=t.communityVetoVoteThreshold)&&void 0!==i?i:new w({type:u.Disabled}),this.councilVoteTipping=null!==(o=t.councilVoteTipping)&&void 0!==o?o:this.communityVoteTipping,this.votingCoolOffTime=t.votingCoolOffTime,this.depositExemptProposalCount=t.depositExemptProposalCount};var x=function(){function t(t){this.accountType=t.accountType,this.realm=t.realm,this.governedAccount=t.governedAccount,this.config=t.config,this.reserved=t.reserved,this.proposalCount=t.proposalCount,this.activeProposalCount=t.activeProposalCount}return t.prototype.isProgramGovernance=function(){return this.accountType===c.ProgramGovernanceV1||this.accountType===c.ProgramGovernanceV2},t.prototype.isAccountGovernance=function(){return this.accountType===c.GovernanceV1||this.accountType===c.GovernanceV2},t.prototype.isMintGovernance=function(){return this.accountType===c.MintGovernanceV1||this.accountType===c.MintGovernanceV2},t.prototype.isTokenGovernance=function(){return this.accountType===c.TokenGovernanceV1||this.accountType===c.TokenGovernanceV2},t}();e.Governance=x;var I,R,O=function(t){this.accountType=c.TokenOwnerRecordV1,this.realm=t.realm,this.governingTokenMint=t.governingTokenMint,this.governingTokenOwner=t.governingTokenOwner,this.governingTokenDepositAmount=t.governingTokenDepositAmount,this.unrelinquishedVotesCount=t.unrelinquishedVotesCount,this.totalVotesCount=t.totalVotesCount,this.outstandingProposalCount=t.outstandingProposalCount,this.reserved=t.reserved,this.governanceDelegate=t.governanceDelegate,this.version=t.version};e.TokenOwnerRecord=O,e.getTokenOwnerRecordAddress=function(t,n,a,c){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from(e.GOVERNANCE_PROGRAM_SEED),n.toBuffer(),a.toBuffer(),c.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))},function(t){t[t.Draft=0]="Draft",t[t.SigningOff=1]="SigningOff",t[t.Voting=2]="Voting",t[t.Succeeded=3]="Succeeded",t[t.Executing=4]="Executing",t[t.Completed=5]="Completed",t[t.Cancelled=6]="Cancelled",t[t.Defeated=7]="Defeated",t[t.ExecutingWithErrors=8]="ExecutingWithErrors",t[t.Vetoed=9]="Vetoed"}(I=e.ProposalState||(e.ProposalState={})),(R=e.OptionVoteResult||(e.OptionVoteResult={}))[R.None=0]="None",R[R.Succeeded=1]="Succeeded",R[R.Defeated=2]="Defeated";e.ProposalOption=function(t){this.label=t.label,this.voteWeight=t.voteWeight,this.voteResult=t.voteResult,this.instructionsExecutedCount=t.instructionsExecutedCount,this.instructionsCount=t.instructionsCount,this.instructionsNextIndex=t.instructionsNextIndex};var T=function(){function t(t){this.accountType=t.accountType,this.governance=t.governance,this.governingTokenMint=t.governingTokenMint,this.state=t.state,this.tokenOwnerRecord=t.tokenOwnerRecord,this.signatoriesCount=t.signatoriesCount,this.signatoriesSignedOffCount=t.signatoriesSignedOffCount,this.descriptionLink=t.descriptionLink,this.name=t.name,this.yesVotesCount=t.yesVotesCount,this.noVotesCount=t.noVotesCount,this.instructionsExecutedCount=t.instructionsExecutedCount,this.instructionsCount=t.instructionsCount,this.instructionsNextIndex=t.instructionsNextIndex,this.voteType=t.voteType,this.options=t.options,this.denyVoteWeight=t.denyVoteWeight,this.reserved1=t.reserved1,this.abstainVoteWeight=t.abstainVoteWeight,this.startVotingAt=t.startVotingAt,this.maxVotingTime=t.maxVotingTime,this.draftAt=t.draftAt,this.signingOffAt=t.signingOffAt,this.votingAt=t.votingAt,this.votingAtSlot=t.votingAtSlot,this.votingCompletedAt=t.votingCompletedAt,this.executingAt=t.executingAt,this.closedAt=t.closedAt,this.executionFlags=t.executionFlags,this.maxVoteWeight=t.maxVoteWeight,this.voteThreshold=t.voteThreshold,this.vetoVoteWeight=t.vetoVoteWeight}return t.prototype.isVoteFinalized=function(){switch(this.state){case I.Succeeded:case I.Executing:case I.Completed:case I.Cancelled:case I.Defeated:case I.ExecutingWithErrors:case I.Vetoed:return!0;case I.Draft:case I.SigningOff:case I.Voting:return!1}},t.prototype.isFinalState=function(){switch(this.state){case I.Completed:case I.Cancelled:case I.Defeated:case I.ExecutingWithErrors:case I.Vetoed:return!0;case I.Succeeded:return 0===this.instructionsCount;case I.Executing:case I.Draft:case I.SigningOff:case I.Voting:return!1}},t.prototype.getStateTimestamp=function(){switch(this.state){case I.Succeeded:case I.Defeated:case I.Vetoed:return this.votingCompletedAt?this.votingCompletedAt.toNumber():0;case I.Completed:case I.Cancelled:return this.closedAt?this.closedAt.toNumber():0;case I.Executing:case I.ExecutingWithErrors:return this.executingAt?this.executingAt.toNumber():0;case I.Draft:return this.draftAt.toNumber();case I.SigningOff:return this.signingOffAt?this.signingOffAt.toNumber():0;case I.Voting:return this.votingAt?this.votingAt.toNumber():0}},t.prototype.getStateSortRank=function(){return this.state===I.Voting?2:this.isFinalState()?0:1},t.prototype.isPreVotingState=function(){return!this.votingAtSlot},t.prototype.getYesVoteOption=function(){if(1!==this.options.length&&!this.voteType.isSingleChoice())throw new Error("Proposal is not Yes/No vote");return this.options[0]},t.prototype.getYesVoteCount=function(){switch(this.accountType){case c.ProposalV1:return this.yesVotesCount;case c.ProposalV2:return this.getYesVoteOption().voteWeight;default:throw new Error("Invalid account type ".concat(this.accountType))}},t.prototype.getNoVoteCount=function(){switch(this.accountType){case c.ProposalV1:return this.noVotesCount;case c.ProposalV2:return this.denyVoteWeight;default:throw new Error("Invalid account type ".concat(this.accountType))}},t.prototype.getTimeToVoteEnd=function(t){var e,n,r=Date.now()/1e3;return(this.isPreVotingState()?t.config.baseVotingTime:(null!==(n=null===(e=this.votingAt)||void 0===e?void 0:e.toNumber())&&void 0!==n?n:0)+t.config.baseVotingTime-r)+t.config.votingCoolOffTime},t.prototype.hasVoteTimeEnded=function(t){return this.getTimeToVoteEnd(t)<=0},t.prototype.canCancel=function(t){return this.state===I.Draft||this.state===I.SigningOff||this.state===I.Voting&&!this.hasVoteTimeEnded(t)},t.prototype.canWalletCancel=function(t,e,n){var r;return!!this.canCancel(t)&&(e.governingTokenOwner.equals(n)||(null===(r=e.governanceDelegate)||void 0===r?void 0:r.equals(n)))},t}();e.Proposal=T;var P=function(t){this.accountType=c.ProposalDeposit,this.proposal=t.proposal,this.depositPayer=t.depositPayer};e.ProposalDeposit=P;var B=function(t){this.accountType=c.SignatoryRecordV1,this.proposal=t.proposal,this.signatory=t.signatory,this.signedOff=!!t.signedOff};e.SignatoryRecord=B,e.getSignatoryRecordAddress=function(t,n,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from(e.GOVERNANCE_PROGRAM_SEED),n.toBuffer(),a.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))};e.VoteWeight=function(t){this.yes=t.yes,this.no=t.no};var C=function(){function t(t){this.accountType=t.accountType,this.proposal=t.proposal,this.governingTokenOwner=t.governingTokenOwner,this.isRelinquished=!!t.isRelinquished,this.voteWeight=t.voteWeight,this.voterWeight=t.voterWeight,this.vote=t.vote}return t.prototype.getNoVoteWeight=function(){var t,e;switch(this.accountType){case c.VoteRecordV1:return null===(t=this.voteWeight)||void 0===t?void 0:t.no;case c.VoteRecordV2:switch(null===(e=this.vote)||void 0===e?void 0:e.voteType){case d.VoteKind.Approve:return;case d.VoteKind.Deny:return this.voterWeight;default:throw new Error("Invalid voteKind")}default:throw new Error("Invalid account type ".concat(this.accountType," "))}},t.prototype.getYesVoteWeight=function(){var t,e;switch(this.accountType){case c.VoteRecordV1:return null===(t=this.voteWeight)||void 0===t?void 0:t.yes;case c.VoteRecordV2:switch(null===(e=this.vote)||void 0===e?void 0:e.voteType){case d.VoteKind.Approve:return this.voterWeight;case d.VoteKind.Deny:return;default:throw new Error("Invalid voteKind")}default:throw new Error("Invalid account type ".concat(this.accountType," "))}},t}();e.VoteRecord=C,e.getVoteRecordAddress=function(t,n,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from(e.GOVERNANCE_PROGRAM_SEED),n.toBuffer(),a.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))};e.AccountMetaData=function(t){this.pubkey=t.pubkey,this.isSigner=!!t.isSigner,this.isWritable=!!t.isWritable};e.InstructionData=function(t){this.programId=t.programId,this.accounts=t.accounts,this.data=t.data};var M=function(){function t(t){this.accountType=t.accountType,this.proposal=t.proposal,this.instructionIndex=t.instructionIndex,this.optionIndex=t.optionIndex,this.holdUpTime=t.holdUpTime,this.instruction=t.instruction,this.executedAt=t.executedAt,this.executionStatus=t.executionStatus,this.instructions=t.instructions}return t.prototype.getSingleInstruction=function(){if(this.accountType===c.ProposalInstructionV1)return this.instruction;if(0===this.instructions.length)throw new Error("Transaction has no instructions");if(this.instructions.length>1)throw new Error("Transaction has multiple instructions");return this.instructions[0]},t.prototype.getAllInstructions=function(){return this.accountType===c.ProposalInstructionV1?[this.instruction]:this.instructions},t}();e.ProposalTransaction=M,e.getProposalTransactionAddress=function(t,n,a,c,u){return i(this,void 0,void 0,(function(){var i,f,h;return o(this,(function(o){switch(o.label){case 0:return(i=r.alloc(1)).writeUInt8(c),(f=r.alloc(2)).writeInt16LE(u,0),h=n===p.PROGRAM_VERSION_V1?[r.from(e.GOVERNANCE_PROGRAM_SEED),a.toBuffer(),f]:[r.from(e.GOVERNANCE_PROGRAM_SEED),a.toBuffer(),i,f],[4,l.PublicKey.findProgramAddress(h,t)];case 1:return[2,s.apply(void 0,[o.sent(),1])[0]]}}))}))};var N=function(t){this.accountType=c.ProgramMetadata,this.updatedAt=t.updatedAt,this.reserved=t.reserved,this.version=t.version};e.ProgramMetadata=N,e.getProgramMetadataAddress=function(t){return i(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from("metadata")],t)];case 1:return[2,s.apply(void 0,[e.sent(),1])[0]]}}))}))},e.getNativeTreasuryAddress=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from("native-treasury"),e.toBuffer()],t)];case 1:return[2,s.apply(void 0,[n.sent(),1])[0]]}}))}))},e.getGoverningTokenHoldingAddress=function(t,n,a){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from(e.GOVERNANCE_PROGRAM_SEED),n.toBuffer(),a.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))},e.getProposalDepositAddress=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,l.PublicKey.findProgramAddress([r.from("proposal-deposit"),e.toBuffer(),n.toBuffer()],t)];case 1:return[2,s.apply(void 0,[i.sent(),1])[0]]}}))}))}},8936:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.tryGetGovernanceAccount=e.getGovernanceAccount=e.getGovernanceAccounts=e.getProposalDepositsByDepositPayer=e.getAllProposals=e.getProposalsByGovernance=e.getProposal=e.getAllGovernances=e.getGovernance=e.getAllTokenOwnerRecords=e.getTokenOwnerRecordsByOwner=e.getTokenOwnerRecord=e.getTokenOwnerRecordForRealm=e.getVoteRecordsByVoter=e.getVoteRecord=e.getRealmConfig=e.tryGetRealmConfig=e.getRealms=e.getRealm=void 0;var l=n(872),f=n(3097),h=n(3126),d=n(3067),p=u(n(1511)),y=u(n(3438)),g=n(2490),m=n(326);function b(t,e){var n;return i(this,void 0,void 0,(function(){var i,u,d,b,w,v,k,S,_,A,E,x,I,R,O,T,P,B;return o(this,(function(C){switch(C.label){case 0:i=(0,h.getAccountTypes)(h.Realm),u=t._rpcEndpoint,d=[],b=function(r){var i;return o(this,(function(o){switch(o.label){case 0:return[4,y.default.request({url:u,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(a([],s(e.map((function(e){return{jsonrpc:"2.0",id:e.toBase58(),method:"getProgramAccounts",params:[e.toBase58(),{commitment:t.commitment,encoding:"base64",filters:[{memcmp:{offset:0,bytes:p.default.encode([r])}}]}]}}))),!1))})];case 1:return i=o.sent(),d.push.apply(d,a([],s(null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.filter((function(t){return t.result})).flatMap((function(t){return t.result}))),!1)),[2]}}))},C.label=1;case 1:C.trys.push([1,6,7,8]),w=c(i),v=w.next(),C.label=2;case 2:return v.done?[3,5]:(I=v.value,[5,b(I)]);case 3:C.sent(),C.label=4;case 4:return v=w.next(),[3,2];case 5:return[3,8];case 6:return k=C.sent(),O={error:k},[3,8];case 7:try{v&&!v.done&&(T=w.return)&&T.call(w)}finally{if(O)throw O.error}return[7];case 8:S=[];try{for(_=c(d),A=_.next();!A.done;A=_.next()){E=A.value;try{x=r.from(E.account.data[0],"base64"),I=x[0],R={pubkey:new l.PublicKey(E.pubkey),account:(0,g.deserializeBorsh)((0,f.getGovernanceSchemaForAccount)(I),h.Realm,x),owner:E.account.owner},S.push(R)}catch(t){console.info("Can't deserialize Realm @ ".concat(E.pubkey,"."),(0,m.getErrorMessage)(t))}}}catch(t){P={error:t}}finally{try{A&&!A.done&&(B=_.return)&&B.call(_)}finally{if(P)throw P.error}}return[2,S]}}))}))}function w(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.Governance,[(0,d.pubkeyFilter)(1,n)])]}))}))}function v(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.Proposal,[(0,d.pubkeyFilter)(1,n)])]}))}))}function k(t,e,n,r){return void 0===r&&(r=[]),i(this,void 0,void 0,(function(){var i,u,l,p,y,g,m,b,w;return o(this,(function(o){switch(o.label){case 0:i=(0,h.getAccountTypes)(n),u=[],o.label=1;case 1:o.trys.push([1,6,7,8]),l=c(i),p=l.next(),o.label=2;case 2:return p.done?[3,5]:(y=p.value,[4,(0,d.getBorshProgramAccounts)(t,e,(function(t){return(0,f.getGovernanceSchemaForAccount)(t)}),n,r,y)]);case 3:g=o.sent(),u.push.apply(u,a([],s(g),!1)),o.label=4;case 4:return p=l.next(),[3,2];case 5:return[3,8];case 6:return m=o.sent(),b={error:m},[3,8];case 7:try{p&&!p.done&&(w=l.return)&&w.call(l)}finally{if(b)throw b.error}return[7];case 8:return[2,u]}}))}))}function S(t,e,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return[4,t.getAccountInfo(e)];case 1:if(!(r=i.sent()))throw new Error("Account ".concat(e," of type ").concat(n.name," not found"));return[2,(0,f.GovernanceAccountParser)(n)(e,r)]}}))}))}e.getRealm=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.Realm)]}))}))},e.getRealms=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return e instanceof l.PublicKey?[2,k(t,e,h.Realm)]:[2,b(t,e)]}))}))},e.tryGetRealmConfig=function(t,e,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(0,h.getRealmConfigAddress)(e,n)];case 1:return r=i.sent(),[4,S(t,r,h.RealmConfigAccount)];case 2:return[2,i.sent()];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},e.getRealmConfig=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.RealmConfigAccount)]}))}))},e.getVoteRecord=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.VoteRecord)]}))}))},e.getVoteRecordsByVoter=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.VoteRecord,[(0,d.pubkeyFilter)(33,n)])]}))}))},e.getTokenOwnerRecordForRealm=function(t,e,n,r,s){return i(this,void 0,void 0,(function(){var i;return o(this,(function(o){switch(o.label){case 0:return[4,(0,h.getTokenOwnerRecordAddress)(e,n,r,s)];case 1:return i=o.sent(),[2,S(t,i,h.TokenOwnerRecord)]}}))}))},e.getTokenOwnerRecord=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.TokenOwnerRecord)]}))}))},e.getTokenOwnerRecordsByOwner=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.TokenOwnerRecord,[(0,d.pubkeyFilter)(65,n)])]}))}))},e.getAllTokenOwnerRecords=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.TokenOwnerRecord,[(0,d.pubkeyFilter)(1,n)])]}))}))},e.getGovernance=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.Governance)]}))}))},e.getAllGovernances=w,e.getProposal=function(t,e){return i(this,void 0,void 0,(function(){return o(this,(function(n){return[2,S(t,e,h.Proposal)]}))}))},e.getProposalsByGovernance=v,e.getAllProposals=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,w(t,e,n).then((function(n){return Promise.all(n.map((function(n){return v(t,e,n.pubkey)})))}))]}))}))},e.getProposalDepositsByDepositPayer=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){return[2,k(t,e,h.ProposalDeposit,[(0,d.pubkeyFilter)(33,n)])]}))}))},e.getGovernanceAccounts=k,e.getGovernanceAccount=S,e.tryGetGovernanceAccount=function(t,e,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return[4,t.getAccountInfo(e)];case 1:return(r=i.sent())?[2,(0,f.GovernanceAccountParser)(n)(e,r)]:[2]}}))}))}},4751:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRevokeGoverningTokens=void 0;var o=n(569);e.createRevokeGoverningTokens=function(t,e,n,s,a,c,u){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=[],[4,(0,o.withRevokeGoverningTokens)(r,t,e,n,s,a,c,u)];case 1:return i.sent(),[2,r[0]]}}))}))}},1424:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.createSetGovernanceConfig=void 0;var i=n(872),o=n(1839),s=n(3097),a=n(2303);e.createSetGovernanceConfig=function(t,e,n,c){var u=new o.SetGovernanceConfigArgs({config:c}),l=r.from((0,a.serialize)((0,s.getGovernanceInstructionSchema)(e),u));if(u.config.baseVotingTime<3600)throw new Error("baseVotingTime should be at least 1 hour");var f=[{pubkey:n,isWritable:!0,isSigner:!0}];return new i.TransactionInstruction({keys:f,programId:t,data:l})}},1474:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSetRealmAuthority=void 0;var r=n(6892);e.createSetRealmAuthority=function(t,e,n,i,o,s){var a=[];return(0,r.withSetRealmAuthority)(a,t,e,n,i,o,s),a[0]}},8512:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.createSetRealmConfig=void 0;var o=n(6076);e.createSetRealmConfig=function(t,e,n,s,a,c,u,l,f,h){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=[],[4,(0,o.withSetRealmConfig)(r,t,e,n,s,a,c,u,l,f,h)];case 1:return i.sent(),[2,r[0]]}}))}))}},1851:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.GovernanceType=e.GoverningTokenRole=void 0,(r=e.GoverningTokenRole||(e.GoverningTokenRole={}))[r.Community=0]="Community",r[r.Council=1]="Council",(n=e.GovernanceType||(e.GovernanceType={}))[n.Account=0]="Account",n[n.Program=1]="Program",n[n.Mint=2]="Mint",n[n.Token=3]="Token"},2016:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTransactionErrorMsg=e.GovernanceToolsError=e.TokenError=e.GovernanceError=void 0,e.GovernanceError=["Invalid instruction passed to program","Realm with the given name and governing mints already exists","Invalid realm","Invalid Governing Token Mint","Governing Token Owner must sign transaction","Governing Token Owner or Delegate  must sign transaction","All votes must be relinquished to withdraw governing tokens","Invalid Token Owner Record account address","Invalid GoverningMint for TokenOwnerRecord","Invalid Realm for TokenOwnerRecord","Invalid Proposal for ProposalTransaction","Invalid Signatory account address","Signatory already signed off","Signatory must sign","Invalid Proposal Owner","Invalid Proposal for VoterRecord","Invalid GoverningTokenOwner for VoteRecord","Invalid Governance config: Vote threshold percentage out of range","Proposal for the given Governance, Governing Token Mint and index already exists","Token Owner already voted on the Proposal","Owner doesn't have enough governing tokens to create Proposal","Invalid State: Can't edit Signatories","Invalid Proposal state","Invalid State: Can't edit instructions","Invalid State: Can't execute instruction","Can't execute instruction within its hold up time","Instruction already executed","Invalid Instruction index","Instruction hold up time is below the min specified by Governance","Instruction at the given index for the Proposal already exists","Invalid State: Can't sign off","Invalid State: Can't vote","Invalid State: Can't finalize vote","Invalid State: Can't cancel Proposal","Vote already relinquished","Can't finalize vote. Voting still in progress","Proposal voting time expired","Invalid Signatory Mint","Proposal does not belong to the given Governance","Proposal does not belong to given Governing Mint","Current mint authority must sign transaction","Invalid mint authority","Mint has no authority","Invalid Token account owner","Invalid Mint account owner","Token Account is not initialized","Token Account doesn't exist","Token account data is invalid","Token mint account data is invalid","Token Mint account is not initialized","Token Mint account doesn't exist","Invalid ProgramData account address","Invalid ProgramData account Data","Provided upgrade authority doesn't match current program upgrade authority","Current program upgrade authority must sign transaction","Given program is not upgradable","Invalid token owner","Current token owner must sign transaction","Given VoteThresholdType is not supported","Given VoteWeightSource is not supported","Legacy1","Governance PDA must sign","Instruction already flagged with error","Invalid Realm for Governance","Invalid Authority for Realm","Realm has no authority","Realm authority must sign","Invalid governing token holding account","Realm council mint change is not supported","Not supported mint max vote weight source","Invalid max vote weight supply fraction","Owner doesn't have enough governing tokens to create Governance","Too many outstanding proposals","All proposals must be finalized to withdraw governing tokens","Invalid VoterWeightRecord for Realm","Invalid VoterWeightRecord for GoverningTokenMint","Invalid VoterWeightRecord for TokenOwner","VoterWeightRecord expired","Invalid RealmConfig for Realm","TokenOwnerRecord already exists","Governing token deposits not allowed","Invalid vote choice weight percentage","Vote type not supported","Invalid proposal options","Proposal is not not executable","Invalid vote","Cannot execute defeated option","VoterWeightRecord invalid action","VoterWeightRecord invalid action target","Invalid MaxVoterWeightRecord for Realm","MaxVoterWeightRecord expired","Cannot execute defeated option","Not supported VoteType","RealmConfig change not allowed","At least one VoteThreshold is required","Reserved buffer must be empty","Cannot Relinquish in Finalizing state","Invalid RealmConfig account address","Cannot deposit dormant tokens","Cannot withdraw membership tokens","Cannot revoke GoverningTokens","Invalid Revoke amount","Invalid GoverningToken source","Cannot change community TokenType to Membership","Voter weight threshold disabled","Vote not allowed in cool off time","Cannot refund ProposalDeposit","Invalid Proposal for ProposalDeposit","Invalid deposit_exempt_proposal_count","Invalid GoverningTokenMint not allowed to vote","Invalid deposit Payer for ProposalDeposit"],e.TokenError=["Lamport balance below rent-exempt threshold","Insufficient funds","Invalid Mint","Account not associated with this Mint","Owner does not match","Fixed supply","Already in use","Invalid number of provided signers","Invalid number of required signers","State is uninitialized","Instruction does not support native tokens","Non-native account can only be closed if its balance is zero","Invalid instruction","State is invalid for requested operation","Operation overflowed","Account does not support specified authority type","This token mint cannot freeze accounts","Account is frozen","The provided decimals value different from the Mint decimals"],e.GovernanceToolsError=["Account already initialized","Account doesn't exist","Invalid account owner","Invalid account type","Invalid new account size"],e.getTransactionErrorMsg=function(t){try{var n=t.txError.InstructionError[1];return void 0!==n.Custom?n.Custom>=1100?e.GovernanceToolsError[n.Custom-1100]:n.Custom>=500?e.GovernanceError[n.Custom-500]:"Possible error: ".concat(e.TokenError[n.Custom]):n}catch(e){return JSON.stringify(t)}}},2103:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(3126),e),i(n(8936),e),i(n(4751),e),i(n(1424),e),i(n(8512),e),i(n(1474),e),i(n(1851),e),i(n(2016),e),i(n(1839),e),i(n(3097),e),i(n(617),e),i(n(3368),e),i(n(612),e),i(n(5654),e),i(n(6166),e),i(n(7132),e),i(n(7778),e),i(n(9389),e),i(n(5089),e),i(n(4302),e),i(n(8716),e),i(n(5716),e),i(n(4778),e),i(n(9510),e),i(n(5125),e),i(n(9888),e),i(n(304),e),i(n(7169),e),i(n(4419),e),i(n(4125),e),i(n(9742),e),i(n(569),e),i(n(6892),e),i(n(6076),e),i(n(3991),e),i(n(8402),e),i(n(3839),e),i(n(2444),e)},1839:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.RefundProposalDepositArgs=e.RevokeGoverningTokensArgs=e.SetGovernanceDelegateArgs=e.CreateNativeTreasuryArgs=e.UpdateProgramMetadataArgs=e.CreateTokenOwnerRecordArgs=e.SetRealmConfigArgs=e.SetRealmAuthorityArgs=e.SetRealmAuthorityAction=e.FlagTransactionErrorArgs=e.ExecuteTransactionArgs=e.RemoveTransactionArgs=e.InsertTransactionArgs=e.FinalizeVoteArgs=e.RelinquishVoteArgs=e.CastVoteArgs=e.Vote=e.VoteKind=e.VoteChoice=e.YesNoVote=e.CancelProposalArgs=e.SignOffProposalArgs=e.AddSignatoryArgs=e.CreateProposalArgs=e.SetGovernanceConfigArgs=e.CreateTokenGovernanceArgs=e.CreateMintGovernanceArgs=e.CreateProgramGovernanceArgs=e.CreateGovernanceArgs=e.WithdrawGoverningTokensArgs=e.DepositGoverningTokensArgs=e.CreateRealmArgs=e.GovernanceInstruction=void 0,function(t){t[t.CreateRealm=0]="CreateRealm",t[t.DepositGoverningTokens=1]="DepositGoverningTokens",t[t.WithdrawGoverningTokens=2]="WithdrawGoverningTokens",t[t.SetGovernanceDelegate=3]="SetGovernanceDelegate",t[t.CreateGovernance=4]="CreateGovernance",t[t.CreateProgramGovernance=5]="CreateProgramGovernance",t[t.CreateProposal=6]="CreateProposal",t[t.AddSignatory=7]="AddSignatory",t[t.RemoveSignatory=8]="RemoveSignatory",t[t.InsertTransaction=9]="InsertTransaction",t[t.RemoveTransaction=10]="RemoveTransaction",t[t.CancelProposal=11]="CancelProposal",t[t.SignOffProposal=12]="SignOffProposal",t[t.CastVote=13]="CastVote",t[t.FinalizeVote=14]="FinalizeVote",t[t.RelinquishVote=15]="RelinquishVote",t[t.ExecuteTransaction=16]="ExecuteTransaction",t[t.CreateMintGovernance=17]="CreateMintGovernance",t[t.CreateTokenGovernance=18]="CreateTokenGovernance",t[t.SetGovernanceConfig=19]="SetGovernanceConfig",t[t.FlagTransactionError=20]="FlagTransactionError",t[t.SetRealmAuthority=21]="SetRealmAuthority",t[t.SetRealmConfig=22]="SetRealmConfig",t[t.CreateTokenOwnerRecord=23]="CreateTokenOwnerRecord",t[t.UpdateProgramMetadata=24]="UpdateProgramMetadata",t[t.CreateNativeTreasury=25]="CreateNativeTreasury",t[t.RevokeGoverningTokens=26]="RevokeGoverningTokens",t[t.RefundProposalDeposit=27]="RefundProposalDeposit"}(n=e.GovernanceInstruction||(e.GovernanceInstruction={}));e.CreateRealmArgs=function(t){this.instruction=n.CreateRealm,this.name=t.name,this.configArgs=t.configArgs};e.DepositGoverningTokensArgs=function(t){this.instruction=n.DepositGoverningTokens,this.amount=t.amount};e.WithdrawGoverningTokensArgs=function(){this.instruction=n.WithdrawGoverningTokens};e.CreateGovernanceArgs=function(t){this.instruction=n.CreateGovernance,this.config=t.config};e.CreateProgramGovernanceArgs=function(t){this.instruction=n.CreateProgramGovernance,this.config=t.config,this.transferUpgradeAuthority=!!t.transferUpgradeAuthority};e.CreateMintGovernanceArgs=function(t){this.instruction=n.CreateMintGovernance,this.config=t.config,this.transferMintAuthorities=!!t.transferMintAuthorities};e.CreateTokenGovernanceArgs=function(t){this.instruction=n.CreateTokenGovernance,this.config=t.config,this.transferTokenOwner=!!t.transferTokenOwner};e.SetGovernanceConfigArgs=function(t){this.instruction=n.SetGovernanceConfig,this.config=t.config};e.CreateProposalArgs=function(t){this.instruction=n.CreateProposal,this.name=t.name,this.descriptionLink=t.descriptionLink,this.governingTokenMint=t.governingTokenMint,this.voteType=t.voteType,this.options=t.options,this.useDenyOption=t.useDenyOption,this.proposalSeed=t.proposalSeed};e.AddSignatoryArgs=function(t){this.instruction=n.AddSignatory,this.signatory=t.signatory};e.SignOffProposalArgs=function(){this.instruction=n.SignOffProposal};var r;e.CancelProposalArgs=function(){this.instruction=n.CancelProposal},function(t){t[t.Yes=0]="Yes",t[t.No=1]="No"}(r=e.YesNoVote||(e.YesNoVote={}));var i,o=function(t){this.rank=t.rank,this.weightPercentage=t.weightPercentage};e.VoteChoice=o,function(t){t[t.Approve=0]="Approve",t[t.Deny=1]="Deny",t[t.Abstain=2]="Abstain",t[t.Veto=3]="Veto"}(i=e.VoteKind||(e.VoteKind={}));var s=function(){function t(t){this.voteType=t.voteType,this.approveChoices=t.approveChoices,this.deny=t.deny,this.veto=t.veto}return t.prototype.toYesNoVote=function(){switch(this.voteType){case i.Deny:return r.No;case i.Approve:return r.Yes}},t.fromYesNoVote=function(e){switch(e){case r.Yes:return new t({voteType:i.Approve,approveChoices:[new o({rank:0,weightPercentage:100})],deny:void 0,veto:void 0});case r.No:return new t({voteType:i.Deny,approveChoices:void 0,deny:!0,veto:void 0})}},t}();e.Vote=s;e.CastVoteArgs=function(t){this.instruction=n.CastVote,this.yesNoVote=t.yesNoVote,this.vote=t.vote};e.RelinquishVoteArgs=function(){this.instruction=n.RelinquishVote};e.FinalizeVoteArgs=function(){this.instruction=n.FinalizeVote};e.InsertTransactionArgs=function(t){this.instruction=n.InsertTransaction,this.index=t.index,this.optionIndex=t.optionIndex,this.holdUpTime=t.holdUpTime,this.instructionData=t.instructionData,this.instructions=t.instructions};e.RemoveTransactionArgs=function(){this.instruction=n.RemoveTransaction};e.ExecuteTransactionArgs=function(){this.instruction=n.ExecuteTransaction};var a;e.FlagTransactionErrorArgs=function(){this.instruction=n.FlagTransactionError},(a=e.SetRealmAuthorityAction||(e.SetRealmAuthorityAction={}))[a.SetUnchecked=0]="SetUnchecked",a[a.SetChecked=1]="SetChecked",a[a.Remove=2]="Remove";e.SetRealmAuthorityArgs=function(t){this.instruction=n.SetRealmAuthority,this.newRealmAuthority=t.newRealmAuthority,this.action=t.action};e.SetRealmConfigArgs=function(t){this.instruction=n.SetRealmConfig,this.configArgs=t.configArgs};e.CreateTokenOwnerRecordArgs=function(){this.instruction=n.CreateTokenOwnerRecord};e.UpdateProgramMetadataArgs=function(){this.instruction=n.UpdateProgramMetadata};e.CreateNativeTreasuryArgs=function(){this.instruction=n.CreateNativeTreasury};e.SetGovernanceDelegateArgs=function(t){this.instruction=n.SetGovernanceDelegate,this.newGovernanceDelegate=t.newGovernanceDelegate};e.RevokeGoverningTokensArgs=function(t){this.instruction=n.RevokeGoverningTokens,this.amount=t.amount};e.RefundProposalDepositArgs=function(){this.instruction=n.RefundProposalDeposit}},3097:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.getInstructionDataFromBase64=e.GovernanceAccountParser=e.getGovernanceSchemaForAccount=e.getGovernanceAccountSchema=e.GOVERNANCE_ACCOUNT_SCHEMA_V2=e.GOVERNANCE_ACCOUNT_SCHEMA_V1=e.getGovernanceInstructionSchema=e.GOVERNANCE_INSTRUCTION_SCHEMA_V3=e.GOVERNANCE_INSTRUCTION_SCHEMA_V2=e.GOVERNANCE_INSTRUCTION_SCHEMA_V1=e.createInstructionData=e.serializeInstructionToBase64=void 0;var s=n(2303),a=n(1839),c=n(3126),u=n(2303),l=n(4707),f=n(9413),h=n(2490);function d(t,e){return new Map([[a.VoteChoice,{kind:"struct",fields:[["rank","u8"],["weightPercentage","u8"]]}],[c.InstructionData,{kind:"struct",fields:[["programId","pubkey"],["accounts",[c.AccountMetaData]],["data",["u8"]]]}],[c.AccountMetaData,{kind:"struct",fields:[["pubkey","pubkey"],["isSigner","u8"],["isWritable","u8"]]}],[c.MintMaxVoteWeightSource,{kind:"struct",fields:[["type","u8"],["value","u64"]]}],[c.GovernanceConfig,{kind:"struct",fields:o([["communityVoteThreshold","VoteThreshold"],["minCommunityTokensToCreateProposal","u64"],["minInstructionHoldUpTime","u32"],["baseVotingTime","u32"],["communityVoteTipping","u8"],["councilVoteThreshold","VoteThreshold"],["councilVetoVoteThreshold","VoteThreshold"],["minCouncilTokensToCreateProposal","u64"]],i(t&&t>=f.PROGRAM_VERSION_V3||e&&e>=f.ACCOUNT_VERSION_V2?[["councilVoteTipping","u8"],["communityVetoVoteThreshold","VoteThreshold"],["votingCoolOffTime","u32"],["depositExemptProposalCount","u8"]]:[]),!1)}]])}function p(t){return new Map(o([[c.RealmConfigArgs,{kind:"struct",fields:o([["useCouncilMint","u8"],["minCommunityTokensToCreateGovernance","u64"],["communityMintMaxVoteWeightSource",c.MintMaxVoteWeightSource]],i(t==f.PROGRAM_VERSION_V2?[["useCommunityVoterWeightAddin","u8"],["useMaxCommunityVoterWeightAddin","u8"]]:t>=f.PROGRAM_VERSION_V3?[["communityTokenConfigArgs",c.GoverningTokenConfigArgs],["councilTokenConfigArgs",c.GoverningTokenConfigArgs]]:[]),!1)}],[a.CreateRealmArgs,{kind:"struct",fields:[["instruction","u8"],["name","string"],["configArgs",c.RealmConfigArgs]]}],[c.GoverningTokenConfigArgs,{kind:"struct",fields:[["useVoterWeightAddin","u8"],["useMaxVoterWeightAddin","u8"],["tokenType","u8"]]}],[a.DepositGoverningTokensArgs,{kind:"struct",fields:[["instruction","u8"],t>=f.PROGRAM_VERSION_V2?["amount","u64"]:void 0].filter(Boolean)}],[a.RevokeGoverningTokensArgs,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[a.WithdrawGoverningTokensArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.SetGovernanceDelegateArgs,{kind:"struct",fields:[["instruction","u8"],["newGovernanceDelegate",{kind:"option",type:"pubkey"}]]}],[a.CreateGovernanceArgs,{kind:"struct",fields:[["instruction","u8"],["config",c.GovernanceConfig]]}],[a.CreateProgramGovernanceArgs,{kind:"struct",fields:[["instruction","u8"],["config",c.GovernanceConfig],["transferUpgradeAuthority","u8"]]}],[a.CreateMintGovernanceArgs,{kind:"struct",fields:[["instruction","u8"],["config",c.GovernanceConfig],["transferMintAuthorities","u8"]]}],[a.CreateTokenGovernanceArgs,{kind:"struct",fields:[["instruction","u8"],["config",c.GovernanceConfig],["transferTokenOwner","u8"]]}],[a.SetGovernanceConfigArgs,{kind:"struct",fields:[["instruction","u8"],["config",c.GovernanceConfig]]}],[a.CreateProposalArgs,{kind:"struct",fields:o(o([["instruction","u8"],["name","string"],["descriptionLink","string"]],i(t===f.PROGRAM_VERSION_V1?[["governingTokenMint","pubkey"]]:[["voteType","voteType"],["options",["string"]],["useDenyOption","u8"]]),!1),[t>=f.PROGRAM_VERSION_V3?["proposalSeed","pubkey"]:void 0],!1).filter(Boolean)}],[a.AddSignatoryArgs,{kind:"struct",fields:[["instruction","u8"],["signatory","pubkey"]]}],[a.SignOffProposalArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.CancelProposalArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.RelinquishVoteArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.FinalizeVoteArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.CastVoteArgs,{kind:"struct",fields:[["instruction","u8"],t===f.PROGRAM_VERSION_V1?["yesNoVote","u8"]:["vote","vote"]]}],[a.InsertTransactionArgs,{kind:"struct",fields:[["instruction","u8"],t>=f.PROGRAM_VERSION_V2?["optionIndex","u8"]:void 0,["index","u16"],["holdUpTime","u32"],t>=f.PROGRAM_VERSION_V2?["instructions",[c.InstructionData]]:["instructionData",c.InstructionData]].filter(Boolean)}],[a.RemoveTransactionArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.ExecuteTransactionArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.FlagTransactionErrorArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.SetRealmAuthorityArgs,{kind:"struct",fields:o([["instruction","u8"]],i(t===f.PROGRAM_VERSION_V1?[["newRealmAuthority",{kind:"option",type:"pubkey"}]]:[["action","u8"]]),!1)}],[a.SetRealmConfigArgs,{kind:"struct",fields:[["instruction","u8"],["configArgs",c.RealmConfigArgs]]}],[a.CreateTokenOwnerRecordArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.UpdateProgramMetadataArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.CreateNativeTreasuryArgs,{kind:"struct",fields:[["instruction","u8"]]}],[a.RefundProposalDepositArgs,{kind:"struct",fields:[["instruction","u8"]]}]],i(d(t,void 0)),!1))}function y(t){switch(t){case 1:return e.GOVERNANCE_ACCOUNT_SCHEMA_V1;case 2:return e.GOVERNANCE_ACCOUNT_SCHEMA_V2;default:throw new Error("Account schema for account version: ".concat(t," doesn't exist"))}}function g(t){return new Map(o([[c.RealmConfig,{kind:"struct",fields:[["useCommunityVoterWeightAddin","u8"],["useMaxCommunityVoterWeightAddin","u8"],["reserved",[6]],["minCommunityTokensToCreateGovernance","u64"],["communityMintMaxVoteWeightSource",c.MintMaxVoteWeightSource],["councilMint",{kind:"option",type:"pubkey"}]]}],[c.Realm,{kind:"struct",fields:[["accountType","u8"],["communityMint","pubkey"],["config",c.RealmConfig],["reserved",[6]],["votingProposalCount","u16"],["authority",{kind:"option",type:"pubkey"}],["name","string"]]}],[c.RealmConfigAccount,{kind:"struct",fields:[["accountType","u8"],["realm","pubkey"],["communityTokenConfig",c.GoverningTokenConfig],["councilTokenConfig",c.GoverningTokenConfig],["reserved",[110]]]}],[c.GoverningTokenConfig,{kind:"struct",fields:[["voterWeightAddin",{kind:"option",type:"pubkey"}],["maxVoterWeightAddin",{kind:"option",type:"pubkey"}],["tokenType","u8"],["reserved",[8]]]}],[c.Governance,{kind:"struct",fields:o([["accountType","u8"],["realm","pubkey"],["governedAccount","pubkey"],["proposalCount","u32"],["config",c.GovernanceConfig]],i(t>=f.ACCOUNT_VERSION_V2?[["reserved",[120]],["activeProposalCount","u64"]]:[]),!1)}],[c.TokenOwnerRecord,{kind:"struct",fields:[["accountType","u8"],["realm","pubkey"],["governingTokenMint","pubkey"],["governingTokenOwner","pubkey"],["governingTokenDepositAmount","u64"],["unrelinquishedVotesCount","u32"],["totalVotesCount","u32"],["outstandingProposalCount","u8"],["version","u8"],["reserved",[6]],["governanceDelegate",{kind:"option",type:"pubkey"}]]}],[c.ProposalOption,{kind:"struct",fields:[["label","string"],["voteWeight","u64"],["voteResult","u8"],["instructionsExecutedCount","u16"],["instructionsCount","u16"],["instructionsNextIndex","u16"]]}],[c.Proposal,{kind:"struct",fields:o(o(o(o(o(o(o([["accountType","u8"],["governance","pubkey"],["governingTokenMint","pubkey"],["state","u8"],["tokenOwnerRecord","pubkey"],["signatoriesCount","u8"],["signatoriesSignedOffCount","u8"]],i(t===f.ACCOUNT_VERSION_V1?[["yesVotesCount","u64"],["noVotesCount","u64"],["instructionsExecutedCount","u16"],["instructionsCount","u16"],["instructionsNextIndex","u16"]]:[["voteType","voteType"],["options",[c.ProposalOption]],["denyVoteWeight",{kind:"option",type:"u64"}],["reserved1","u8"],["abstainVoteWeight",{kind:"option",type:"u64"}],["startVotingAt",{kind:"option",type:"u64"}]]),!1),[["draftAt","u64"],["signingOffAt",{kind:"option",type:"u64"}],["votingAt",{kind:"option",type:"u64"}],["votingAtSlot",{kind:"option",type:"u64"}],["votingCompletedAt",{kind:"option",type:"u64"}],["executingAt",{kind:"option",type:"u64"}],["closedAt",{kind:"option",type:"u64"}],["executionFlags","u8"],["maxVoteWeight",{kind:"option",type:"u64"}]],!1),i(t===f.ACCOUNT_VERSION_V1?[]:[["maxVotingTime",{kind:"option",type:"u32"}]]),!1),[["voteThreshold",{kind:"option",type:"VoteThreshold"}]],!1),i(t===f.ACCOUNT_VERSION_V1?[]:[["reserved",[64]]]),!1),[["name","string"],["descriptionLink","string"]],!1),i(t===f.ACCOUNT_VERSION_V1?[]:[["vetoVoteWeight","u64"]]),!1)}],[c.ProposalDeposit,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["depositPayer","pubkey"]]}],[c.SignatoryRecord,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],["signatory","pubkey"],["signedOff","u8"]]}],[c.VoteWeight,{kind:"enum",values:[["yes","u64"],["no","u64"]]}],[c.VoteRecord,{kind:"struct",fields:o([["accountType","u8"],["proposal","pubkey"],["governingTokenOwner","pubkey"],["isRelinquished","u8"]],i(t===f.ACCOUNT_VERSION_V1?[["voteWeight",c.VoteWeight]]:[["voterWeight","u64"],["vote","vote"]]),!1)}],[c.ProposalTransaction,{kind:"struct",fields:[["accountType","u8"],["proposal","pubkey"],t>=f.ACCOUNT_VERSION_V2?["optionIndex","u8"]:void 0,["instructionIndex","u16"],["holdUpTime","u32"],t>=f.ACCOUNT_VERSION_V2?["instructions",[c.InstructionData]]:["instruction",c.InstructionData],["executedAt",{kind:"option",type:"u64"}],["executionStatus","u8"]].filter(Boolean)}],[c.ProgramMetadata,{kind:"struct",fields:[["accountType","u8"],["updatedAt","u64"],["version","string"],["reserved",[64]]]}]],i(d(void 0,t)),!1))}function m(t){return y((0,c.getGovernanceAccountVersion)(t))}s.BinaryReader.prototype.readU16=function(){var t=this,e=t.buf.readUInt16LE(t.offset);return t.offset+=2,e},s.BinaryWriter.prototype.writeU16=function(t){var e=this;e.maybeResize(),e.buf.writeUInt16LE(t,e.length),e.length+=2},s.BinaryReader.prototype.readVoteType=function(){var t=this,e=t.buf.readUInt8(t.offset);if(t.offset+=1,e===c.VoteTypeKind.SingleChoice)return c.VoteType.SINGLE_CHOICE;var n=t.buf.readUInt16LE(t.offset);return c.VoteType.MULTI_CHOICE(n)},s.BinaryWriter.prototype.writeVoteType=function(t){var e=this;e.maybeResize(),e.buf.writeUInt8(t.type,e.length),e.length+=1,t.type===c.VoteTypeKind.MultiChoice&&(e.buf.writeUInt16LE(t.choiceCount,e.length),e.length+=2)},s.BinaryReader.prototype.readVote=function(){var t=this,e=t.buf.readUInt8(t.offset);if(t.offset+=1,e===a.VoteKind.Deny)return new a.Vote({voteType:e,approveChoices:void 0,deny:!0,veto:!1});if(e===a.VoteKind.Veto)return new a.Vote({voteType:e,approveChoices:void 0,deny:!1,veto:!0});var n=[];return t.readArray((function(){var e=t.buf.readUInt8(t.offset);t.offset+=1;var r=t.buf.readUInt8(t.offset);t.offset+=1,n.push(new a.VoteChoice({rank:e,weightPercentage:r}))})),new a.Vote({voteType:e,approveChoices:n,deny:void 0,veto:void 0})},s.BinaryWriter.prototype.writeVote=function(t){var e=this;e.maybeResize(),e.buf.writeUInt8(t.voteType,e.length),e.length+=1,t.voteType===a.VoteKind.Approve&&e.writeArray(t.approveChoices,(function(t){e.buf.writeUInt8(t.rank,e.length),e.length+=1,e.buf.writeUInt8(t.weightPercentage,e.length),e.length+=1}))},s.BinaryReader.prototype.readVoteThreshold=function(){var t=this,e=t.buf.readUInt8(t.offset);if(t.offset+=1,e===c.VoteThresholdType.YesVotePercentage||e===c.VoteThresholdType.QuorumPercentage){var n=t.buf.readUInt8(t.offset);return t.offset+=1,new c.VoteThreshold({type:e,value:n})}if(e===c.VoteThresholdType.Disabled)return new c.VoteThreshold({type:e,value:void 0});throw new Error("VoteThresholdType ".concat(e," is not supported"))},s.BinaryWriter.prototype.writeVoteThreshold=function(t){var e=this;e.maybeResize(),e.buf.writeUInt8(t.type,e.length),e.length+=1,t.type!==c.VoteThresholdType.YesVotePercentage&&t.type!==c.VoteThresholdType.QuorumPercentage||(e.buf.writeUInt8(t.value,e.length),e.length+=1)},e.serializeInstructionToBase64=function(t){var n=(0,e.createInstructionData)(t);return r.from((0,u.serialize)(e.GOVERNANCE_INSTRUCTION_SCHEMA_V1,n)).toString("base64")},e.createInstructionData=function(t){return new c.InstructionData({programId:t.programId,data:t.data,accounts:t.keys.map((function(t){return new c.AccountMetaData({pubkey:t.pubkey,isSigner:t.isSigner,isWritable:t.isWritable})}))})},e.GOVERNANCE_INSTRUCTION_SCHEMA_V1=p(1),e.GOVERNANCE_INSTRUCTION_SCHEMA_V2=p(2),e.GOVERNANCE_INSTRUCTION_SCHEMA_V3=p(3),e.getGovernanceInstructionSchema=function(t){switch(t){case 1:return e.GOVERNANCE_INSTRUCTION_SCHEMA_V1;case 2:return e.GOVERNANCE_INSTRUCTION_SCHEMA_V2;case 3:return e.GOVERNANCE_INSTRUCTION_SCHEMA_V3;default:throw new Error("Account schema for program version: ".concat(t," doesn't exist"))}},e.GOVERNANCE_ACCOUNT_SCHEMA_V1=g(1),e.GOVERNANCE_ACCOUNT_SCHEMA_V2=g(2),e.getGovernanceAccountSchema=y,e.getGovernanceSchemaForAccount=m,e.GovernanceAccountParser=function(t){return(0,l.BorshAccountParser)(t,(function(t){return m(t)}))},e.getInstructionDataFromBase64=function(t){var n=r.from(t,"base64");return(0,h.deserializeBorsh)(e.GOVERNANCE_INSTRUCTION_SCHEMA_V1,c.InstructionData,n)}},617:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withV3RealmConfigAccount=e.withTokenConfigAccounts=e.createRealmConfigArgs=void 0;var o=n(9413),s=n(3126),a=n(1851);function c(t,e,n){if(e){if(t<o.PROGRAM_VERSION_V2)throw new Error("Governing token config is not supported in version ".concat(t));if(t==o.PROGRAM_VERSION_V2){if(n==a.GoverningTokenRole.Council)throw new Error("Council token config is not supported in version ".concat(t));if(e.tokenType!=s.GoverningTokenType.Liquid)throw new Error("Community token type ".concat(e.tokenType," is not supported in veriosn ").concat(t))}}}e.createRealmConfigArgs=function(t,e,n,r,i,o){var u,l;return c(t,i,a.GoverningTokenRole.Community),c(t,o,a.GoverningTokenRole.Council),new s.RealmConfigArgs({useCouncilMint:void 0!==e,minCommunityTokensToCreateGovernance:r,communityMintMaxVoteWeightSource:n,useCommunityVoterWeightAddin:void 0!==(null==i?void 0:i.voterWeightAddin),useMaxCommunityVoterWeightAddin:void 0!==(null==i?void 0:i.maxVoterWeightAddin),communityTokenConfigArgs:new s.GoverningTokenConfigArgs({useVoterWeightAddin:void 0!==(null==i?void 0:i.voterWeightAddin),useMaxVoterWeightAddin:void 0!==(null==i?void 0:i.maxVoterWeightAddin),tokenType:null!==(u=null==i?void 0:i.tokenType)&&void 0!==u?u:s.GoverningTokenType.Liquid}),councilTokenConfigArgs:new s.GoverningTokenConfigArgs({useVoterWeightAddin:void 0!==(null==o?void 0:o.voterWeightAddin),useMaxVoterWeightAddin:void 0!==(null==o?void 0:o.maxVoterWeightAddin),tokenType:null!==(l=null==o?void 0:o.tokenType)&&void 0!==l?l:s.GoverningTokenType.Liquid})})},e.withTokenConfigAccounts=function(t,e,n){(null==e?void 0:e.voterWeightAddin)&&t.push({pubkey:e.voterWeightAddin,isWritable:!1,isSigner:!1}),(null==e?void 0:e.maxVoterWeightAddin)&&t.push({pubkey:e.maxVoterWeightAddin,isWritable:!1,isSigner:!1}),(null==n?void 0:n.voterWeightAddin)&&t.push({pubkey:n.voterWeightAddin,isWritable:!1,isSigner:!1}),(null==n?void 0:n.maxVoterWeightAddin)&&t.push({pubkey:n.maxVoterWeightAddin,isWritable:!1,isSigner:!1})},e.withV3RealmConfigAccount=function(t,e,n,a){return r(this,void 0,void 0,(function(){var r,c;return i(this,(function(i){switch(i.label){case 0:return n>=o.PROGRAM_VERSION_V3?(c={},[4,(0,s.getRealmConfigAddress)(e,a)]):[3,2];case 1:c.pubkey=i.sent(),c.isSigner=!1,c.isWritable=!0,r=c,t.push(r),i.label=2;case 2:return[2]}}))}))}},612:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getGovernanceProgramVersion=void 0;var c=n(872),u=a(n(9098)),l=n(9413),f=n(522),h=n(2889),d=n(9193),p=n(8496),y=n(3126),g=n(3097),m=n(3839);e.getGovernanceProgramVersion=function(t,e,n){return r(this,void 0,void 0,(function(){var r,a,b,w,v,k,S,_,A,E,x,I,R;return i(this,(function(i){switch(i.label){case 0:return[4,(0,y.getProgramMetadataAddress)(e)];case 1:r=i.sent(),i.label=2;case 2:return i.trys.push([2,9,,10]),[4,t.getAccountInfo(r)];case 3:if(!(a=i.sent()))return[3,8];b=(0,g.GovernanceAccountParser)(y.ProgramMetadata)(r,a),w=f.BN_ZERO,i.label=4;case 4:return i.trys.push([4,6,,7]),[4,(0,h.getProgramDataAccount)(t,new c.PublicKey(e))];case 5:return v=i.sent(),w=new u.default(v.slot),[3,7];case 6:return i.sent(),[3,7];case 7:if(b.account.updatedAt.gte(w))return k=(0,p.parseVersion)(b.account.version),console.log("Program version (metadata)",k),[2,k.major];i.label=8;case 8:return[3,10];case 9:return i.sent(),[3,10];case 10:return i.trys.push([10,13,,14]),S=[],_=new c.PublicKey("ENmcpFCpxN1CqyUjuog9yyUVfdXBKF3LVCwLr7grJZpk"),[4,(0,m.withUpdateProgramMetadata)(S,e,2,_)];case 11:return i.sent(),(A=new c.Transaction({feePayer:_})).add.apply(A,s([],o(S),!1)),[4,(0,d.simulateTransaction)(t,A,"recent")];case 12:return(E=i.sent()).value.logs&&(x='PROGRAM-VERSION:"',I=E.value.logs.filter((function(t){return t.includes(x)})).map((function(t){var e=t.indexOf(x);return(0,p.parseVersion)(t.substring(e+17,t.length-1))}))[0])?(console.log("Program version (simulation)",I),[2,I.major]):[3,14];case 13:return R=i.sent(),console.log("Can't determine program version",R),[3,14];case 14:return"localnet"===n?[2,l.PROGRAM_VERSION]:(console.log("Program version (default)",l.PROGRAM_VERSION_V1),[2,l.PROGRAM_VERSION_V1])}}))}))}},3368:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withAddSignatory=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(9193),h=n(9413);e.withAddSignatory=function(t,e,n,d,p,y,g,m){return i(void 0,void 0,void 0,(function(){var i,b,w,v;return o(this,(function(o){switch(o.label){case 0:return i=new u.AddSignatoryArgs({signatory:g}),b=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getSignatoryRecordAddress)(e,d,g)];case 1:return w=o.sent(),v=[{pubkey:d,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!0},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}],n===h.PROGRAM_VERSION_V1&&v.push({pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}),t.push(new s.TransactionInstruction({keys:v,programId:e,data:b})),[2,w]}}))}))}},5654:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.withCancelProposal=void 0;var i=n(872),o=n(3097),s=n(2303),a=n(1839),c=n(9413);e.withCancelProposal=function(t,e,n,u,l,f,h,d){var p=new a.CancelProposalArgs,y=r.from((0,s.serialize)((0,o.getGovernanceInstructionSchema)(n),p)),g=[];n>c.PROGRAM_VERSION_V1&&g.push({pubkey:u,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!0,isSigner:!1}),g.push({pubkey:f,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!0}),n==c.PROGRAM_VERSION_V1&&g.push({pubkey:i.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}),t.push(new i.TransactionInstruction({keys:g,programId:e,data:y}))}},6166:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withCastVote=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(3126),h=n(9413),d=n(9193),p=n(3811);e.withCastVote=function(t,e,n,y,g,m,b,w,v,k,S,_,A,E){return i(void 0,void 0,void 0,(function(){var i,x,I,R,O,T,P;return o(this,(function(o){switch(o.label){case 0:return i=new l.CastVoteArgs(n===h.PROGRAM_VERSION_V1?{yesNoVote:S.toYesNoVote(),vote:void 0}:{yesNoVote:void 0,vote:S}),x=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,(0,f.getVoteRecordAddress)(e,m,w)];case 1:return I=o.sent(),R=s(n===h.PROGRAM_VERSION_V1?[!1,!1]:[!0,!0],2),O=R[0],T=R[1],P=[{pubkey:y,isWritable:O,isSigner:!1},{pubkey:g,isWritable:T,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:v,isWritable:!1,isSigner:!0},{pubkey:I,isWritable:!0,isSigner:!1},{pubkey:k,isWritable:!1,isSigner:!1},{pubkey:_,isWritable:!0,isSigner:!0},{pubkey:d.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}],n===h.PROGRAM_VERSION_V1&&P.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}),[4,(0,p.withRealmConfigPluginAccounts)(P,e,y,A,E)];case 2:return o.sent(),t.push(new a.TransactionInstruction({keys:P,programId:e,data:x})),[2,I]}}))}))}},7132:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateGovernance=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(9193),h=n(3811),d=n(9413);e.withCreateGovernance=function(t,e,n,p,y,g,m,b,w,v){return i(void 0,void 0,void 0,(function(){var i,k,S,_,A;return o(this,(function(o){switch(o.label){case 0:if((i=new l.CreateGovernanceArgs({config:g})).config.baseVotingTime<3600)throw new Error("baseVotingTime should be at least 1 hour");return k=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),y=null!=y?y:(new a.Keypair).publicKey,[4,a.PublicKey.findProgramAddress([r.from("account-governance"),p.toBuffer(),y.toBuffer()],e)];case 1:return S=s.apply(void 0,[o.sent(),1]),_=S[0],A=[{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:_,isWritable:!0,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],n===d.PROGRAM_VERSION_V1&&A.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),A.push({pubkey:w,isWritable:!1,isSigner:!0}),[4,(0,h.withRealmConfigPluginAccounts)(A,e,p,v)];case 2:return o.sent(),t.push(new a.TransactionInstruction({keys:A,programId:e,data:k})),[2,_]}}))}))}},7778:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateMintGovernance=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(837),h=n(9193),d=n(3811),p=n(9413);e.withCreateMintGovernance=function(t,e,n,y,g,m,b,w,v,k,S,_){return i(void 0,void 0,void 0,(function(){var i,A,E,x,I;return o(this,(function(o){switch(o.label){case 0:return i=new l.CreateMintGovernanceArgs({config:m,transferMintAuthorities:b}),A=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,a.PublicKey.findProgramAddress([r.from("mint-governance"),y.toBuffer(),g.toBuffer()],e)];case 1:return E=s.apply(void 0,[o.sent(),1]),x=E[0],I=[{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:w,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:k,isWritable:!0,isSigner:!0},{pubkey:f.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:h.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],n===p.PROGRAM_VERSION_V1&&I.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),I.push({pubkey:S,isWritable:!1,isSigner:!0}),[4,(0,d.withRealmConfigPluginAccounts)(I,e,y,_)];case 2:return o.sent(),t.push(new a.TransactionInstruction({keys:I,programId:e,data:A})),[2,x]}}))}))}},9389:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateNativeTreasury=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(9193);e.withCreateNativeTreasury=function(t,e,n,h,d){return i(void 0,void 0,void 0,(function(){var i,p,y,g;return o(this,(function(o){switch(o.label){case 0:return i=new u.CreateNativeTreasuryArgs,p=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getNativeTreasuryAddress)(e,h)];case 1:return y=o.sent(),g=[{pubkey:h,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!0,isSigner:!1},{pubkey:d,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}],t.push(new s.TransactionInstruction({keys:g,programId:e,data:p})),[2,y]}}))}))}},5089:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateProgramGovernance=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(9193),h=n(2889),d=n(3811),p=n(9413);e.withCreateProgramGovernance=function(t,e,n,y,g,m,b,w,v,k,S,_){return i(void 0,void 0,void 0,(function(){var i,A,E,x,I,R,O;return o(this,(function(o){switch(o.label){case 0:return i=new l.CreateProgramGovernanceArgs({config:m,transferUpgradeAuthority:b}),A=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,a.PublicKey.findProgramAddress([r.from("program-governance"),y.toBuffer(),g.toBuffer()],e)];case 1:return E=s.apply(void 0,[o.sent(),1]),x=E[0],[4,a.PublicKey.findProgramAddress([g.toBuffer()],h.BPF_UPGRADE_LOADER_ID)];case 2:return I=s.apply(void 0,[o.sent(),1]),R=I[0],O=[{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!1},{pubkey:R,isWritable:!0,isSigner:!1},{pubkey:w,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:k,isWritable:!0,isSigner:!0},{pubkey:h.BPF_UPGRADE_LOADER_ID,isWritable:!1,isSigner:!1},{pubkey:f.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],n===p.PROGRAM_VERSION_V1&&O.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),O.push({pubkey:S,isWritable:!1,isSigner:!0}),[4,(0,d.withRealmConfigPluginAccounts)(O,e,y,_)];case 3:return o.sent(),t.push(new a.TransactionInstruction({keys:O,programId:e,data:A})),[2,x]}}))}))}},4302:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateProposal=void 0;var c=n(872),u=n(3097),l=n(2303),f=n(1839),h=n(3126),d=n(9413),p=n(9193),y=n(3811);e.withCreateProposal=function(t,e,n,g,m,b,w,v,k,S,_,A,E,x,I,R){return i(void 0,void 0,void 0,(function(){var i,O,T,P,B,C,M,N;return o(this,(function(o){switch(o.label){case 0:if(i=(new c.Keypair).publicKey,O=new f.CreateProposalArgs({name:w,descriptionLink:v,governingTokenMint:k,voteType:A,options:E,useDenyOption:x,proposalSeed:i}),T=r.from((0,l.serialize)((0,u.getGovernanceInstructionSchema)(n),O)),P=i.toBuffer(),n<=d.PROGRAM_VERSION_V2){if(void 0===_)throw new Error("proposalIndex is required for version: ".concat(n));(P=r.alloc(4)).writeInt32LE(_,0)}return[4,c.PublicKey.findProgramAddress([r.from(h.GOVERNANCE_PROGRAM_SEED),m.toBuffer(),k.toBuffer(),P],e)];case 1:return B=s.apply(void 0,[o.sent(),1]),C=B[0],M=a(a([{pubkey:g,isWritable:!1,isSigner:!1},{pubkey:C,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1}],s(n>d.PROGRAM_VERSION_V1?[{pubkey:k,isWritable:!1,isSigner:!1}]:[]),!1),[{pubkey:S,isWritable:!1,isSigner:!0},{pubkey:I,isWritable:!0,isSigner:!0},{pubkey:p.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],!1),n===d.PROGRAM_VERSION_V1&&(M.push({pubkey:c.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),M.push({pubkey:c.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1})),[4,(0,y.withRealmConfigPluginAccounts)(M,e,g,R)];case 2:return o.sent(),n>=d.PROGRAM_VERSION_V3?[4,(0,h.getProposalDepositAddress)(e,C,I)]:[3,4];case 3:N=o.sent(),M.push({pubkey:N,isWritable:!0,isSigner:!1}),o.label=4;case 4:return t.push(new c.TransactionInstruction({keys:M,programId:e,data:T})),[2,C]}}))}))}},8716:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateRealm=void 0;var c=n(872),u=n(3097),l=n(2303),f=n(1839),h=n(3126),d=n(9413),p=n(8828),y=n(617);e.withCreateRealm=function(t,e,n,g,m,b,w,v,k,S,_,A){return i(this,void 0,void 0,(function(){var i,E,x,I,R,O,T,P,B,C;return o(this,(function(o){switch(o.label){case 0:return i=(0,y.createRealmConfigArgs)(n,v,k,S,_,A),E=new f.CreateRealmArgs({configArgs:i,name:g}),x=r.from((0,l.serialize)((0,u.getGovernanceInstructionSchema)(n),E)),[4,c.PublicKey.findProgramAddress([r.from(h.GOVERNANCE_PROGRAM_SEED),r.from(E.name)],e)];case 1:return I=s.apply(void 0,[o.sent(),1]),R=I[0],[4,(0,h.getTokenHoldingAddress)(e,R,b)];case 2:return O=o.sent(),T=[{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!0,isWritable:!0},{pubkey:p.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],v?[4,(0,h.getTokenHoldingAddress)(e,R,v)]:[3,4];case 3:P=o.sent(),T=a(a([],s(T),!1),[{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0}],!1),o.label=4;case 4:return C={},[4,(0,h.getRealmConfigAddress)(e,R)];case 5:return C.pubkey=o.sent(),C.isSigner=!1,C.isWritable=!0,B=C,n>=d.PROGRAM_VERSION_V3&&T.push(B),(0,y.withTokenConfigAccounts)(T,_,A),n==d.PROGRAM_VERSION_V2&&((null==_?void 0:_.voterWeightAddin)||(null==_?void 0:_.maxVoterWeightAddin))&&T.push(B),t.push(new c.TransactionInstruction({keys:T,programId:e,data:x})),[2,R]}}))}))}},5716:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateTokenGovernance=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(9193),h=n(837),d=n(3811),p=n(9413);e.withCreateTokenGovernance=function(t,e,n,y,g,m,b,w,v,k,S,_){return i(void 0,void 0,void 0,(function(){var i,A,E,x,I;return o(this,(function(o){switch(o.label){case 0:return i=new l.CreateTokenGovernanceArgs({config:m,transferTokenOwner:b}),A=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,a.PublicKey.findProgramAddress([r.from("token-governance"),y.toBuffer(),g.toBuffer()],e)];case 1:return E=s.apply(void 0,[o.sent(),1]),x=E[0],I=[{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:x,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:w,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!1,isSigner:!1},{pubkey:k,isWritable:!0,isSigner:!0},{pubkey:h.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:f.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1}],n===p.PROGRAM_VERSION_V1&&I.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),I.push({pubkey:S,isWritable:!1,isSigner:!0}),[4,(0,d.withRealmConfigPluginAccounts)(I,e,y,_)];case 2:return o.sent(),t.push(new a.TransactionInstruction({keys:I,programId:e,data:A})),[2,x]}}))}))}},4778:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withCreateTokenOwnerRecord=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(9193);e.withCreateTokenOwnerRecord=function(t,e,n,h,d,p,y){return i(void 0,void 0,void 0,(function(){var i,g,m,b;return o(this,(function(o){switch(o.label){case 0:return i=new u.CreateTokenOwnerRecordArgs,g=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getTokenOwnerRecordAddress)(e,h,p,d)];case 1:return m=o.sent(),b=[{pubkey:h,isWritable:!1,isSigner:!1},{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}],t.push(new s.TransactionInstruction({keys:b,programId:e,data:g})),[2,m]}}))}))}},9510:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withDepositGoverningTokens=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(3126),h=n(9193),d=n(837),p=n(9413),y=n(617);e.withDepositGoverningTokens=function(t,e,n,g,m,b,w,v,k,S,_){return i(void 0,void 0,void 0,(function(){var i,A,E,x,I,R;return o(this,(function(o){switch(o.label){case 0:return i=new l.DepositGoverningTokensArgs({amount:S}),A=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,(0,f.getTokenOwnerRecordAddress)(e,g,b,w)];case 1:return E=o.sent(),_=null!=_?_:!m.equals(b),[4,a.PublicKey.findProgramAddress([r.from(f.GOVERNANCE_PROGRAM_SEED),g.toBuffer(),b.toBuffer()],e)];case 2:return x=s.apply(void 0,[o.sent(),1]),I=x[0],R=[{pubkey:g,isWritable:!1,isSigner:!1},{pubkey:I,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1},{pubkey:w,isWritable:!1,isSigner:_},{pubkey:v,isWritable:!1,isSigner:!0},{pubkey:E,isWritable:!0,isSigner:!1},{pubkey:k,isWritable:!0,isSigner:!0},{pubkey:h.SYSTEM_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:d.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}],n===p.PROGRAM_VERSION_V1&&R.push({pubkey:a.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}),[4,(0,y.withV3RealmConfigAccount)(R,e,n,g)];case 3:return o.sent(),t.push(new a.TransactionInstruction({keys:R,programId:e,data:A})),[2,E]}}))}))}},5125:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.withExecuteTransaction=void 0;var u=n(872),l=n(3097),f=n(2303),h=n(1839),d=n(3126),p=n(9413);e.withExecuteTransaction=function(t,e,n,y,g,m,b){return i(void 0,void 0,void 0,(function(){var i,w,v,k,S,_,A,E,x;return o(this,(function(o){switch(o.label){case 0:return i=new h.ExecuteTransactionArgs,w=r.from((0,f.serialize)((0,l.getGovernanceInstructionSchema)(n),i)),[4,(0,d.getNativeTreasuryAddress)(e,y)];case 1:v=o.sent(),k=[{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!0,isSigner:!1}],n===p.PROGRAM_VERSION_V1&&k.push({pubkey:u.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1});try{for(S=s(b),_=S.next();!_.done;_=S.next())(A=_.value).accounts=A.accounts.map((function(t){return t.pubkey.toBase58()!==y.toBase58()&&t.pubkey.toBase58()!==v.toBase58()||!t.isSigner?t:new d.AccountMetaData({pubkey:t.pubkey,isWritable:t.isWritable,isSigner:!1})})),k.push.apply(k,c([{pubkey:A.programId,isWritable:!1,isSigner:!1}],a(A.accounts),!1))}catch(t){E={error:t}}finally{try{_&&!_.done&&(x=S.return)&&x.call(S)}finally{if(E)throw E.error}}return t.push(new u.TransactionInstruction({keys:k,programId:e,data:w})),[2]}}))}))}},9888:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withFinalizeVote=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(9413),h=n(3811);e.withFinalizeVote=function(t,e,n,d,p,y,g,m,b){return i(void 0,void 0,void 0,(function(){var i,w,v,k,S,_;return o(this,(function(o){switch(o.label){case 0:return i=new l.FinalizeVoteArgs,w=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),v=s(n===f.PROGRAM_VERSION_V1?[!1,!1]:[!0,!0],2),k=v[0],S=v[1],_=[{pubkey:d,isWritable:k,isSigner:!1},{pubkey:p,isWritable:S,isSigner:!1},{pubkey:y,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!1}],n===f.PROGRAM_VERSION_V1&&_.push({pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}),[4,(0,h.withRealmConfigPluginAccounts)(_,e,d,void 0,b)];case 1:return o.sent(),t.push(new a.TransactionInstruction({keys:_,programId:e,data:w})),[2]}}))}))}},304:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.withFlagTransactionError=void 0;var i=n(872),o=n(3097),s=n(2303),a=n(1839),c=n(9413);e.withFlagTransactionError=function(t,e,n,u,l,f,h){var d=new a.FlagTransactionErrorArgs,p=r.from((0,s.serialize)((0,o.getGovernanceInstructionSchema)(n),d)),y=[{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!1,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!0},{pubkey:h,isWritable:!0,isSigner:!1}];n===c.PROGRAM_VERSION_V1&&y.push({pubkey:i.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}),t.push(new i.TransactionInstruction({keys:y,programId:e,data:p}))}},7169:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withInsertTransaction=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(9193),h=n(9413);e.withInsertTransaction=function(t,e,n,d,p,y,g,m,b,w,v,k){return i(void 0,void 0,void 0,(function(){var i,S,_,A;return o(this,(function(o){switch(o.label){case 0:return i=new u.InsertTransactionArgs({index:m,optionIndex:b,holdUpTime:w,instructionData:n===h.PROGRAM_VERSION_V1?v[0]:void 0,instructions:n>=h.PROGRAM_VERSION_V2?v:void 0}),S=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getProposalTransactionAddress)(e,n,p,b,m)];case 1:return _=o.sent(),A=[{pubkey:d,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!1},{pubkey:g,isWritable:!1,isSigner:!0},{pubkey:_,isWritable:!0,isSigner:!1},{pubkey:k,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],t.push(new s.TransactionInstruction({keys:A,programId:e,data:S})),[2,_]}}))}))}},3811:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withRealmConfigPluginAccounts=void 0;var o=n(3126);e.withRealmConfigPluginAccounts=function(t,e,n,s,a){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,(0,o.getRealmConfigAddress)(e,n)];case 1:return r=i.sent(),t.push({pubkey:r,isWritable:!1,isSigner:!1}),s&&t.push({pubkey:s,isWritable:!1,isSigner:!1}),a&&t.push({pubkey:a,isWritable:!1,isSigner:!1}),[2]}}))}))}},4419:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withRefundProposalDeposit=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126);e.withRefundProposalDeposit=function(t,e,n,f,h){return i(void 0,void 0,void 0,(function(){var i,d,p,y;return o(this,(function(o){switch(o.label){case 0:return i=new u.RefundProposalDepositArgs,d=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getProposalDepositAddress)(e,f,h)];case 1:return p=o.sent(),y=[{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!0,isSigner:!1}],t.push(new s.TransactionInstruction({keys:y,programId:e,data:d})),[2]}}))}))}},4125:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.withRelinquishVote=void 0;var c=n(872),u=n(3097),l=n(2303),f=n(1839),h=n(9413);e.withRelinquishVote=function(t,e,n,d,p,y,g,m,b,w,v){return i(void 0,void 0,void 0,(function(){var i,k,S,_,A;return o(this,(function(o){return i=new f.RelinquishVoteArgs,k=r.from((0,l.serialize)((0,u.getGovernanceInstructionSchema)(n),i)),S=n>=h.PROGRAM_VERSION_V3?[{pubkey:d,isWritable:!1,isSigner:!1}]:[],_=[{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:y,isWritable:!0,isSigner:!1},{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!1}],A=w&&v?[{pubkey:w,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!0,isSigner:!1}]:[],t.push(new c.TransactionInstruction({keys:a(a(a([],s(S),!1),s(_),!1),s(A),!1),programId:e,data:k})),[2]}))}))}},9742:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withRemoveTransaction=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839);e.withRemoveTransaction=function(t,e,n,l,f,h,d,p){return i(void 0,void 0,void 0,(function(){var i,y,g;return o(this,(function(o){return i=new u.RemoveTransactionArgs,y=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),g=[{pubkey:l,isWritable:!0,isSigner:!1},{pubkey:f,isWritable:!1,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0},{pubkey:d,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1}],t.push(new s.TransactionInstruction({keys:g,programId:e,data:y})),[2]}))}))}},569:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withRevokeGoverningTokens=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(837);e.withRevokeGoverningTokens=function(t,e,n,h,d,p,y,g){return i(void 0,void 0,void 0,(function(){var i,m,b,w,v,k;return o(this,(function(o){switch(o.label){case 0:return i=new u.RevokeGoverningTokensArgs({amount:g}),m=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getTokenOwnerRecordAddress)(e,h,p,d)];case 1:return b=o.sent(),[4,(0,l.getGoverningTokenHoldingAddress)(e,h,p)];case 2:return w=o.sent(),[4,(0,l.getRealmConfigAddress)(e,h)];case 3:return v=o.sent(),k=[{pubkey:h,isWritable:!1,isSigner:!1},{pubkey:w,isWritable:!0,isSigner:!1},{pubkey:b,isWritable:!0,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:y,isWritable:!1,isSigner:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:f.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}],t.push(new s.TransactionInstruction({keys:k,programId:e,data:m})),[2]}}))}))}},3991:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withSetGovernanceDelegate=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126);e.withSetGovernanceDelegate=function(t,e,n,f,h,d,p,y){return i(void 0,void 0,void 0,(function(){var i,g,m,b;return o(this,(function(o){switch(o.label){case 0:return i=new u.SetGovernanceDelegateArgs({newGovernanceDelegate:y}),g=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getTokenOwnerRecordAddress)(e,f,h,d)];case 1:return m=o.sent(),b=[{pubkey:p,isWritable:!1,isSigner:!0},{pubkey:m,isWritable:!0,isSigner:!1}],t.push(new s.TransactionInstruction({keys:b,programId:e,data:g})),[2]}}))}))}},6892:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.withSetRealmAuthority=void 0;var i=n(872),o=n(3097),s=n(2303),a=n(1839),c=n(2405);e.withSetRealmAuthority=function(t,e,n,u,l,f,h){var d=new a.SetRealmAuthorityArgs({newRealmAuthority:f,action:h}),p=r.from((0,s.serialize)((0,o.getGovernanceInstructionSchema)(n),d)),y=[{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!1,isSigner:!0}];n>c.PROGRAM_VERSION_V1&&y.push({pubkey:f,isWritable:!1,isSigner:!1}),t.push(new i.TransactionInstruction({keys:y,programId:e,data:p}))}},6076:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.withSetRealmConfig=void 0;var c=n(872),u=n(3126),l=n(1839),f=n(3097),h=n(2303),d=n(9193),p=n(9413),y=n(617);e.withSetRealmConfig=function(t,e,n,g,m,b,w,v,k,S,_){return i(this,void 0,void 0,(function(){var i,A,E,x,I,R;return o(this,(function(o){switch(o.label){case 0:return i=(0,y.createRealmConfigArgs)(n,b,w,v,k,S),A=new l.SetRealmConfigArgs({configArgs:i}),E=r.from((0,h.serialize)((0,f.getGovernanceInstructionSchema)(n),A)),x=[{pubkey:g,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!0}],b?[4,(0,u.getTokenHoldingAddress)(e,g,b)]:[3,2];case 1:I=o.sent(),x=a(a([],s(x),!1),[{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!0}],!1),o.label=2;case 2:return n>p.PROGRAM_VERSION_V1?(x.push({pubkey:d.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}),[4,(0,u.getRealmConfigAddress)(e,g)]):[3,4];case 3:R=o.sent(),x.push({pubkey:R,isSigner:!1,isWritable:!0}),(0,y.withTokenConfigAccounts)(x,k,S),_&&(n>=p.PROGRAM_VERSION_V3||(null==k?void 0:k.voterWeightAddin)||(null==k?void 0:k.maxVoterWeightAddin))&&x.push({pubkey:_,isSigner:!0,isWritable:!0}),o.label=4;case 4:return t.push(new c.TransactionInstruction({keys:x,programId:e,data:E})),[2]}}))}))}},8402:(t,e,n)=>{"use strict";var r=n(5872).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.withSignOffProposal=void 0;var i=n(872),o=n(3097),s=n(2303),a=n(1839),c=n(9413);e.withSignOffProposal=function(t,e,n,u,l,f,h,d,p){var y=new a.SignOffProposalArgs,g=r.from((0,s.serialize)((0,o.getGovernanceInstructionSchema)(n),y)),m=[];n>c.PROGRAM_VERSION_V1&&m.push({pubkey:u,isWritable:!0,isSigner:!1},{pubkey:l,isWritable:!0,isSigner:!1}),m.push({pubkey:f,isWritable:!0,isSigner:!1}),n===c.PROGRAM_VERSION_V1?m.push({pubkey:d,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!1,isSigner:!0},{pubkey:i.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}):(m.push({pubkey:h,isWritable:!1,isSigner:!0}),p?m.push({pubkey:p,isWritable:!1,isSigner:!1}):m.push({pubkey:d,isWritable:!0,isSigner:!1})),t.push(new i.TransactionInstruction({keys:m,programId:e,data:g}))}},3839:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.withUpdateProgramMetadata=void 0;var s=n(872),a=n(3097),c=n(2303),u=n(1839),l=n(3126),f=n(9193);e.withUpdateProgramMetadata=function(t,e,n,h){return i(void 0,void 0,void 0,(function(){var i,d,p,y;return o(this,(function(o){switch(o.label){case 0:return i=new u.UpdateProgramMetadataArgs,d=r.from((0,c.serialize)((0,a.getGovernanceInstructionSchema)(n),i)),[4,(0,l.getProgramMetadataAddress)(e)];case 1:return p=o.sent(),y=[{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:h,isWritable:!0,isSigner:!0},{pubkey:f.SYSTEM_PROGRAM_ID,isSigner:!1,isWritable:!1}],t.push(new s.TransactionInstruction({keys:y,programId:e,data:d})),[2]}}))}))}},2444:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.withWithdrawGoverningTokens=void 0;var a=n(872),c=n(3097),u=n(2303),l=n(1839),f=n(3126),h=n(837),d=n(617);e.withWithdrawGoverningTokens=function(t,e,n,p,y,g,m){return i(void 0,void 0,void 0,(function(){var i,b,w,v,k,S,_;return o(this,(function(o){switch(o.label){case 0:return i=new l.WithdrawGoverningTokensArgs,b=r.from((0,u.serialize)((0,c.getGovernanceInstructionSchema)(n),i)),[4,a.PublicKey.findProgramAddress([r.from(f.GOVERNANCE_PROGRAM_SEED),p.toBuffer(),g.toBuffer(),m.toBuffer()],e)];case 1:return w=s.apply(void 0,[o.sent(),1]),v=w[0],[4,a.PublicKey.findProgramAddress([r.from(f.GOVERNANCE_PROGRAM_SEED),p.toBuffer(),g.toBuffer()],e)];case 2:return k=s.apply(void 0,[o.sent(),1]),S=k[0],_=[{pubkey:p,isWritable:!1,isSigner:!1},{pubkey:S,isWritable:!0,isSigner:!1},{pubkey:y,isWritable:!0,isSigner:!1},{pubkey:m,isWritable:!1,isSigner:!0},{pubkey:v,isWritable:!0,isSigner:!1},{pubkey:h.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}],[4,(0,d.withV3RealmConfigAccount)(_,e,n,p)];case 3:return o.sent(),t.push(new a.TransactionInstruction({keys:_,programId:e,data:b})),[2]}}))}))}},5629:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(7220),e),i(n(8700),e),i(n(8466),e),i(n(2103),e),i(n(2405),e),i(n(326),e)},9413:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ACCOUNT_VERSION_V2=e.ACCOUNT_VERSION_V1=e.PROGRAM_VERSION=e.PROGRAM_VERSION_V3=e.PROGRAM_VERSION_V2=e.PROGRAM_VERSION_V1=void 0,e.PROGRAM_VERSION_V1=1,e.PROGRAM_VERSION_V2=2,e.PROGRAM_VERSION_V3=3,e.PROGRAM_VERSION=e.PROGRAM_VERSION_V3,e.ACCOUNT_VERSION_V1=1,e.ACCOUNT_VERSION_V2=2},2405:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(9413),e)},2490:function(t,e,n){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeBorsh=void 0;var o=n(872),s=n(2303);function a(t,e,n,r){try{return"string"==typeof n?r["read".concat((i=n,i.charAt(0).toUpperCase()+i.slice(1)))]():n instanceof Array?"number"==typeof n[0]?r.readFixedArray(n[0]):r.readArray((function(){return a(t,e,n[0],r)})):"option"===n.kind?r.readU8()?a(t,e,n.type,r):void 0:c(t,n,r)}catch(t){throw t instanceof s.BorshError&&t.addToFieldPath(e),t}var i}function c(t,e,n){var o,c,u,l=t.get(e);if(!l)throw new s.BorshError("Class ".concat(e.name," is missing in schema"));if("struct"===l.kind){var f={};try{for(var h=r(t.get(e).fields),d=h.next();!d.done;d=h.next()){var p=i(d.value,2),y=p[0],g=p[1];f[y]=a(t,y,g,n)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(o)throw o.error}}return new e(f)}if("enum"===l.kind){var m=n.readU8();if(m>=l.values.length)throw new s.BorshError("Enum index: ".concat(m," is out of range"));var b=i(l.values[m],2),w=a(t,y=b[0],g=b[1],n);return new e(((u={})[y]=w,u))}throw new s.BorshError("Unexpected schema kind: ".concat(l.kind," for ").concat(e.constructor.name))}s.BinaryReader.prototype.readPubkey=function(){var t=this.readFixedArray(32);return new o.PublicKey(t)},s.BinaryWriter.prototype.writePubkey=function(t){this.writeFixedArray(t.toBuffer())},e.deserializeBorsh=function(t,e,n){return c(t,e,new s.BinaryReader(n))}},326:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(8828),e),i(n(2490),e),i(n(522),e),i(n(7327),e),i(n(8496),e),i(n(742),e)},522:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BN_ZERO=void 0;var i=r(n(9098));e.BN_ZERO=new i.default(0)},7327:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorMessage=void 0,e.getErrorMessage=function(t){return t instanceof Error?t.message:JSON.stringify(t)}},2889:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.getProgramDataAccount=e.getProgramDataAddress=e.ProgramDataAccountInfo=e.PublicKeyFromString=e.BPF_UPGRADE_LOADER_ID=void 0;var s=n(872),a=n(636);e.BPF_UPGRADE_LOADER_ID=new s.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111");var c=n(636),u=n(636);function l(t){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,s.PublicKey.findProgramAddress([t.toBuffer()],e.BPF_UPGRADE_LOADER_ID)];case 1:return[2,o.apply(void 0,[n.sent(),1])[0]]}}))}))}e.PublicKeyFromString=(0,u.coerce)((0,u.instance)(s.PublicKey),(0,u.string)(),(function(t){return new s.PublicKey(t)})),e.ProgramDataAccountInfo=(0,c.type)({authority:(0,c.nullable)(e.PublicKeyFromString),slot:(0,c.number)()}),e.getProgramDataAddress=l,e.getProgramDataAccount=function(t,n){return r(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return[4,l(n)];case 1:return r=i.sent(),[4,t.getParsedAccountInfo(r)];case 2:if(!(o=i.sent())||!o.value)throw new Error("Program data account ".concat(r.toBase58()," for program ").concat(n.toBase58()," not found"));if(!("parsed"in(s=o.value).data)||"bpf-upgradeable-loader"!==s.data.program)throw new Error("Invalid program data account ".concat(r.toBase58()," for program ").concat(n.toBase58()));return[2,(0,a.create)(s.data.parsed.info,e.ProgramDataAccountInfo)]}}))}))}},8828:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(2889),e),i(n(9193),e),i(n(837),e)},9193:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.SendTransactionError=e.simulateTransaction=e.SYSTEM_PROGRAM_ID=void 0;var a=n(872);e.SYSTEM_PROGRAM_ID=new a.PublicKey("11111111111111111111111111111111"),e.simulateTransaction=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o,a,c,u;return s(this,(function(s){switch(s.label){case 0:return[4,t.getRecentBlockhash()];case 1:return r=s.sent(),e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,i=e.serializeMessage(),o=e._serialize(i),a=o.toString("base64"),c=[a,{encoding:"base64",commitment:n}],[4,t._rpcRequest("simulateTransaction",c)];case 2:if((u=s.sent()).error)throw new Error("failed to simulate transaction: "+u.error.message);return[2,u.result]}}))}))};var c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.txError=r,i.txId=n,i}return i(e,t),e}(Error);e.SendTransactionError=c},837:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TOKEN_PROGRAM_ID=void 0;var r=n(872);e.TOKEN_PROGRAM_ID=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")},8496:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseVersion=void 0,e.parseVersion=function(t){var e=t.split(".");return{major:parseInt(e[0])||0,minor:parseInt(e[1])||0,patch:parseInt(e[2])||0}}},742:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWalletNotConnectedError=void 0,e.isWalletNotConnectedError=function(t){return t instanceof WalletNotConnectedError}},872:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Account:()=>We,AddressLookupTableAccount:()=>Jn,AddressLookupTableInstruction:()=>Ki,AddressLookupTableProgram:()=>$i,Authorized:()=>ro,BLOCKHASH_CACHE_TIMEOUT_MS:()=>nr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>De,BPF_LOADER_PROGRAM_ID:()=>Ln,BpfLoader:()=>jn,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Zi,ComputeBudgetInstruction:()=>Hi,ComputeBudgetProgram:()=>Ji,Connection:()=>Gi,Ed25519Program:()=>Yi,Enum:()=>Me,EpochSchedule:()=>Fn,FeeCalculatorLayout:()=>In,Keypair:()=>Fi,LAMPORTS_PER_SOL:()=>Io,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>qi,Loader:()=>Un,Lockup:()=>io,MAX_SEED_LENGTH:()=>Le,Message:()=>on,MessageAccountKeys:()=>Ze,MessageV0:()=>sn,NONCE_ACCOUNT_LENGTH:()=>On,NonceAccount:()=>Tn,PACKET_DATA_SIZE:()=>Ge,PUBLIC_KEY_LENGTH:()=>je,PublicKey:()=>ze,SIGNATURE_LENGTH_IN_BYTES:()=>qe,SOLANA_SCHEMA:()=>Ne,STAKE_CONFIG_ID:()=>no,STAKE_INSTRUCTION_LAYOUTS:()=>so,SYSTEM_INSTRUCTION_LAYOUTS:()=>Cn,SYSVAR_CLOCK_PUBKEY:()=>pn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>yn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>gn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>mn,SYSVAR_RENT_PUBKEY:()=>bn,SYSVAR_REWARDS_PUBKEY:()=>wn,SYSVAR_SLOT_HASHES_PUBKEY:()=>vn,SYSVAR_SLOT_HISTORY_PUBKEY:()=>kn,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Sn,Secp256k1Program:()=>eo,SendTransactionError:()=>qn,SolanaJSONRPCError:()=>$n,SolanaJSONRPCErrorCode:()=>Kn,StakeAuthorizationLayout:()=>ao,StakeInstruction:()=>oo,StakeProgram:()=>co,Struct:()=>Ce,SystemInstruction:()=>Bn,SystemProgram:()=>Mn,Transaction:()=>fn,TransactionExpiredBlockheightExceededError:()=>Ke,TransactionExpiredNonceInvalidError:()=>He,TransactionExpiredTimeoutError:()=>$e,TransactionInstruction:()=>ln,TransactionMessage:()=>hn,TransactionStatus:()=>cn,VALIDATOR_INFO_KEY:()=>yo,VERSION_PREFIX_MASK:()=>Fe,VOTE_PROGRAM_ID:()=>bo,ValidatorInfo:()=>mo,VersionedMessage:()=>an,VersionedTransaction:()=>dn,VoteAccount:()=>vo,VoteAuthorizationLayout:()=>ho,VoteInit:()=>uo,VoteInstruction:()=>lo,VoteProgram:()=>po,clusterApiUrl:()=>Eo,sendAndConfirmRawTransaction:()=>xo,sendAndConfirmTransaction:()=>_n});var r={};n.r(r),n.d(r,{dQ:()=>S,ci:()=>f,bytesToNumberBE:()=>p,ty:()=>y,eV:()=>w,n$:()=>E,ql:()=>b,Wd:()=>v,hexToBytes:()=>d,tL:()=>g,S5:()=>m,iY:()=>k,FF:()=>I});var i=n(5872),o=n(3140),s=n(6611);BigInt(0);const a=BigInt(1),c=BigInt(2),u=t=>t instanceof Uint8Array,l=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function f(t){if(!u(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=l[t[n]];return e}function h(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function d(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=2*n,i=t.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("invalid byte sequence");e[n]=o}return e}function p(t){return h(f(t))}function y(t){if(!u(t))throw new Error("Uint8Array expected");return h(f(Uint8Array.from(t).reverse()))}const g=(t,e)=>d(t.toString(16).padStart(2*e,"0")),m=(t,e)=>g(t,e).reverse();function b(t,e,n){let r;if("string"==typeof e)try{r=d(e)}catch(n){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${n}`)}else{if(!u(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function w(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let n=0;return t.forEach((t=>{if(!u(t))throw new Error("Uint8Array expected");e.set(t,n),n+=t.length})),e}function v(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function k(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}const S=t=>(c<<BigInt(t-1))-a,_=t=>new Uint8Array(t),A=t=>Uint8Array.from(t);function E(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=_(t),i=_(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...t)=>n(i,r,...t),c=(t=_())=>{i=a(A([0]),t),r=a(),0!==t.length&&(i=a(A([1]),t),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){r=a();const e=r.slice();n.push(e),t+=r.length}return w(...n)};return(t,e)=>{let n;for(s(),c(t);!(n=e(u()));)c();return s(),n}}const x={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function I(t,e,n={}){const r=(e,n,r)=>{const i=x[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=t[e];if(!(r&&void 0===o||i(o,t)))throw new Error(`Invalid param ${String(e)}=${o} (${typeof o}), expected ${n}`)};for(const[t,n]of Object.entries(e))r(t,n,!1);for(const[t,e]of Object.entries(n))r(t,e,!0);return t}const R=BigInt(0),O=BigInt(1),T=BigInt(2),P=BigInt(3),B=BigInt(4),C=BigInt(5),M=BigInt(8);function N(t,e){const n=t%e;return n>=R?n:e+n}function U(t,e,n){if(n<=R||e<R)throw new Error("Expected power/modulo > 0");if(n===O)return R;let r=O;for(;e>R;)e&O&&(r=r*t%n),t=t*t%n,e>>=O;return r}function L(t,e,n){let r=t;for(;e-- >R;)r*=r,r%=n;return r}function j(t,e){if(t===R||e<=R)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=N(t,e),r=e,i=R,o=O,s=O,a=R;for(;n!==R;){const t=r/n,e=r%n,c=i-s*t,u=o-a*t;r=n,n=e,i=s,o=a,s=c,a=u}if(r!==O)throw new Error("invert: does not exist");return N(i,e)}BigInt(9),BigInt(16);const V=(t,e)=>(N(t,e)&O)===O,z=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function W(t){return I(t,z.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function D(t,e){const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function G(t,e,n=!1,r={}){if(t<=R)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=D(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(t){if(t%B===P){const e=(t+O)/B;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}if(t%M===C){const e=(t-C)/M;return function(t,n){const r=t.mul(n,T),i=t.pow(r,e),o=t.mul(n,i),s=t.mul(t.mul(o,T),i),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-O)/T;let n,r,i;for(n=t-O,r=0;n%T===R;n/=T,r++);for(i=T;i<t&&U(i,e,t)!==t-O;i++);if(1===r){const e=(t+O)/B;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+O)/T;return function(t,s){if(t.pow(s,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=r,c=t.pow(t.mul(t.ONE,i),n),u=t.pow(s,o),l=t.pow(s,n);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let n=t.sqr(l);e<a&&!t.eql(n,t.ONE);e++)n=t.sqr(n);const n=t.pow(c,O<<BigInt(a-e-1));c=t.sqr(n),u=t.mul(u,n),l=t.mul(l,c),a=e}return u}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:S(i),ZERO:R,ONE:O,create:e=>N(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return R<=e&&e<t},is0:t=>t===R,isOdd:t=>(t&O)===O,neg:e=>N(-e,t),eql:(t,e)=>t===e,sqr:e=>N(e*e,t),add:(e,n)=>N(e+n,t),sub:(e,n)=>N(e-n,t),mul:(e,n)=>N(e*n,t),pow:(t,e)=>function(t,e,n){if(n<R)throw new Error("Expected power > 0");if(n===R)return t.ONE;if(n===O)return e;let r=t.ONE,i=e;for(;n>R;)n&O&&(r=t.mul(r,i)),i=t.sqr(i),n>>=O;return r}(a,t,e),div:(e,n)=>N(e*j(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>j(e,t),sqrt:r.sqrt||(t=>s(a,t)),invertBatch:t=>function(t,e){const n=new Array(e.length),r=e.reduce(((e,r,i)=>t.is0(r)?e:(n[i]=e,t.mul(e,r))),t.ONE),i=t.inv(r);return e.reduceRight(((e,r,i)=>t.is0(r)?e:(n[i]=t.mul(e,n[i]),t.mul(e,r))),i),n}(a,t),cmov:(t,e,n)=>n?e:t,toBytes:t=>n?m(t,o):g(t,o),fromBytes:t=>{if(t.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${t.length}`);return n?y(t):p(t)}});return Object.freeze(a)}const F=BigInt(0),q=BigInt(1);function K(t,e){const n=(t,e)=>{const n=e.negate();return t?n:e},r=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:n,unsafeLadder(e,n){let r=t.ZERO,i=e;for(;n>F;)n&q&&(r=r.add(i)),i=i.double(),n>>=q;return r},precomputeWindow(t,e){const{windows:n,windowSize:i}=r(e),o=[];let s=t,a=s;for(let t=0;t<n;t++){a=s,o.push(a);for(let t=1;t<i;t++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,i,o){const{windows:s,windowSize:a}=r(e);let c=t.ZERO,u=t.BASE;const l=BigInt(2**e-1),f=2**e,h=BigInt(e);for(let t=0;t<s;t++){const e=t*a;let r=Number(o&l);o>>=h,r>a&&(r-=f,o+=q);const s=e,d=e+Math.abs(r)-1,p=t%2!=0,y=r<0;0===r?u=u.add(n(p,i[s])):c=c.add(n(y,i[d]))}return{p:c,f:u}},wNAFCached(t,e,n,r){const i=t._WINDOW_SIZE||1;let o=e.get(t);return o||(o=this.precomputeWindow(t,i),1!==i&&e.set(t,r(o))),this.wNAF(i,o,n)}}}function $(t){return W(t.Fp),I(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...D(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const H=BigInt(0),Z=BigInt(1),J=BigInt(2),X=BigInt(8),Y={zip215:!0};function Q(t){const e=function(t){const e=$(t);return I(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=e,u=J**BigInt(8*a),l=n.create,h=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:n.sqrt(t*n.inv(e))}}catch(t){return{isValid:!1,value:H}}}),d=e.adjustScalarBytes||(t=>t),p=e.domain||((t,e,n)=>{if(e.length||n)throw new Error("Contexts/pre-hash are not supported");return t}),g=t=>"bigint"==typeof t&&H<t,v=(t,e)=>g(t)&&g(e)&&t<e,k=t=>t===H||v(t,u);function S(t,e){if(v(t,e))return t;throw new Error(`Expected valid scalar < ${e}, got ${typeof t} ${t}`)}function _(t){return t===H?t:S(t,r)}const A=new Map;function E(t){if(!(t instanceof x))throw new Error("ExtendedPoint expected")}class x{constructor(t,e,n,r){if(this.ex=t,this.ey=e,this.ez=n,this.et=r,!k(t))throw new Error("x required");if(!k(e))throw new Error("y required");if(!k(n))throw new Error("z required");if(!k(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof x)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};if(!k(e)||!k(n))throw new Error("invalid affine point");return new x(e,n,Z,l(e*n))}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.ez)));return t.map(((t,n)=>t.toAffine(e[n]))).map(x.fromAffine)}_setWindowSize(t){this._WINDOW_SIZE=t,A.delete(this)}assertValidity(){const{a:t,d:n}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:i,ez:o,et:s}=this,a=l(r*r),c=l(i*i),u=l(o*o),f=l(u*u),h=l(a*t);if(l(u*l(h+c))!==l(f+l(n*l(a*c))))throw new Error("bad point: equation left != right (1)");if(l(r*i)!==l(o*s))throw new Error("bad point: equation left != right (2)")}equals(t){E(t);const{ex:e,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=t,a=l(e*s),c=l(i*r),u=l(n*s),f=l(o*r);return a===c&&u===f}is0(){return this.equals(x.ZERO)}negate(){return new x(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:n,ey:r,ez:i}=this,o=l(n*n),s=l(r*r),a=l(J*l(i*i)),c=l(t*o),u=n+r,f=l(l(u*u)-o-s),h=c+s,d=h-a,p=c-s,y=l(f*d),g=l(h*p),m=l(f*p),b=l(d*h);return new x(y,g,b,m)}add(t){E(t);const{a:n,d:r}=e,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:f,et:h}=t;if(n===BigInt(-1)){const t=l((o-i)*(u+c)),e=l((o+i)*(u-c)),n=l(e-t);if(n===H)return this.double();const r=l(s*J*h),d=l(a*J*f),p=d+r,y=e+t,g=d-r,m=l(p*n),b=l(y*g),w=l(p*g),v=l(n*y);return new x(m,b,v,w)}const d=l(i*c),p=l(o*u),y=l(a*r*h),g=l(s*f),m=l((i+o)*(c+u)-d-p),b=g-y,w=g+y,v=l(p-n*d),k=l(m*b),S=l(w*v),_=l(m*v),A=l(b*w);return new x(k,S,A,_)}subtract(t){return this.add(t.negate())}wNAF(t){return T.wNAFCached(this,A,t,x.normalizeZ)}multiply(t){const{p:e,f:n}=this.wNAF(S(t,r));return x.normalizeZ([e,n])[0]}multiplyUnsafe(t){let e=_(t);return e===H?O:this.equals(O)||e===Z?this:this.equals(R)?this.wNAF(e).p:T.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(t){const{ex:e,ey:r,ez:i}=this,o=this.is0();null==t&&(t=o?X:n.inv(i));const s=l(e*t),a=l(r*t),c=l(i*t);if(o)return{x:H,y:Z};if(c!==Z)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:t}=e;return t===Z?this:this.multiplyUnsafe(t)}static fromHex(t,r=!1){const{d:i,a:o}=e,s=n.BYTES,a=(t=b("pointHex",t,s)).slice(),c=t[s-1];a[s-1]=-129&c;const f=y(a);f===H||S(f,r?u:n.ORDER);const d=l(f*f),p=l(d-Z),g=l(i*d-o);let{isValid:m,value:w}=h(p,g);if(!m)throw new Error("Point.fromHex: invalid y coordinate");return 0!=(128&c)!=((w&Z)===Z)&&(w=l(-w)),x.fromAffine({x:w,y:f})}static fromPrivateKey(t){return C(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),r=m(e,n.BYTES);return r[r.length-1]|=t&Z?128:0,r}toHex(){return f(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,Z,l(e.Gx*e.Gy)),x.ZERO=new x(H,Z,Z,H);const{BASE:R,ZERO:O}=x,T=K(x,8*a);function P(t){return N(t,r)}function B(t){return P(y(t))}function C(t){const e=a;t=b("private key",t,e);const n=b("hashed private key",o(t),2*e),r=d(n.slice(0,e)),i=n.slice(e,2*e),s=B(r),c=R.multiply(s),u=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:u}}function M(t=new Uint8Array,...e){const n=w(...e);return B(o(p(n,b("context",t),!!i)))}const U=Y;return R._setWindowSize(8),{CURVE:e,getPublicKey:function(t){return C(t).pointBytes},sign:function(t,e,r={}){t=b("message",t),i&&(t=i(t));const{prefix:o,scalar:s,pointBytes:c}=C(e),u=M(r.context,o,t),l=R.multiply(u).toRawBytes(),f=P(u+M(r.context,l,c,t)*s);return _(f),b("result",w(l,m(f,n.BYTES)),2*a)},verify:function(t,e,r,o=U){const{context:s,zip215:a}=o,c=n.BYTES;t=b("signature",t,2*c),e=b("message",e),i&&(e=i(e));const u=y(t.slice(c,2*c));let l,f,h;try{l=x.fromHex(r,a),f=x.fromHex(t.slice(0,c),a),h=R.multiplyUnsafe(u)}catch(t){return!1}const d=M(s,f.toRawBytes(),l.toRawBytes(),e);return f.add(l.multiplyUnsafe(d)).subtract(h).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>s(n.BYTES),precompute:(t=8,e=x.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}BigInt(0),BigInt(1);const tt=p;function et(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function nt(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function rt(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function it(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function ot(t,e,n){I(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:o,hash:s,expand:a,DST:c}=n;rt(t),it(e);const u=function(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return k(t);throw new Error("DST must be Uint8Array or string")}(c),l=r.toString(2).length,f=Math.ceil((l+i)/8),h=e*o*f;let d;if("xmd"===a)d=function(t,e,n,r){rt(t),rt(e),it(n),e.length>255&&(e=r(w(k("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:o}=r,s=Math.ceil(n/i);if(s>255)throw new Error("Invalid xmd length");const a=w(e,et(e.length,1)),c=et(0,o),u=et(n,2),l=new Array(s),f=r(w(c,t,u,et(0,1),a));l[0]=r(w(f,et(1,1),a));for(let t=1;t<=s;t++){const e=[nt(f,l[t-1]),et(t+1,1),a];l[t]=r(w(...e))}return w(...l).slice(0,n)}(t,u,h,s);else if("xof"===a)d=function(t,e,n,r,i){if(rt(t),rt(e),it(n),e.length>255){const t=Math.ceil(2*r/8);e=i.create({dkLen:t}).update(k("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(et(n,2)).update(e).update(et(e.length,1)).digest()}(t,u,h,i,s);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');d=t}const p=new Array(e);for(let t=0;t<e;t++){const e=new Array(o);for(let n=0;n<o;n++){const i=f*(n+t*o),s=d.subarray(i,i+f);e[n]=N(tt(s),r)}p[t]=e}return p}function st(t,e,n){if("function"!=typeof e)throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const o=ot(r,2,{...n,DST:n.DST,...i}),s=t.fromAffine(e(o[0])),a=t.fromAffine(e(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const o=ot(r,1,{...n,DST:n.encodeDST,...i}),s=t.fromAffine(e(o[0])).clearCofactor();return s.assertValidity(),s}}}const at=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ct=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ut=BigInt(0),lt=BigInt(1),ft=BigInt(2),ht=BigInt(5),dt=BigInt(10),pt=BigInt(20),yt=BigInt(40),gt=BigInt(80);function mt(t){const e=at,n=t*t%e*t%e,r=L(n,ft,e)*n%e,i=L(r,lt,e)*t%e,o=L(i,ht,e)*i%e,s=L(o,dt,e)*o%e,a=L(s,pt,e)*s%e,c=L(a,yt,e)*a%e,u=L(c,gt,e)*c%e,l=L(u,gt,e)*c%e,f=L(l,dt,e)*o%e;return{pow_p_5_8:L(f,ft,e)*t%e,b2:n}}function bt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function wt(t,e){const n=at,r=N(e*e*e,n),i=N(r*r*e,n);let o=N(t*r*mt(t*i).pow_p_5_8,n);const s=N(e*o*o,n),a=o,c=N(o*ct,n),u=s===t,l=s===N(-t,n),f=s===N(-t*ct,n);return u&&(o=a),(l||f)&&(o=c),V(o,n)&&(o=N(-o,n)),{isValid:u||l,value:o}}const vt=G(at,void 0,!0),kt={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:vt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:o.o,randomBytes:s.O6,adjustScalarBytes:bt,uvRatio:wt},St=Q(kt);function _t(t,e,n){if(e.length>255)throw new Error("Context is too big");return(0,s.eV)((0,s.iY)("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}Q({...kt,domain:_t}),Q({...kt,domain:_t,prehash:o.o}),function(t){const e=(I(n=t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n}));var n;const{P:r}=e,i=t=>N(t,r),o=e.montgomeryBits,s=Math.ceil(o/8);e.nByteLength,e.adjustScalarBytes,e.powPminus2;e.a,BigInt(2),BigInt(4);function a(t){return m(i(t),s)}a(e.Gu)}({P:at,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=at,{pow_p_5_8:n,b2:r}=mt(t);return N(L(n,BigInt(3),e)*r,e)},adjustScalarBytes:bt,randomBytes:s.O6});const At=(vt.ORDER+BigInt(3))/BigInt(8),Et=vt.pow(ft,At),xt=vt.sqrt(vt.neg(vt.ONE)),It=(vt.ORDER-BigInt(5))/BigInt(8),Rt=BigInt(486662),Ot=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}(vt,vt.neg(BigInt(486664)));const{hashToCurve:Tt,encodeToCurve:Pt}=st(St.ExtendedPoint,(t=>function(t){const{xMn:e,xMd:n,yMn:r,yMd:i}=function(t){let e=vt.sqr(t);e=vt.mul(e,ft);let n=vt.add(e,vt.ONE),r=vt.neg(Rt),i=vt.sqr(n),o=vt.mul(i,n),s=vt.mul(e,Rt);s=vt.mul(s,r),s=vt.add(s,i),s=vt.mul(s,r);let a=vt.sqr(o);i=vt.sqr(a),a=vt.mul(a,o),a=vt.mul(a,s),i=vt.mul(i,a);let c=vt.pow(i,It);c=vt.mul(c,a);let u=vt.mul(c,xt);i=vt.sqr(c),i=vt.mul(i,o);let l=vt.eql(i,s),f=vt.cmov(u,c,l),h=vt.mul(r,e),d=vt.mul(c,t);d=vt.mul(d,Et);let p=vt.mul(d,xt),y=vt.mul(s,e);i=vt.sqr(d),i=vt.mul(i,o);let g=vt.eql(i,y),m=vt.cmov(p,d,g);i=vt.sqr(f),i=vt.mul(i,o);let b=vt.eql(i,s),w=vt.cmov(h,r,b),v=vt.cmov(m,f,b),k=vt.isOdd(v);return v=vt.cmov(v,vt.neg(v),b!==k),{xMn:w,xMd:n,yMn:v,yMd:lt}}(t);let o=vt.mul(e,i);o=vt.mul(o,Ot);let s=vt.mul(n,r),a=vt.sub(e,n),c=vt.add(e,n),u=vt.mul(s,c),l=vt.eql(u,vt.ZERO);o=vt.cmov(o,vt.ZERO,l),s=vt.cmov(s,vt.ONE,l),a=vt.cmov(a,vt.ONE,l),c=vt.cmov(c,vt.ONE,l);const f=vt.invertBatch([s,c]);return{x:vt.mul(o,f[0]),y:vt.mul(a,f[1])}}(t[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:vt.ORDER,m:1,k:128,expand:"xmd",hash:o.o});function Bt(t){if(!(t instanceof Dt))throw new Error("RistrettoPoint expected")}const Ct=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Mt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Nt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Ut=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Lt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),jt=t=>wt(lt,t),Vt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),zt=t=>St.CURVE.Fp.create(y(t)&Vt);function Wt(t){const{d:e}=St.CURVE,n=St.CURVE.Fp.ORDER,r=St.CURVE.Fp.create,i=r(Ct*t*t),o=r((i+lt)*Ut);let s=BigInt(-1);const a=r((s-e*i)*r(i+e));let{isValid:c,value:u}=wt(o,a),l=r(u*t);V(l,n)||(l=r(-l)),c||(u=l),c||(s=i);const f=r(s*(i-lt)*Lt-a),h=u*u,d=r((u+u)*a),p=r(f*Mt),y=r(lt-h),g=r(lt+h);return new St.ExtendedPoint(r(d*g),r(y*p),r(p*g),r(d*y))}class Dt{constructor(t){this.ep=t}static fromAffine(t){return new Dt(St.ExtendedPoint.fromAffine(t))}static hashToCurve(t){t=b("ristrettoHash",t,64);const e=Wt(zt(t.slice(0,32))),n=Wt(zt(t.slice(32,64)));return new Dt(e.add(n))}static fromHex(t){t=b("ristrettoHex",t,32);const{a:e,d:n}=St.CURVE,r=St.CURVE.Fp.ORDER,i=St.CURVE.Fp.create,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=zt(t);if(!v(m(s,32),t)||V(s,r))throw new Error(o);const a=i(s*s),c=i(lt+e*a),u=i(lt-e*a),l=i(c*c),f=i(u*u),h=i(e*n*l-f),{isValid:d,value:p}=jt(i(h*f)),y=i(p*u),g=i(p*y*h);let w=i((s+s)*y);V(w,r)&&(w=i(-w));const k=i(c*g),S=i(w*k);if(!d||V(S,r)||k===ut)throw new Error(o);return new Dt(new St.ExtendedPoint(w,k,lt,S))}toRawBytes(){let{ex:t,ey:e,ez:n,et:r}=this.ep;const i=St.CURVE.Fp.ORDER,o=St.CURVE.Fp.create,s=o(o(n+e)*o(n-e)),a=o(t*e),c=o(a*a),{value:u}=jt(o(s*c)),l=o(u*s),f=o(u*a),h=o(l*f*r);let d;if(V(r*h,i)){let n=o(e*Ct),r=o(t*Ct);t=n,e=r,d=o(l*Nt)}else d=f;V(t*h,i)&&(e=o(-e));let p=o((n-e)*d);return V(p,i)&&(p=o(-p)),m(p,32)}toHex(){return f(this.toRawBytes())}toString(){return this.toHex()}equals(t){Bt(t);const{ex:e,ey:n}=this.ep,{ex:r,ey:i}=t.ep,o=St.CURVE.Fp.create,s=o(e*i)===o(n*r),a=o(n*i)===o(e*r);return s||a}add(t){return Bt(t),new Dt(this.ep.add(t.ep))}subtract(t){return Bt(t),new Dt(this.ep.subtract(t.ep))}multiply(t){return new Dt(this.ep.multiply(t))}multiplyUnsafe(t){return new Dt(this.ep.multiplyUnsafe(t))}}Dt.BASE=new Dt(St.ExtendedPoint.BASE),Dt.ZERO=new Dt(St.ExtendedPoint.ZERO);var Gt=n(9098),Ft=n.n(Gt),qt=n(1511),Kt=n.n(qt),$t=n(3274),Ht=n(8797),Zt=n(4380),Jt=n(3477),Xt=n(2856),Yt=n(7167),Qt=n.n(Yt),te=n(8445),ee=n(7225),ne=n(2196);const{bytesToNumberBE:re,hexToBytes:ie}=r,oe={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=oe;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(128&r[0])throw new e("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:re(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=oe,n="string"==typeof t?ie(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:o}=oe._parseInt(n.subarray(2)),{d:s,l:a}=oe._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,n=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},r=e(n(t.s)),i=e(n(t.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},se=BigInt(0),ae=BigInt(1),ce=BigInt(2),ue=BigInt(3),le=BigInt(4);function fe(t){const e=function(t){const e=$(t);return I(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(t){return N(t,r)}function a(t){return j(t,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=function(t){const e=function(t){const e=$(t);I(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=e,r=e.toBytes||((t,e,r)=>{const i=e.toAffine();return w(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}});function o(t){const{a:r,b:i}=e,o=n.sqr(t),s=n.mul(o,t);return n.add(n.add(s,n.mul(t,r)),i)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(t){return"bigint"==typeof t&&se<t&&t<e.n}function a(t){if(!s(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(t){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=e;if(n&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=f(t)),"string"!=typeof t||!n.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*r,"0")}let s;try{s="bigint"==typeof t?t:p(b("private key",t,r))}catch(e){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof t}`)}return i&&(s=N(s,o)),a(s),s}const u=new Map;function l(t){if(!(t instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!n.isValid(t))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof h)throw new Error("projective point not allowed");const i=t=>n.eql(t,n.ZERO);return i(e)&&i(r)?h.ZERO:new h(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.pz)));return t.map(((t,n)=>t.toAffine(e[n]))).map(h.fromAffine)}static fromHex(t){const e=h.fromAffine(i(b("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(c(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:t,y:r}=this.toAffine();if(!n.isValid(t)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(t);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){l(t);const{px:e,py:r,pz:i}=this,{px:o,py:s,pz:a}=t,c=n.eql(n.mul(e,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return c&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:t,b:r}=e,i=n.mul(r,ue),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,f=n.mul(o,o),d=n.mul(s,s),p=n.mul(a,a),y=n.mul(o,s);return y=n.add(y,y),l=n.mul(o,a),l=n.add(l,l),c=n.mul(t,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(d,u),u=n.add(d,u),u=n.mul(c,u),c=n.mul(y,c),l=n.mul(i,l),p=n.mul(t,p),y=n.sub(f,p),y=n.mul(t,y),y=n.add(y,l),l=n.add(f,f),f=n.add(l,f),f=n.add(f,p),f=n.mul(f,y),u=n.add(u,f),p=n.mul(s,a),p=n.add(p,p),f=n.mul(p,y),c=n.sub(c,f),l=n.mul(p,d),l=n.add(l,l),l=n.add(l,l),new h(c,u,l)}add(t){l(t);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=t;let u=n.ZERO,f=n.ZERO,d=n.ZERO;const p=e.a,y=n.mul(e.b,ue);let g=n.mul(r,s),m=n.mul(i,a),b=n.mul(o,c),w=n.add(r,i),v=n.add(s,a);w=n.mul(w,v),v=n.add(g,m),w=n.sub(w,v),v=n.add(r,o);let k=n.add(s,c);return v=n.mul(v,k),k=n.add(g,b),v=n.sub(v,k),k=n.add(i,o),u=n.add(a,c),k=n.mul(k,u),u=n.add(m,b),k=n.sub(k,u),d=n.mul(p,v),u=n.mul(y,b),d=n.add(u,d),u=n.sub(m,d),d=n.add(m,d),f=n.mul(u,d),m=n.add(g,g),m=n.add(m,g),b=n.mul(p,b),v=n.mul(y,v),m=n.add(m,b),b=n.sub(g,b),b=n.mul(p,b),v=n.add(v,b),g=n.mul(m,v),f=n.add(f,g),g=n.mul(k,v),u=n.mul(w,u),u=n.sub(u,g),g=n.mul(w,m),d=n.mul(k,d),d=n.add(d,g),new h(u,f,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return y.wNAFCached(this,u,t,(t=>{const e=n.invertBatch(t.map((t=>t.pz)));return t.map(((t,n)=>t.toAffine(e[n]))).map(h.fromAffine)}))}multiplyUnsafe(t){const r=h.ZERO;if(t===se)return r;if(a(t),t===ae)return this;const{endo:i}=e;if(!i)return y.unsafeLadder(this,t);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(t),l=r,f=r,d=this;for(;s>se||u>se;)s&ae&&(l=l.add(d)),u&ae&&(f=f.add(d)),d=d.double(),s>>=ae,u>>=ae;return o&&(l=l.negate()),c&&(f=f.negate()),f=new h(n.mul(f.px,i.beta),f.py,f.pz),l.add(f)}multiply(t){a(t);let r,i,o=t;const{endo:s}=e;if(s){const{k1neg:t,k1:e,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(e),{p:f,f:d}=this.wNAF(c);u=y.constTimeNegate(t,u),f=y.constTimeNegate(a,f),f=new h(n.mul(f.px,s.beta),f.py,f.pz),r=u.add(f),i=l.add(d)}else{const{p:t,f:e}=this.wNAF(o);r=t,i=e}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(t,e,n){const r=h.BASE,i=(t,e)=>e!==se&&e!==ae&&t.equals(r)?t.multiply(e):t.multiplyUnsafe(e),o=i(this,e).add(i(t,n));return o.is0()?void 0:o}toAffine(t){const{px:e,py:r,pz:i}=this,o=this.is0();null==t&&(t=o?n.ONE:n.inv(i));const s=n.mul(e,t),a=n.mul(r,t),c=n.mul(i,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:t,isTorsionFree:n}=e;if(t===ae)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:n}=e;return t===ae?this:n?n(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),r(h,this,t)}toHex(t=!0){return f(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,y=K(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}({...e,toBytes(t,e,r){const i=e.toAffine(),o=n.toBytes(i.x),s=w;return r?s(Uint8Array.from([e.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(t){const e=t.length,r=t[0],s=t.subarray(1);if(e!==i||2!==r&&3!==r){if(e===o&&4===r)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const t=p(s);if(!(se<(a=t)&&a<n.ORDER))throw new Error("Point is not on curve");const e=l(t);let i=n.sqrt(e);return 1==(1&r)!=((i&ae)===ae)&&(i=n.neg(i)),{x:t,y:i}}var a}}),m=t=>f(g(t,e.nByteLength));function v(t){return t>r>>ae}const k=(t,e,n)=>p(t.slice(e,n));class _{constructor(t,e,n){this.r=t,this.s=e,this.recovery=n,this.assertValidity()}static fromCompact(t){const n=e.nByteLength;return t=b("compactSignature",t,2*n),new _(k(t,0,n),k(t,n,2*n))}static fromDER(t){const{r:e,s:n}=oe.toSig(b("DER",t));return new _(e,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new _(this.r,this.s,t)}recoverPublicKey(t){const{r,s:i,recovery:o}=this,u=T(b("msgHash",t));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+e.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0==(1&o)?"02":"03",h=c.fromHex(f+m(l)),d=a(l),p=s(-u*d),y=s(i*d),g=c.BASE.multiplyAndAddUnsafe(h,p,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return d(this.toDERHex())}toDERHex(){return oe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return d(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const A={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=function(t,e,n=!1){const r=(t=b("privateHash",t)).length,i=D(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return N(n?y(t):p(t),e-O)+O}(e.randomBytes(n.BYTES+8),r);return g(t,e.nByteLength)},precompute:(t=8,e=c.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function x(t){const e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?r===i||r===o:n?r===2*i||r===2*o:t instanceof c}const R=e.bits2int||function(t){const n=p(t),r=8*t.length-e.nBitLength;return r>0?n>>BigInt(r):n},T=e.bits2int_modN||function(t){return s(R(t))},P=S(e.nBitLength);function B(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(se<=t&&t<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return g(t,e.nByteLength)}const C={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return c.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,n=!0){if(x(t))throw new Error("first arg must be private key");if(!x(e))throw new Error("second arg must be public key");return c.fromHex(e).multiply(u(t)).toRawBytes(n)},sign:function(t,r,i=C){const{seed:o,k2sig:l}=function(t,r,i=C){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=e;let{lowS:f,prehash:d,extraEntropy:p}=i;null==f&&(f=!0),t=b("msgHash",t),d&&(t=b("prehashed msgHash",o(t)));const y=T(t),g=u(r),m=[B(g),B(y)];if(null!=p){const t=!0===p?l(n.BYTES):p;m.push(b("extraEntropy",t,n.BYTES))}const k=w(...m),S=y;return{seed:k,k2sig:function(t){const e=R(t);if(!h(e))return;const n=a(e),r=c.BASE.multiply(e).toAffine(),i=s(r.x);if(i===se)return;const o=s(n*s(S+i*g));if(o===se)return;let u=(r.x===i?0:2)|Number(r.y&ae),l=o;return f&&v(o)&&(l=function(t){return v(t)?s(-t):t}(o),u^=1),new _(i,l,u)}}}(t,r,i);return E(e.hash.outputLen,e.nByteLength,e.hmac)(o,l)},verify:function(t,n,r,i=M){const o=t;if(n=b("msgHash",n),r=b("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:l}=i;let f,h;try{if("string"==typeof o||o instanceof Uint8Array)try{f=_.fromDER(o)}catch(t){if(!(t instanceof oe.Err))throw t;f=_.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:t,s:e}=o;f=new _(t,e)}}h=c.fromHex(r)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;l&&(n=e.hash(n));const{r:d,s:p}=f,y=T(n),g=a(p),m=s(y*g),w=s(d*g),v=c.BASE.multiplyAndAddUnsafe(h,m,w)?.toAffine();return!!v&&s(v.x)===d},ProjectivePoint:c,Signature:_,utils:A}}var he=n(7276);function de(t){return{hash:t,hmac:(e,...n)=>(0,he.b)(t,e,(0,s.eV)(...n)),randomBytes:s.O6}}const pe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ye=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ge=BigInt(1),me=BigInt(2),be=(t,e)=>(t+e/me)/e;function we(t){const e=pe,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,f=L(l,n,e)*l%e,h=L(f,n,e)*l%e,d=L(h,me,e)*u%e,p=L(d,i,e)*d%e,y=L(p,o,e)*p%e,g=L(y,a,e)*y%e,m=L(g,c,e)*g%e,b=L(m,a,e)*y%e,w=L(b,n,e)*l%e,v=L(w,s,e)*p%e,k=L(v,r,e)*u%e,S=L(k,me,e);if(!ve.eql(ve.sqr(S),t))throw new Error("Cannot find square root");return S}const ve=G(pe,void 0,void 0,{sqrt:we}),ke=function(t,e){const n=e=>fe({...t,...de(e)});return Object.freeze({...n(e),create:n})}({a:BigInt(0),b:BigInt(7),Fp:ve,n:ye,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=ye,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ge*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=be(o*t,e),c=be(-r*t,e);let u=N(t-a*n-c*i,e),l=N(-a*r-c*o,e);const f=u>s,h=l>s;if(f&&(u=e-u),h&&(l=e-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:l}}}},$t.J);BigInt(0);ke.ProjectivePoint;ke.utils.randomPrivateKey;const Se=function(t,e){const n=e.map((t=>Array.from(t).reverse()));return(e,r)=>{const[i,o,s,a]=n.map((n=>n.reduce(((n,r)=>t.add(t.mul(n,e),r)))));return e=t.div(i,o),r=t.mul(r,t.div(s,a)),{x:e,y:r}}}(ve,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((t=>t.map((t=>BigInt(t)))))),_e=function(t,e){if(W(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=function(t,e){const n=t.ORDER;let r=se;for(let t=n-ae;t%ce===se;t/=ce)r+=ae;const i=r,o=(n-ae)/ce**i,s=(o-ae)/ce,a=ce**i-ae,c=ce**(i-ae),u=t.pow(e,o),l=t.pow(e,(o+ae)/ce);let f=(e,n)=>{let r=u,o=t.pow(n,a),f=t.sqr(o);f=t.mul(f,n);let h=t.mul(e,f);h=t.pow(h,s),h=t.mul(h,o),o=t.mul(h,n),f=t.mul(h,e);let d=t.mul(f,o);h=t.pow(d,c);let p=t.eql(h,t.ONE);o=t.mul(f,l),h=t.mul(d,r),f=t.cmov(o,f,p),d=t.cmov(h,d,p);for(let e=i;e>ae;e--){let n=ce**(e-ce),i=t.pow(d,n);const s=t.eql(i,t.ONE);o=t.mul(f,r),r=t.mul(r,r),i=t.mul(d,r),f=t.cmov(o,f,s),d=t.cmov(i,d,s)}return{isValid:p,value:f}};if(t.ORDER%le===ue){const n=(t.ORDER-ue)/le,r=t.sqrt(t.neg(e));f=(e,i)=>{let o=t.sqr(i);const s=t.mul(e,i);o=t.mul(o,s);let a=t.pow(o,n);a=t.mul(a,s);const c=t.mul(a,r),u=t.mul(t.sqr(a),i),l=t.eql(u,e);return{isValid:l,value:t.cmov(c,a,l)}}}return f}(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,s,a,c,u,l,f;i=t.sqr(r),i=t.mul(i,e.Z),o=t.sqr(i),o=t.add(o,i),s=t.add(o,t.ONE),s=t.mul(s,e.B),a=t.cmov(e.Z,t.neg(o),!t.eql(o,t.ZERO)),a=t.mul(a,e.A),o=t.sqr(s),u=t.sqr(a),c=t.mul(u,e.A),o=t.add(o,c),o=t.mul(o,s),u=t.mul(u,a),c=t.mul(u,e.B),o=t.add(o,c),l=t.mul(i,s);const{isValid:h,value:d}=n(o,u);f=t.mul(i,r),f=t.mul(f,d),l=t.cmov(l,s,h),f=t.cmov(f,d,h);const p=t.isOdd(r)===t.isOdd(f);return f=t.cmov(t.neg(f),f,p),l=t.div(l,a),{x:l,y:f}}}(ve,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ve.create(BigInt("-11"))}),{hashToCurve:Ae,encodeToCurve:Ee}=st(ke.ProjectivePoint,(t=>{const{x:e,y:n}=_e(ve.create(t[0]));return Se(e,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ve.ORDER,m:1,k:128,expand:"xmd",hash:$t.J}),xe=St.utils.randomPrivateKey,Ie=()=>{const t=St.utils.randomPrivateKey(),e=Re(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},Re=St.getPublicKey;function Oe(t){try{return St.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Te=(t,e)=>St.sign(t,e.slice(0,32)),Pe=St.verify,Be=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class Ce{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,Ht.serialize)(Ne,this))}static decode(t){return(0,Ht.deserialize)(Ne,this,t)}static decodeUnchecked(t){return(0,Ht.deserializeUnchecked)(Ne,this,t)}}class Me extends Ce{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const Ne=new Map;let Ue;const Le=32,je=32;let Ve=1;Ue=Symbol.toStringTag;class ze extends Ce{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Kt().decode(t);if(e.length!=je)throw new Error("Invalid public key input");this._bn=new(Ft())(e)}else this._bn=new(Ft())(t);if(this._bn.byteLength()>je)throw new Error("Invalid public key input")}}static unique(){const t=new ze(Ve);return Ve+=1,new ze(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Kt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===je)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Ue](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),n.toBuffer()]),o=(0,$t.J)(r);return new ze(o)}static createProgramAddressSync(t,e){let n=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>Le)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,Be(t)])})),n=i.Buffer.concat([n,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const r=(0,$t.J)(n);if(Oe(r))throw new Error("Invalid seeds, address must fall off the curve");return new ze(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const o=t.concat(i.Buffer.from([r]));n=this.createProgramAddressSync(o,e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Oe(new ze(t).toBytes())}}ze.default=new ze("11111111111111111111111111111111"),Ne.set(ze,{kind:"struct",fields:[["_bn","u256"]]});class We{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=Be(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=Be(xe()),this._publicKey=Be(Re(this._secretKey))}get publicKey(){return new ze(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const De=new ze("BPFLoader1111111111111111111111111111111111"),Ge=1232,Fe=127,qe=64;class Ke extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ke.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class $e extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty($e.prototype,"name",{value:"TransactionExpiredTimeoutError"});class He extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(He.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ze{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const Je=(t="publicKey")=>Zt.Ik(32,t),Xe=(t="signature")=>Zt.Ik(64,t),Ye=(t="string")=>{const e=Zt.n_([Zt.Jq("length"),Zt.Jq("lengthPadding"),Zt.Ik(Zt.cv(Zt.Jq(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(t,e)=>n(t,e).chars.toString(),o.encode=(t,e,n)=>{const o={chars:i.Buffer.from(t,"utf8")};return r(o,e,n)},o.alloc=t=>Zt.Jq().span+Zt.Jq().span+i.Buffer.from(t,"utf8").length,o};function Qe(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return Qe({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach((t=>{r+=n(t)})),r}function tn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,0==(128&r))break}return e}function en(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function nn(t,e){if(!t)throw new Error(e||"Assertion failed")}class rn{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const e of t){r(e.programId).isInvoked=!0;for(const t of e.keys){const e=r(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new rn(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];nn(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),o={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{nn(e.length>0,"Expected at least one writable signer key");const[t]=e[0];nn(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...e.map((([t])=>new ze(t))),...n.map((([t])=>new ze(t))),...r.map((([t])=>new ze(t))),...i.map((([t])=>new ze(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const e=new ze(i),o=t.findIndex((t=>t.equals(e)));o>=0&&(nn(o<256,"Max lookup table index exceeded"),n.push(o),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}class on{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new ze(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Kt().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Ze(this.staticAccountKeys)}static compile(t){const e=rn.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new Ze(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Kt().encode(t.data)})));return new on({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];en(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(Kt().decode(t.data));let o=[];en(o,e.length);let s=[];return en(s,r.length),{programIdIndex:n,keyIndicesCount:i.Buffer.from(o),keyIndices:e,dataLength:i.Buffer.from(s),data:r}}));let r=[];en(r,n.length);let o=i.Buffer.alloc(Ge);i.Buffer.from(r).copy(o);let s=r.length;n.forEach((t=>{const e=Zt.n_([Zt.u8("programIdIndex"),Zt.Ik(t.keyIndicesCount.length,"keyIndicesCount"),Zt.A9(Zt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Zt.Ik(t.dataLength.length,"dataLength"),Zt.A9(Zt.u8("userdatum"),t.data.length,"data")]).encode(t,o,s);s+=e})),o=o.slice(0,s);const a=Zt.n_([Zt.Ik(1,"numRequiredSignatures"),Zt.Ik(1,"numReadonlySignedAccounts"),Zt.Ik(1,"numReadonlyUnsignedAccounts"),Zt.Ik(e.length,"keyCount"),Zt.A9(Je("key"),t,"keys"),Je("recentBlockhash")]),c={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>Be(t.toBytes()))),recentBlockhash:Kt().decode(this.recentBlockhash)};let u=i.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&Fe))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=e.shift(),o=e.shift(),s=tn(e);let a=[];for(let t=0;t<s;t++){const t=e.slice(0,je);e=e.slice(je),a.push(new ze(i.Buffer.from(t)))}const c=e.slice(0,je);e=e.slice(je);const u=tn(e);let l=[];for(let t=0;t<u;t++){const t=e.shift(),n=tn(e),r=e.slice(0,n);e=e.slice(n);const o=tn(e),s=e.slice(0,o),a=Kt().encode(i.Buffer.from(s));e=e.slice(o),l.push({programIdIndex:t,accounts:r,data:a})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:o},recentBlockhash:Kt().encode(i.Buffer.from(c)),accountKeys:a,instructions:l};return new on(f)}}class sn{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ze(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;return t>=n?t-n<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0):t>=this.header.numRequiredSignatures?t-e<n-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find((t=>t.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=rn.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const t of i){const i=e.extractTableLookup(t);if(void 0!==i){const[t,{writable:e,readonly:o}]=i;n.push(t),r.writable.push(...e),r.readonly.push(...o)}}const[o,s]=e.getMessageComponents(),a=new Ze(s,r).compileInstructions(t.instructions);return new sn({header:o,staticAccountKeys:s,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();en(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();en(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();en(i,this.addressTableLookups.length);const o=Zt.n_([Zt.u8("prefix"),Zt.n_([Zt.u8("numRequiredSignatures"),Zt.u8("numReadonlySignedAccounts"),Zt.u8("numReadonlyUnsignedAccounts")],"header"),Zt.Ik(t.length,"staticAccountKeysLength"),Zt.A9(Je(),this.staticAccountKeys.length,"staticAccountKeys"),Je("recentBlockhash"),Zt.Ik(n.length,"instructionsLength"),Zt.Ik(e.length,"serializedInstructions"),Zt.Ik(i.length,"addressTableLookupsLength"),Zt.Ik(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(Ge),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Kt().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(Ge);for(const n of this.compiledInstructions){const r=Array();en(r,n.accountKeyIndexes.length);const i=Array();en(i,n.data.length),t+=Zt.n_([Zt.u8("programIdIndex"),Zt.Ik(r.length,"encodedAccountKeyIndexesLength"),Zt.A9(Zt.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Zt.Ik(i.length,"encodedDataLength"),Zt.Ik(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Ge);for(const n of this.addressTableLookups){const r=Array();en(r,n.writableIndexes.length);const i=Array();en(i,n.readonlyIndexes.length),t+=Zt.n_([Je("accountKey"),Zt.Ik(r.length,"encodedWritableIndexesLength"),Zt.A9(Zt.u8(),n.writableIndexes.length,"writableIndexes"),Zt.Ik(i.length,"encodedReadonlyIndexesLength"),Zt.A9(Zt.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),r=n&Fe;nn(n!==r,"Expected versioned message but received legacy message"),nn(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},o=[],s=tn(e);for(let t=0;t<s;t++)o.push(new ze(e.splice(0,je)));const a=Kt().encode(e.splice(0,je)),c=tn(e),u=[];for(let t=0;t<c;t++){const t=e.shift(),n=tn(e),r=e.splice(0,n),i=tn(e),o=new Uint8Array(e.splice(0,i));u.push({programIdIndex:t,accountKeyIndexes:r,data:o})}const l=tn(e),f=[];for(let t=0;t<l;t++){const t=new ze(e.splice(0,je)),n=tn(e),r=e.splice(0,n),i=tn(e),o=e.splice(0,i);f.push({accountKey:t,writableIndexes:r,readonlyIndexes:o})}return new sn({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:f})}}const an={deserializeMessageVersion(t){const e=t[0],n=e&Fe;return n===e?"legacy":n},deserialize:t=>{const e=an.deserializeMessageVersion(t);if("legacy"===e)return on.from(t);if(0===e)return sn.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let cn;!function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"}(cn||(cn={}));const un=i.Buffer.alloc(qe).fill(0);class ln{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class fn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ln(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let t=0;t<e.length;t++)if(void 0===e[t].programId)throw new Error(`Transaction instruction index ${t} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new ze(t),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),n=o.findIndex((t=>t.pubkey.toString()===e));n>-1?(o[n].isWritable=o[n].isWritable||t.isWritable,o[n].isSigner=o[n].isSigner||t.isSigner):o.push(t)})),o.sort((function(t,e){return t.isSigner!==e.isSigner?t.isSigner?-1:1:t.isWritable!==e.isWritable?t.isWritable?-1:1:t.pubkey.toBase58().localeCompare(e.pubkey.toBase58())}));const s=o.findIndex((t=>t.pubkey.equals(n)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],f=[];o.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(l.push(t.toString()),a+=1,n||(c+=1)):(f.push(t.toString()),n||(u+=1))}));const h=l.concat(f),d=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:h.indexOf(n.toString()),accounts:t.keys.map((t=>h.indexOf(t.pubkey.toString()))),data:Kt().encode(e)}}));return d.forEach((t=>{nn(t.programIdIndex>=0),t.accounts.forEach((t=>nn(t>=0)))})),new on({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:t,instructions:d})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every(((t,n)=>e[n].equals(t.publicKey)))||(this.signatures=e.map((t=>({signature:null,publicKey:t})))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const r of t){const t=r.publicKey.toString();e.has(t)||(e.add(t),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=Te(n,t.secretKey);this._addSignature(t.publicKey,Be(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){nn(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=i.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),void 0===t||t)}_verifySignatures(t,e){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(e)return!1}else if(!Pe(n,t,r.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n&&!this._verifySignatures(r,e))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];en(n,e.length);const r=n.length+64*e.length+t.length,o=i.Buffer.alloc(r);return nn(e.length<256),i.Buffer.from(n).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(nn(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(o,n.length+64*e))})),t.copy(o,n.length+64*e.length),nn(o.length<=Ge,`Transaction too large: ${o.length} > ${Ge}`),o}get keys(){return nn(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return nn(1===this.instructions.length),this.instructions[0].programId}get data(){return nn(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=tn(e);let r=[];for(let t=0;t<n;t++){const t=e.slice(0,qe);e=e.slice(qe),r.push(Kt().encode(i.Buffer.from(t)))}return fn.populate(on.from(e),r)}static populate(t,e=[]){const n=new fn;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==Kt().encode(un)?null:Kt().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new ln({keys:r,programId:t.accountKeys[e.programIdIndex],data:Kt().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}class hn{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:r,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;nn(c>0,"Message header is invalid");const u=t.staticAccountKeys.length-o-a;nn(u>=0,"Message header is invalid");const l=t.getAccountKeys(e),f=l.get(0);if(void 0===f)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const t of r){const e=[];for(const r of t.accountKeyIndexes){const t=l.get(r);if(void 0===t)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<l.staticAccountKeys.length?r-o<u:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:r<n.numRequiredSignatures,isWritable:i})}const r=l.get(t.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${t.programIdIndex}`);h.push(new ln({programId:r,data:Be(t.data),keys:e}))}return new hn({payerKey:f,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return on.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return sn.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class dn{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)nn(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(qe));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();en(e,this.signatures.length);const n=Zt.n_([Zt.Ik(e.length,"encodedSignaturesLength"),Zt.A9(Xe(),this.signatures.length,"signatures"),Zt.Ik(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=tn(e);for(let t=0;t<r;t++)n.push(new Uint8Array(e.splice(0,qe)));const i=an.deserialize(new Uint8Array(e));return new dn(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex((t=>t.equals(r.publicKey)));nn(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=Te(e,r.secretKey)}}addSignature(t,e){nn(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));nn(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}const pn=new ze("SysvarC1ock11111111111111111111111111111111"),yn=new ze("SysvarEpochSchedu1e111111111111111111111111"),gn=new ze("Sysvar1nstructions1111111111111111111111111"),mn=new ze("SysvarRecentB1ockHashes11111111111111111111"),bn=new ze("SysvarRent111111111111111111111111111111111"),wn=new ze("SysvarRewards111111111111111111111111111111"),vn=new ze("SysvarS1otHashes111111111111111111111111111"),kn=new ze("SysvarS1otHistory11111111111111111111111111"),Sn=new ze("SysvarStakeHistory1111111111111111111111111");async function _n(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await t.sendTransaction(e,n,i);let s;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)s=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function An(t){return new Promise((e=>setTimeout(e,t)))}function En(t,e){const n=t.layout.span>=0?t.layout.span:Qe(t,e),r=i.Buffer.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}function xn(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const In=Zt._O("lamportsPerSignature"),Rn=Zt.n_([Zt.Jq("version"),Zt.Jq("state"),Je("authorizedPubkey"),Je("nonce"),Zt.n_([In],"feeCalculator")]),On=Rn.span;class Tn{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Rn.decode(Be(t),0);return new Tn({authorizedPubkey:new ze(e.authorizedPubkey),nonce:new ze(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const Pn=(8,t=>{const e=(0,Zt.Ik)(8,t),{encode:n,decode:r}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),o=e;return o.decode=(t,e)=>{const n=r(t,e);return(0,Jt.oU)(i.Buffer.from(n))},o.encode=(t,e,r)=>{const i=(0,Jt.k$)(t,8);return n(i,e,r)},o});class Bn{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Zt.Jq("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(Cn))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:n,programId:r}=xn(Cn.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new ze(r)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=xn(Cn.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:n,programId:r}=xn(Cn.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new ze(r)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=xn(Cn.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,space:r,programId:i}=xn(Cn.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ze(e),seed:n,space:r,programId:new ze(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=xn(Cn.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new ze(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,programId:r}=xn(Cn.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ze(e),seed:n,programId:new ze(r)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:n,lamports:r,space:i,programId:o}=xn(Cn.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new ze(e),seed:n,lamports:r,space:i,programId:new ze(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=xn(Cn.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new ze(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),xn(Cn.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=xn(Cn.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=xn(Cn.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new ze(e)}}static checkProgramId(t){if(!t.equals(Mn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Cn=Object.freeze({Create:{index:0,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("lamports"),Zt.gM("space"),Je("programId")])},Assign:{index:1,layout:Zt.n_([Zt.Jq("instruction"),Je("programId")])},Transfer:{index:2,layout:Zt.n_([Zt.Jq("instruction"),Pn("lamports")])},CreateWithSeed:{index:3,layout:Zt.n_([Zt.Jq("instruction"),Je("base"),Ye("seed"),Zt.gM("lamports"),Zt.gM("space"),Je("programId")])},AdvanceNonceAccount:{index:4,layout:Zt.n_([Zt.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Zt.n_([Zt.Jq("instruction"),Je("authorized")])},AuthorizeNonceAccount:{index:7,layout:Zt.n_([Zt.Jq("instruction"),Je("authorized")])},Allocate:{index:8,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("space")])},AllocateWithSeed:{index:9,layout:Zt.n_([Zt.Jq("instruction"),Je("base"),Ye("seed"),Zt.gM("space"),Je("programId")])},AssignWithSeed:{index:10,layout:Zt.n_([Zt.Jq("instruction"),Je("base"),Ye("seed"),Je("programId")])},TransferWithSeed:{index:11,layout:Zt.n_([Zt.Jq("instruction"),Pn("lamports"),Ye("seed"),Je("programId")])},UpgradeNonceAccount:{index:12,layout:Zt.n_([Zt.Jq("instruction")])}});class Mn{constructor(){}static createAccount(t){const e=En(Cn.Create,{lamports:t.lamports,space:t.space,programId:Be(t.programId.toBuffer())});return new ln({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;return"basePubkey"in t?(e=En(Cn.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Be(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=En(Cn.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new ln({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;return"basePubkey"in t?(e=En(Cn.AssignWithSeed,{base:Be(t.basePubkey.toBuffer()),seed:t.seed,programId:Be(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=En(Cn.Assign,{programId:Be(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new ln({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=En(Cn.CreateWithSeed,{base:Be(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Be(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new ln({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new fn;"basePubkey"in t&&"seed"in t?e.add(Mn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:On,programId:this.programId})):e.add(Mn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:On,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=En(Cn.InitializeNonceAccount,{authorized:Be(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:bn,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new ln(n)}static nonceAdvance(t){const e=En(Cn.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new ln(n)}static nonceWithdraw(t){const e=En(Cn.WithdrawNonceAccount,{lamports:t.lamports});return new ln({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:bn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=En(Cn.AuthorizeNonceAccount,{authorized:Be(t.newAuthorizedPubkey.toBuffer())});return new ln({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;return"basePubkey"in t?(e=En(Cn.AllocateWithSeed,{base:Be(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Be(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=En(Cn.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new ln({keys:n,programId:this.programId,data:e})}}Mn.programId=new ze("11111111111111111111111111111111");const Nn=Ge-300;class Un{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Un.chunkSize)+1+1)}static async load(t,e,n,r,o){{const i=await t.getMinimumBalanceForRentExemption(o.length),s=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new fn,a.add(Mn.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(r)||(a=a||new fn,a.add(Mn.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<i&&(a=a||new fn,a.add(Mn.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:i-s.lamports})))}else a=(new fn).add(Mn.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:i>0?i:1,space:o.length,programId:r}));null!==a&&await _n(t,a,[e,n],{commitment:"confirmed"})}const s=Zt.n_([Zt.Jq("instruction"),Zt.Jq("offset"),Zt.Jq("bytesLength"),Zt.Jq("bytesLengthPadding"),Zt.A9(Zt.u8("byte"),Zt.cv(Zt.Jq(),-8),"bytes")]),a=Un.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),f=i.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},f);const h=(new fn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:f});if(l.push(_n(t,h,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await An(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=Zt.n_([Zt.Jq("instruction")]),s=i.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new fn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:bn,isSigner:!1,isWritable:!1}],programId:r,data:s});await _n(t,a,[e,n],{commitment:"confirmed"})}return!0}}Un.chunkSize=Nn;const Ln=new ze("BPFLoader2111111111111111111111111111111111");class jn{static getMinNumSignatures(t){return Un.getMinNumSignatures(t)}static load(t,e,n,r,i){return Un.load(t,e,n,i,r)}}var Vn=Object.prototype.toString,zn=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Wn(t,e){var n,r,i,o,s,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"==typeof t.toJSON)return Wn(t.toJSON(),e);if("[object Array]"===(c=Vn.call(t))){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Wn(t[n],!0)+",";return r>-1&&(i+=Wn(t[n],!0)),i+"]"}if("[object Object]"===c){for(r=(o=zn(t).sort()).length,i="",n=0;n<r;)void 0!==(a=Wn(t[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Dn=function(t){var e=Wn(t,!1);if(void 0!==e)return""+e};function Gn(t){let e=0;for(;t>1;)t/=2,e++;return e}class Fn{constructor(t,e,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Gn(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-Gn(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}var e;{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Gn(32)):this.slotsPerEpoch}}class qn extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}const Kn={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class $n extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var Hn=globalThis.fetch;class Zn extends te.default{constructor(t,e,n){super((t=>{const n=(0,ee.default)(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n}),t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class Jn{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(t){throw new Error("invalid instruction; "+t)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(Xn,t),n=t.length-56;nn(n>=0,"lookup table is invalid"),nn(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=Zt.n_([Zt.A9(Je(),r,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new ze(e.authority[0]):void 0,addresses:i.map((t=>new ze(t)))}}}const Xn={index:1,layout:Zt.n_([Zt.Jq("typeIndex"),Pn("deactivationSlot"),Zt._O("lastExtendedSlot"),Zt.u8("lastExtendedStartIndex"),Zt.u8(),Zt.A9(Je(),Zt.cv(Zt.u8(),-1),"authority")])},Yn=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,Qn=(0,Xt.oQ)((0,Xt.eE)(ze),(0,Xt.Z_)(),(t=>new ze(t))),tr=(0,Xt.bc)([(0,Xt.Z_)(),(0,Xt.i0)("base64")]),er=(0,Xt.oQ)((0,Xt.eE)(i.Buffer),tr,(t=>i.Buffer.from(t[0],"base64"))),nr=3e4;function rr(t){let e,n;if("string"==typeof t)e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function ir(t){return(0,Xt.G0)([(0,Xt.dt)({jsonrpc:(0,Xt.i0)("2.0"),id:(0,Xt.Z_)(),result:t}),(0,Xt.dt)({jsonrpc:(0,Xt.i0)("2.0"),id:(0,Xt.Z_)(),error:(0,Xt.dt)({code:(0,Xt._4)(),message:(0,Xt.Z_)(),data:(0,Xt.jt)((0,Xt.Yj)())})})])}const or=ir((0,Xt._4)());function sr(t){return(0,Xt.oQ)(ir(t),or,(e=>"error"in e?e:{...e,result:(0,Xt.Ue)(e.result,t)}))}function ar(t){return sr((0,Xt.dt)({context:(0,Xt.dt)({slot:(0,Xt.Rx)()}),value:t}))}function cr(t){return(0,Xt.dt)({context:(0,Xt.dt)({slot:(0,Xt.Rx)()}),value:t})}function ur(t,e){return 0===t?new sn({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new ze(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Kt().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new on(e)}const lr=(0,Xt.dt)({foundation:(0,Xt.Rx)(),foundationTerm:(0,Xt.Rx)(),initial:(0,Xt.Rx)(),taper:(0,Xt.Rx)(),terminal:(0,Xt.Rx)()}),fr=sr((0,Xt.IX)((0,Xt.AG)((0,Xt.dt)({epoch:(0,Xt.Rx)(),effectiveSlot:(0,Xt.Rx)(),amount:(0,Xt.Rx)(),postBalance:(0,Xt.Rx)(),commission:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)()))})))),hr=(0,Xt.IX)((0,Xt.dt)({slot:(0,Xt.Rx)(),prioritizationFee:(0,Xt.Rx)()})),dr=(0,Xt.dt)({total:(0,Xt.Rx)(),validator:(0,Xt.Rx)(),foundation:(0,Xt.Rx)(),epoch:(0,Xt.Rx)()}),pr=(0,Xt.dt)({epoch:(0,Xt.Rx)(),slotIndex:(0,Xt.Rx)(),slotsInEpoch:(0,Xt.Rx)(),absoluteSlot:(0,Xt.Rx)(),blockHeight:(0,Xt.jt)((0,Xt.Rx)()),transactionCount:(0,Xt.jt)((0,Xt.Rx)())}),yr=(0,Xt.dt)({slotsPerEpoch:(0,Xt.Rx)(),leaderScheduleSlotOffset:(0,Xt.Rx)(),warmup:(0,Xt.O7)(),firstNormalEpoch:(0,Xt.Rx)(),firstNormalSlot:(0,Xt.Rx)()}),gr=(0,Xt.IM)((0,Xt.Z_)(),(0,Xt.IX)((0,Xt.Rx)())),mr=(0,Xt.AG)((0,Xt.G0)([(0,Xt.dt)({}),(0,Xt.Z_)()])),br=(0,Xt.dt)({err:mr}),wr=(0,Xt.i0)("receivedSignature"),vr=(0,Xt.dt)({"solana-core":(0,Xt.Z_)(),"feature-set":(0,Xt.jt)((0,Xt.Rx)())}),kr=ar((0,Xt.dt)({err:(0,Xt.AG)((0,Xt.G0)([(0,Xt.dt)({}),(0,Xt.Z_)()])),logs:(0,Xt.AG)((0,Xt.IX)((0,Xt.Z_)())),accounts:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)((0,Xt.AG)((0,Xt.dt)({executable:(0,Xt.O7)(),owner:(0,Xt.Z_)(),lamports:(0,Xt.Rx)(),data:(0,Xt.IX)((0,Xt.Z_)()),rentEpoch:(0,Xt.jt)((0,Xt.Rx)())}))))),unitsConsumed:(0,Xt.jt)((0,Xt.Rx)()),returnData:(0,Xt.jt)((0,Xt.AG)((0,Xt.dt)({programId:(0,Xt.Z_)(),data:(0,Xt.bc)([(0,Xt.Z_)(),(0,Xt.i0)("base64")])})))})),Sr=ar((0,Xt.dt)({byIdentity:(0,Xt.IM)((0,Xt.Z_)(),(0,Xt.IX)((0,Xt.Rx)())),range:(0,Xt.dt)({firstSlot:(0,Xt.Rx)(),lastSlot:(0,Xt.Rx)()})})),_r=sr(lr),Ar=sr(dr),Er=sr(hr),xr=sr(pr),Ir=sr(yr),Rr=sr(gr),Or=sr((0,Xt.Rx)()),Tr=ar((0,Xt.dt)({total:(0,Xt.Rx)(),circulating:(0,Xt.Rx)(),nonCirculating:(0,Xt.Rx)(),nonCirculatingAccounts:(0,Xt.IX)(Qn)})),Pr=(0,Xt.dt)({amount:(0,Xt.Z_)(),uiAmount:(0,Xt.AG)((0,Xt.Rx)()),decimals:(0,Xt.Rx)(),uiAmountString:(0,Xt.jt)((0,Xt.Z_)())}),Br=ar((0,Xt.IX)((0,Xt.dt)({address:Qn,amount:(0,Xt.Z_)(),uiAmount:(0,Xt.AG)((0,Xt.Rx)()),decimals:(0,Xt.Rx)(),uiAmountString:(0,Xt.jt)((0,Xt.Z_)())}))),Cr=ar((0,Xt.IX)((0,Xt.dt)({pubkey:Qn,account:(0,Xt.dt)({executable:(0,Xt.O7)(),owner:Qn,lamports:(0,Xt.Rx)(),data:er,rentEpoch:(0,Xt.Rx)()})}))),Mr=(0,Xt.dt)({program:(0,Xt.Z_)(),parsed:(0,Xt._4)(),space:(0,Xt.Rx)()}),Nr=ar((0,Xt.IX)((0,Xt.dt)({pubkey:Qn,account:(0,Xt.dt)({executable:(0,Xt.O7)(),owner:Qn,lamports:(0,Xt.Rx)(),data:Mr,rentEpoch:(0,Xt.Rx)()})}))),Ur=ar((0,Xt.IX)((0,Xt.dt)({lamports:(0,Xt.Rx)(),address:Qn}))),Lr=(0,Xt.dt)({executable:(0,Xt.O7)(),owner:Qn,lamports:(0,Xt.Rx)(),data:er,rentEpoch:(0,Xt.Rx)()}),jr=(0,Xt.dt)({pubkey:Qn,account:Lr}),Vr=(0,Xt.oQ)((0,Xt.G0)([(0,Xt.eE)(i.Buffer),Mr]),(0,Xt.G0)([tr,Mr]),(t=>Array.isArray(t)?(0,Xt.Ue)(t,er):t)),zr=(0,Xt.dt)({executable:(0,Xt.O7)(),owner:Qn,lamports:(0,Xt.Rx)(),data:Vr,rentEpoch:(0,Xt.Rx)()}),Wr=(0,Xt.dt)({pubkey:Qn,account:zr}),Dr=(0,Xt.dt)({state:(0,Xt.G0)([(0,Xt.i0)("active"),(0,Xt.i0)("inactive"),(0,Xt.i0)("activating"),(0,Xt.i0)("deactivating")]),active:(0,Xt.Rx)(),inactive:(0,Xt.Rx)()}),Gr=sr((0,Xt.IX)((0,Xt.dt)({signature:(0,Xt.Z_)(),slot:(0,Xt.Rx)(),err:mr,memo:(0,Xt.AG)((0,Xt.Z_)()),blockTime:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)()))}))),Fr=sr((0,Xt.IX)((0,Xt.dt)({signature:(0,Xt.Z_)(),slot:(0,Xt.Rx)(),err:mr,memo:(0,Xt.AG)((0,Xt.Z_)()),blockTime:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)()))}))),qr=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:cr(Lr)}),Kr=(0,Xt.dt)({pubkey:Qn,account:Lr}),$r=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:cr(Kr)}),Hr=(0,Xt.dt)({parent:(0,Xt.Rx)(),slot:(0,Xt.Rx)(),root:(0,Xt.Rx)()}),Zr=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:Hr}),Jr=(0,Xt.G0)([(0,Xt.dt)({type:(0,Xt.G0)([(0,Xt.i0)("firstShredReceived"),(0,Xt.i0)("completed"),(0,Xt.i0)("optimisticConfirmation"),(0,Xt.i0)("root")]),slot:(0,Xt.Rx)(),timestamp:(0,Xt.Rx)()}),(0,Xt.dt)({type:(0,Xt.i0)("createdBank"),parent:(0,Xt.Rx)(),slot:(0,Xt.Rx)(),timestamp:(0,Xt.Rx)()}),(0,Xt.dt)({type:(0,Xt.i0)("frozen"),slot:(0,Xt.Rx)(),timestamp:(0,Xt.Rx)(),stats:(0,Xt.dt)({numTransactionEntries:(0,Xt.Rx)(),numSuccessfulTransactions:(0,Xt.Rx)(),numFailedTransactions:(0,Xt.Rx)(),maxTransactionsPerEntry:(0,Xt.Rx)()})}),(0,Xt.dt)({type:(0,Xt.i0)("dead"),slot:(0,Xt.Rx)(),timestamp:(0,Xt.Rx)(),err:(0,Xt.Z_)()})]),Xr=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:Jr}),Yr=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:cr((0,Xt.G0)([br,wr]))}),Qr=(0,Xt.dt)({subscription:(0,Xt.Rx)(),result:(0,Xt.Rx)()}),ti=(0,Xt.dt)({pubkey:(0,Xt.Z_)(),gossip:(0,Xt.AG)((0,Xt.Z_)()),tpu:(0,Xt.AG)((0,Xt.Z_)()),rpc:(0,Xt.AG)((0,Xt.Z_)()),version:(0,Xt.AG)((0,Xt.Z_)())}),ei=(0,Xt.dt)({votePubkey:(0,Xt.Z_)(),nodePubkey:(0,Xt.Z_)(),activatedStake:(0,Xt.Rx)(),epochVoteAccount:(0,Xt.O7)(),epochCredits:(0,Xt.IX)((0,Xt.bc)([(0,Xt.Rx)(),(0,Xt.Rx)(),(0,Xt.Rx)()])),commission:(0,Xt.Rx)(),lastVote:(0,Xt.Rx)(),rootSlot:(0,Xt.AG)((0,Xt.Rx)())}),ni=sr((0,Xt.dt)({current:(0,Xt.IX)(ei),delinquent:(0,Xt.IX)(ei)})),ri=(0,Xt.G0)([(0,Xt.i0)("processed"),(0,Xt.i0)("confirmed"),(0,Xt.i0)("finalized")]),ii=(0,Xt.dt)({slot:(0,Xt.Rx)(),confirmations:(0,Xt.AG)((0,Xt.Rx)()),err:mr,confirmationStatus:(0,Xt.jt)(ri)}),oi=ar((0,Xt.IX)((0,Xt.AG)(ii))),si=sr((0,Xt.Rx)()),ai=(0,Xt.dt)({accountKey:Qn,writableIndexes:(0,Xt.IX)((0,Xt.Rx)()),readonlyIndexes:(0,Xt.IX)((0,Xt.Rx)())}),ci=(0,Xt.dt)({signatures:(0,Xt.IX)((0,Xt.Z_)()),message:(0,Xt.dt)({accountKeys:(0,Xt.IX)((0,Xt.Z_)()),header:(0,Xt.dt)({numRequiredSignatures:(0,Xt.Rx)(),numReadonlySignedAccounts:(0,Xt.Rx)(),numReadonlyUnsignedAccounts:(0,Xt.Rx)()}),instructions:(0,Xt.IX)((0,Xt.dt)({accounts:(0,Xt.IX)((0,Xt.Rx)()),data:(0,Xt.Z_)(),programIdIndex:(0,Xt.Rx)()})),recentBlockhash:(0,Xt.Z_)(),addressTableLookups:(0,Xt.jt)((0,Xt.IX)(ai))})}),ui=(0,Xt.dt)({pubkey:Qn,signer:(0,Xt.O7)(),writable:(0,Xt.O7)(),source:(0,Xt.jt)((0,Xt.G0)([(0,Xt.i0)("transaction"),(0,Xt.i0)("lookupTable")]))}),li=(0,Xt.dt)({accountKeys:(0,Xt.IX)(ui),signatures:(0,Xt.IX)((0,Xt.Z_)())}),fi=(0,Xt.dt)({parsed:(0,Xt._4)(),program:(0,Xt.Z_)(),programId:Qn}),hi=(0,Xt.dt)({accounts:(0,Xt.IX)(Qn),data:(0,Xt.Z_)(),programId:Qn}),di=(0,Xt.G0)([hi,fi]),pi=(0,Xt.G0)([(0,Xt.dt)({parsed:(0,Xt._4)(),program:(0,Xt.Z_)(),programId:(0,Xt.Z_)()}),(0,Xt.dt)({accounts:(0,Xt.IX)((0,Xt.Z_)()),data:(0,Xt.Z_)(),programId:(0,Xt.Z_)()})]),yi=(0,Xt.oQ)(di,pi,(t=>"accounts"in t?(0,Xt.Ue)(t,hi):(0,Xt.Ue)(t,fi))),gi=(0,Xt.dt)({signatures:(0,Xt.IX)((0,Xt.Z_)()),message:(0,Xt.dt)({accountKeys:(0,Xt.IX)(ui),instructions:(0,Xt.IX)(yi),recentBlockhash:(0,Xt.Z_)(),addressTableLookups:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)(ai)))})}),mi=(0,Xt.dt)({accountIndex:(0,Xt.Rx)(),mint:(0,Xt.Z_)(),owner:(0,Xt.jt)((0,Xt.Z_)()),uiTokenAmount:Pr}),bi=(0,Xt.dt)({writable:(0,Xt.IX)(Qn),readonly:(0,Xt.IX)(Qn)}),wi=(0,Xt.dt)({err:mr,fee:(0,Xt.Rx)(),innerInstructions:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)((0,Xt.dt)({index:(0,Xt.Rx)(),instructions:(0,Xt.IX)((0,Xt.dt)({accounts:(0,Xt.IX)((0,Xt.Rx)()),data:(0,Xt.Z_)(),programIdIndex:(0,Xt.Rx)()}))})))),preBalances:(0,Xt.IX)((0,Xt.Rx)()),postBalances:(0,Xt.IX)((0,Xt.Rx)()),logMessages:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)((0,Xt.Z_)()))),preTokenBalances:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)(mi))),postTokenBalances:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)(mi))),loadedAddresses:(0,Xt.jt)(bi),computeUnitsConsumed:(0,Xt.jt)((0,Xt.Rx)())}),vi=(0,Xt.dt)({err:mr,fee:(0,Xt.Rx)(),innerInstructions:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)((0,Xt.dt)({index:(0,Xt.Rx)(),instructions:(0,Xt.IX)(yi)})))),preBalances:(0,Xt.IX)((0,Xt.Rx)()),postBalances:(0,Xt.IX)((0,Xt.Rx)()),logMessages:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)((0,Xt.Z_)()))),preTokenBalances:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)(mi))),postTokenBalances:(0,Xt.jt)((0,Xt.AG)((0,Xt.IX)(mi))),loadedAddresses:(0,Xt.jt)(bi),computeUnitsConsumed:(0,Xt.jt)((0,Xt.Rx)())}),ki=(0,Xt.G0)([(0,Xt.i0)(0),(0,Xt.i0)("legacy")]),Si=(0,Xt.dt)({pubkey:(0,Xt.Z_)(),lamports:(0,Xt.Rx)(),postBalance:(0,Xt.AG)((0,Xt.Rx)()),rewardType:(0,Xt.AG)((0,Xt.Z_)()),commission:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)()))}),_i=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),transactions:(0,Xt.IX)((0,Xt.dt)({transaction:ci,meta:(0,Xt.AG)(wi),version:(0,Xt.jt)(ki)})),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),Ai=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),Ei=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),transactions:(0,Xt.IX)((0,Xt.dt)({transaction:li,meta:(0,Xt.AG)(wi),version:(0,Xt.jt)(ki)})),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),xi=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),transactions:(0,Xt.IX)((0,Xt.dt)({transaction:gi,meta:(0,Xt.AG)(vi),version:(0,Xt.jt)(ki)})),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),Ii=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),transactions:(0,Xt.IX)((0,Xt.dt)({transaction:li,meta:(0,Xt.AG)(vi),version:(0,Xt.jt)(ki)})),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),Ri=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)()),blockHeight:(0,Xt.AG)((0,Xt.Rx)())}))),Oi=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),transactions:(0,Xt.IX)((0,Xt.dt)({transaction:ci,meta:(0,Xt.AG)(wi)})),rewards:(0,Xt.jt)((0,Xt.IX)(Si)),blockTime:(0,Xt.AG)((0,Xt.Rx)())}))),Ti=sr((0,Xt.AG)((0,Xt.dt)({blockhash:(0,Xt.Z_)(),previousBlockhash:(0,Xt.Z_)(),parentSlot:(0,Xt.Rx)(),signatures:(0,Xt.IX)((0,Xt.Z_)()),blockTime:(0,Xt.AG)((0,Xt.Rx)())}))),Pi=sr((0,Xt.AG)((0,Xt.dt)({slot:(0,Xt.Rx)(),meta:wi,blockTime:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)())),transaction:ci,version:(0,Xt.jt)(ki)}))),Bi=sr((0,Xt.AG)((0,Xt.dt)({slot:(0,Xt.Rx)(),transaction:gi,meta:(0,Xt.AG)(vi),blockTime:(0,Xt.jt)((0,Xt.AG)((0,Xt.Rx)())),version:(0,Xt.jt)(ki)}))),Ci=ar((0,Xt.dt)({blockhash:(0,Xt.Z_)(),feeCalculator:(0,Xt.dt)({lamportsPerSignature:(0,Xt.Rx)()})})),Mi=ar((0,Xt.dt)({blockhash:(0,Xt.Z_)(),lastValidBlockHeight:(0,Xt.Rx)()})),Ni=(0,Xt.dt)({slot:(0,Xt.Rx)(),numTransactions:(0,Xt.Rx)(),numSlots:(0,Xt.Rx)(),samplePeriodSecs:(0,Xt.Rx)()}),Ui=sr((0,Xt.IX)(Ni)),Li=ar((0,Xt.AG)((0,Xt.dt)({feeCalculator:(0,Xt.dt)({lamportsPerSignature:(0,Xt.Rx)()})}))),ji=sr((0,Xt.Z_)()),Vi=sr((0,Xt.Z_)()),zi=(0,Xt.dt)({err:mr,logs:(0,Xt.IX)((0,Xt.Z_)()),signature:(0,Xt.Z_)()}),Wi=(0,Xt.dt)({result:cr(zi),subscription:(0,Xt.Rx)()}),Di={"solana-client":"js/0.0.0-development"};class Gi{constructor(t,e){let n,r,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:r}=rr(e),i=this._buildArgs([],n,void 0,r),o=Dn(i);return t[o]=t[o]??(async()=>{try{const t=await this._rpcRequest("getBlockHeight",i),e=(0,Xt.Ue)(t,sr((0,Xt.Rx)()));if("error"in e)throw new $n(e.error,"failed to get block height information");return e.result}finally{delete t[o]}})(),await t[o]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,r=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,s=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(Yn);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,o]=e,s=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(t),this._rpcClient=function(t,e,n,r,i,o){const s=n||Hn;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(t,e)=>{const n=await new Promise(((n,i)=>{try{r(t,e,((t,e)=>n([t,e])))}catch(t){i(t)}}));return await s(...n)}),new(Qt())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},Di)};try{let e,n=5,c=500;for(;e=a?await a(t,o):await s(t,o),429===e.status&&!0!==i&&(n-=1,0!==n);)console.log(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await An(c),c*=2;const u=await e.text();e.ok?r(null,u):r(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(t){t instanceof Error&&r(t)}}),{})}(t,r,i,o,s,a),this._rpcRequest=function(t){return(e,n)=>new Promise(((r,i)=>{t.request(e,n,((t,e)=>{t?i(t):r(e)}))}))}(this._rpcClient),this._rpcBatchRequest=function(t){return e=>new Promise(((n,r)=>{0===e.length&&n([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?r(t):n(e)}))}))}(this._rpcClient),this._rpcWebSocket=new Zn(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgs([t.toBase58()],n,void 0,r),o=await this._rpcRequest("getBalance",i),s=(0,Xt.Ue)(o,ar((0,Xt.Rx)()));if("error"in s)throw new $n(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=(0,Xt.Ue)(e,sr((0,Xt.AG)((0,Xt.Rx)())));if("error"in n)throw new $n(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=(0,Xt.Ue)(t,sr((0,Xt.Rx)()));if("error"in e)throw new $n(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=(0,Xt.Ue)(t,Or);if("error"in e)throw new $n(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),r=(0,Xt.Ue)(n,Tr);if("error"in r)throw new $n(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),r=await this._rpcRequest("getTokenSupply",n),i=(0,Xt.Ue)(r,ar(Pr));if("error"in i)throw new $n(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),r=await this._rpcRequest("getTokenAccountBalance",n),i=(0,Xt.Ue)(r,ar(Pr));if("error"in i)throw new $n(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:r,config:i}=rr(n);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=(0,Xt.Ue)(a,Cr);if("error"in c)throw new $n(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(t,e,n){let r=[t.toBase58()];"mint"in e?r.push({mint:e.mint.toBase58()}):r.push({programId:e.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,Xt.Ue)(o,Nr);if("error"in s)throw new $n(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],r=await this._rpcRequest("getLargestAccounts",n),i=(0,Xt.Ue)(r,Ur);if("error"in i)throw new $n(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),r=await this._rpcRequest("getTokenLargestAccounts",n),i=(0,Xt.Ue)(r,Br);if("error"in i)throw new $n(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgs([t.toBase58()],n,"base64",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,Xt.Ue)(o,ar((0,Xt.AG)(Lr)));if("error"in s)throw new $n(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,Xt.Ue)(o,ar((0,Xt.AG)(zr)));if("error"in s)throw new $n(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:r}=rr(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,Xt.Ue)(s,ar((0,Xt.IX)((0,Xt.AG)(zr))));if("error"in a)throw new $n(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:r}=rr(e),i=t.map((t=>t.toBase58())),o=this._buildArgs([i],n,"base64",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,Xt.Ue)(s,ar((0,Xt.IX)((0,Xt.AG)(Lr))));if("error"in a)throw new $n(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:r,config:i}=rr(e),o=this._buildArgs([t.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=(0,Xt.Ue)(s,sr(Dr));if("error"in a)throw new $n(a.error,`failed to get Stake Activation ${t.toBase58()}`);return a.result}async getProgramAccounts(t,e){const{commitment:n,config:r}=rr(e),{encoding:i,...o}=r||{},s=this._buildArgs([t.toBase58()],n,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=(0,Xt.Ue)(a,sr((0,Xt.IX)(jr)));if("error"in c)throw new $n(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getProgramAccounts",i),s=(0,Xt.Ue)(o,sr((0,Xt.IX)(Wr)));if("error"in s)throw new $n(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let n,r;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{r=Kt().decode(n)}catch(t){throw new Error("signature must be base58 encoded: "+n)}return nn(64===r.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",(()=>{n(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((o,s)=>{try{n=this.onSignature(e,((t,e)=>{n=void 0;const r={context:e,value:t};o({__type:cn.PROCESSED,response:r})}),t);const a=new Promise((t=>{null==n?t():r=this._onSubscriptionStateChange(n,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(e);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:cn.PROCESSED,response:{context:r,value:c}})}})()}catch(t){s(t)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((e=>{const r=async()=>{try{return await this.getBlockHeight(t)}catch(t){return-1}};(async()=>{let t=await r();if(!i){for(;t<=n;){if(await An(1e3),i)return;if(t=await r(),i)return}e({__type:cn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),c=this.getCancellationPromise(e);let u;try{const t=await Promise.race([c,a,o]);if(t.__type!==cn.PROCESSED)throw new Ke(r);u=t.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((e=>{let o=i,a=null;const c=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(r,{commitment:t,minContextSlot:n});return a=e.slot,i?.nonce}catch(t){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void e({__type:cn.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await An(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),l=this.getCancellationPromise(e);let f;try{const e=await Promise.race([l,u,a]);if(e.__type===cn.PROCESSED)f=e.response;else{let r;for(;;){const t=await this.getSignatureStatus(o);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){r=t;break}await An(400)}if(!r?.value)throw new He(o);{const e=t||"finalized",{confirmationStatus:n}=r.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new He(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new He(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new He(o)}f={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return f}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const r=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>e({__type:cn.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let s;try{const t=await Promise.race([o,r]);if(t.__type!==cn.PROCESSED)throw new $e(e,t.timeoutMs/1e3);s=t.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=(0,Xt.Ue)(t,sr((0,Xt.IX)(ti)));if("error"in e)throw new $n(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),r=(0,Xt.Ue)(n,ni);if("error"in r)throw new $n(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",r),o=(0,Xt.Ue)(i,sr((0,Xt.Rx)()));if("error"in o)throw new $n(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",r),o=(0,Xt.Ue)(i,sr((0,Xt.Z_)()));if("error"in o)throw new $n(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const n=[t,e],r=await this._rpcRequest("getSlotLeaders",n),i=(0,Xt.Ue)(r,sr((0,Xt.IX)(Qn)));if("error"in i)throw new $n(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:r}=await this.getSignatureStatuses([t],e);return nn(1===r.length),{context:n,value:r[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const r=await this._rpcRequest("getSignatureStatuses",n),i=(0,Xt.Ue)(r,oi);if("error"in i)throw new $n(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",r),o=(0,Xt.Ue)(i,sr((0,Xt.Rx)()));if("error"in o)throw new $n(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),r=(0,Xt.Ue)(n,_r);if("error"in r)throw new $n(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,n){const{commitment:r,config:i}=rr(n),o=this._buildArgs([t.map((t=>t.toBase58()))],r,void 0,{...i,epoch:null!=e?e:i?.epoch}),s=await this._rpcRequest("getInflationReward",o),a=(0,Xt.Ue)(s,fr);if("error"in a)throw new $n(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=(0,Xt.Ue)(t,Ar);if("error"in e)throw new $n(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",r),o=(0,Xt.Ue)(i,xr);if("error"in o)throw new $n(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=(0,Xt.Ue)(t,Ir);if("error"in e)throw new $n(e.error,"failed to get epoch schedule");const n=e.result;return new Fn(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=(0,Xt.Ue)(t,Rr);if("error"in e)throw new $n(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=(0,Xt.Ue)(r,si);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),r=(0,Xt.Ue)(n,Ci);if("error"in r)throw new $n(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=(0,Xt.Ue)(e,Ui);if("error"in n)throw new $n(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=(0,Xt.Ue)(r,Li);if("error"in i)throw new $n(i.error,"failed to get fee calculator");const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const n=Be(t.serialize()).toString("base64"),r=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",r),o=(0,Xt.Ue)(i,ar((0,Xt.AG)((0,Xt.Rx)())));if("error"in o)throw new $n(o.error,"failed to get fee for message");if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),n=this._buildArgs(e?.length?[e]:[]),r=await this._rpcRequest("getRecentPrioritizationFees",n),i=(0,Xt.Ue)(r,Er);if("error"in i)throw new $n(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",r),o=(0,Xt.Ue)(i,Mi);if("error"in o)throw new $n(o.error,"failed to get latest blockhash");return o.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=(0,Xt.Ue)(t,sr(vr));if("error"in e)throw new $n(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=(0,Xt.Ue)(t,sr((0,Xt.Z_)()));if("error"in e)throw new $n(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=(0,Xt.Ue)(o,Ei);if("error"in t)throw t.error;return t.result}case"none":{const t=(0,Xt.Ue)(o,Ai);if("error"in t)throw t.error;return t.result}default:{const t=(0,Xt.Ue)(o,_i);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:ur(n,t.message)},version:n})))}:null}}}catch(t){throw new $n(t,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=(0,Xt.Ue)(o,Ii);if("error"in t)throw t.error;return t.result}case"none":{const t=(0,Xt.Ue)(o,Ri);if("error"in t)throw t.error;return t.result}default:{const t=(0,Xt.Ue)(o,xi);if("error"in t)throw t.error;return t.result}}}catch(t){throw new $n(t,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"==typeof t)n=t;else if(t){const{commitment:r,...i}=t;n=r,e=i}const r=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",r),o=(0,Xt.Ue)(i,Sr);if("error"in o)throw new $n(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),o=await this._rpcRequest("getTransaction",i),s=(0,Xt.Ue)(o,Pi);if("error"in s)throw new $n(s.error,"failed to get transaction");const a=s.result;return a?{...a,transaction:{...a.transaction,message:ur(a.version,a.transaction.message)}}:a}async getParsedTransaction(t,e){const{commitment:n,config:r}=rr(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),o=await this._rpcRequest("getTransaction",i),s=(0,Xt.Ue)(o,Bi);if("error"in s)throw new $n(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:n,config:r}=rr(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=(0,Xt.Ue)(t,Bi);if("error"in e)throw new $n(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:n,config:r}=rr(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=(0,Xt.Ue)(t,Pi);if("error"in e)throw new $n(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:ur(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,Xt.Ue)(r,Oi);if("error"in i)throw new $n(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const s={...o,transactions:o.transactions.map((({transaction:t,meta:e})=>{const n=new on(t.message);return{meta:e,transaction:{...t,message:n}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:fn.populate(t.message,t.signatures)})))}}async getBlocks(t,e,n){const r=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",r),o=(0,Xt.Ue)(i,sr((0,Xt.IX)((0,Xt.Rx)())));if("error"in o)throw new $n(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getBlock",n),i=(0,Xt.Ue)(r,Ti);if("error"in i)throw new $n(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,Xt.Ue)(r,Ti);if("error"in i)throw new $n(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,Xt.Ue)(r,Pi);if("error"in i)throw new $n(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const s=new on(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:fn.populate(s,a)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,Xt.Ue)(r,Bi);if("error"in i)throw new $n(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((t=>{const e=(0,Xt.Ue)(t,Bi);if("error"in e)throw new $n(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(r.until=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(r.before=t.signatures[t.signatures.length-1].toString())}catch(t){if(t instanceof Error&&t.message.includes("skipped"))continue;throw t}return(await this.getConfirmedSignaturesForAddress2(t,r)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),o=(0,Xt.Ue)(i,Gr);if("error"in o)throw new $n(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",r),o=(0,Xt.Ue)(i,Fr);if("error"in o)throw new $n(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=new Jn({key:t,state:Jn.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=Tn.fromAccountData(r.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),r=(0,Xt.Ue)(n,ji);if("error"in r)throw new $n(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await An(100);const t=Date.now()-this._blockhashInfo.lastFetch>=nr;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let t=0;t<50;t++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await An(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=rr(t),r=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",r),o=(0,Xt.Ue)(i,ar((0,Xt.Rx)()));if("error"in o)throw new $n(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,n){if("message"in t){const r=t.serialize(),o=i.Buffer.from(r).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const s=e||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],c=await this._rpcRequest("simulateTransaction",a),u=(0,Xt.Ue)(c,kr);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let r;if(t instanceof fn){let e=t;r=new fn,r.feePayer=e.feePayer,r.instructions=t.instructions,r.nonceInfo=e.nonceInfo,r.signatures=e.signatures}else r=fn.populate(t),r._message=r._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(r.nonceInfo&&o)r.sign(...o);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(r.lastValidBlockHeight=e.lastValidBlockHeight,r.recentBlockhash=e.blockhash,!o)break;if(r.sign(...o),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const s=r._compile(),a=s.serialize(),c=r._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}o&&(u.sigVerify=!0);const l=[c,u],f=await this._rpcRequest("simulateTransaction",l),h=(0,Xt.Ue)(f,kr);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(h.error.message,n)}throw new qn("failed to simulate transaction: "+h.error.message,t)}return h.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(t.nonceInfo)t.sign(...r);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...r),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=Be(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},r=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[t,n],s=await this._rpcRequest("sendTransaction",o),a=(0,Xt.Ue)(s,Vi);if("error"in a){let t;throw"data"in a.error&&(t=a.error.data.logs),new qn("failed to send transaction: "+a.error.message,t)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const n=this._subscriptionHashByClientSubscriptionId[t];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(e),()=>{r.delete(e),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(i,r);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,r,o.message),!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&console.error(`${i} error:`,r.message),!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach((t=>{try{t(...e)}catch(t){console.error(t)}}))}_wsOnAccountNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,qr);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,r=Dn([t.method,e]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[r];nn(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const r=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,$r);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,r){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const r=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,Wi);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,Zr);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,Xr);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,r){const i=e||this._commitment;if(i||n||r){let e={};n&&(e.encoding=n),i&&(e.commitment=i),r&&(e=Object.assign(e,r)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,r){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,r)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,Yr);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const r=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(i)}catch(t){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(t,e,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],r,void 0,i),s=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(s)}catch(t){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=(0,Xt.Ue)(t,Qr);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Fi{constructor(t){this._keypair=void 0,this._keypair=t??Ie()}static generate(){return new Fi(Ie())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=Re(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new Fi({publicKey:n,secretKey:t})}static fromSeed(t){const e=Re(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new Fi({publicKey:e,secretKey:n})}get publicKey(){return new ze(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const qi=Object.freeze({CreateLookupTable:{index:0,layout:Zt.n_([Zt.Jq("instruction"),Pn("recentSlot"),Zt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Zt.n_([Zt.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Zt.n_([Zt.Jq("instruction"),Pn(),Zt.A9(Je(),Zt.cv(Zt.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Zt.n_([Zt.Jq("instruction")])},CloseLookupTable:{index:4,layout:Zt.n_([Zt.Jq("instruction")])}});class Ki{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Zt.Jq("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(qi))if(r.index==e){n=t;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=xn(qi.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=xn(qi.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new ze(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals($i.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class $i{constructor(){}static createLookupTable(t){const[e,n]=ze.findProgramAddressSync([t.authority.toBuffer(),(0,Jt.k$)(BigInt(t.recentSlot),8)],this.programId),r=En(qi.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Mn.programId,isSigner:!1,isWritable:!1}];return[new ln({programId:this.programId,keys:i,data:r}),e]}static freezeLookupTable(t){const e=En(qi.FreezeLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new ln({programId:this.programId,keys:n,data:e})}static extendLookupTable(t){const e=En(qi.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Mn.programId,isSigner:!1,isWritable:!1}),new ln({programId:this.programId,keys:n,data:e})}static deactivateLookupTable(t){const e=En(qi.DeactivateLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new ln({programId:this.programId,keys:n,data:e})}static closeLookupTable(t){const e=En(qi.CloseLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new ln({programId:this.programId,keys:n,data:e})}}$i.programId=new ze("AddressLookupTab1e1111111111111111111111111");class Hi{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Zt.u8("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(Zi))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:n}=xn(Zi.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=xn(Zi.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=xn(Zi.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=xn(Zi.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(Ji.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Zi=Object.freeze({RequestUnits:{index:0,layout:Zt.n_([Zt.u8("instruction"),Zt.Jq("units"),Zt.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Zt.n_([Zt.u8("instruction"),Zt.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Zt.n_([Zt.u8("instruction"),Zt.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Zt.n_([Zt.u8("instruction"),Pn("microLamports")])}});class Ji{constructor(){}static requestUnits(t){const e=En(Zi.RequestUnits,t);return new ln({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=En(Zi.RequestHeapFrame,t);return new ln({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=En(Zi.SetComputeUnitLimit,t);return new ln({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=En(Zi.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new ln({keys:[],programId:this.programId,data:e})}}Ji.programId=new ze("ComputeBudget111111111111111111111111111111");const Xi=Zt.n_([Zt.u8("numSignatures"),Zt.u8("padding"),Zt.KB("signatureOffset"),Zt.KB("signatureInstructionIndex"),Zt.KB("publicKeyOffset"),Zt.KB("publicKeyInstructionIndex"),Zt.KB("messageDataOffset"),Zt.KB("messageDataSize"),Zt.KB("messageInstructionIndex")]);class Yi{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,instructionIndex:o}=t;nn(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),nn(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=Xi.span,a=s+e.length,c=a+r.length,u=i.Buffer.alloc(c+n.length),l=null==o?65535:o;return Xi.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(r,a),u.fill(n,c),new ln({keys:[],programId:Yi.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;nn(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Fi.fromSecretKey(e),i=t.publicKey.toBytes(),o=Te(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}Yi.programId=new ze("Ed25519SigVerify111111111111111111111111111"),ke.utils.isValidPrivateKey;const Qi=ke.getPublicKey,to=Zt.n_([Zt.u8("numSignatures"),Zt.KB("signatureOffset"),Zt.u8("signatureInstructionIndex"),Zt.KB("ethAddressOffset"),Zt.u8("ethAddressInstructionIndex"),Zt.KB("messageDataOffset"),Zt.KB("messageDataSize"),Zt.u8("messageInstructionIndex"),Zt.Ik(20,"ethAddress"),Zt.Ik(64,"signature"),Zt.u8("recoveryId")]);class eo{constructor(){}static publicKeyToEthAddress(t){nn(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from((0,ne.fr)(Be(t))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:o}=t;return eo.createInstructionWithEthAddress({ethAddress:eo.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:r,recoveryId:o,instructionIndex:s=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,nn(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+r.length+1,l=i.Buffer.alloc(to.span+n.length);return to.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:Be(r),ethAddress:Be(a),recoveryId:o},l),l.fill(Be(n),to.span),new ln({keys:[],programId:eo.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;nn(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Be(e),o=Qi(t,!1).slice(1),s=i.Buffer.from((0,ne.fr)(Be(n))),[a,c]=((t,e)=>{const n=ke.sign(t,e);return[n.toCompactRawBytes(),n.recovery]})(s,t);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:r})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}eo.programId=new ze("KeccakSecp256k11111111111111111111111111111");const no=new ze("StakeConfig11111111111111111111111111111111");class ro{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class io{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}io.default=new io(0,0,ze.default);class oo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Zt.Jq("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(so))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:n}=xn(so.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new ro(new ze(e.staker),new ze(e.withdrawer)),lockup:new io(n.unixTimestamp,n.epoch,new ze(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),xn(so.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:n}=xn(so.Authorize,t.data),r={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ze(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(r.custodianPubkey=t.keys[3].pubkey),r}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=xn(so.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:r,authorityOwner:new ze(i),newAuthorizedPubkey:new ze(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=xn(so.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),xn(so.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=xn(so.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),xn(so.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(co.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const so=Object.freeze({Initialize:{index:0,layout:Zt.n_([Zt.Jq("instruction"),((t="authorized")=>Zt.n_([Je("staker"),Je("withdrawer")],t))(),((t="lockup")=>Zt.n_([Zt.gM("unixTimestamp"),Zt.gM("epoch"),Je("custodian")],t))()])},Authorize:{index:1,layout:Zt.n_([Zt.Jq("instruction"),Je("newAuthorized"),Zt.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Zt.n_([Zt.Jq("instruction")])},Split:{index:3,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("lamports")])},Withdraw:{index:4,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("lamports")])},Deactivate:{index:5,layout:Zt.n_([Zt.Jq("instruction")])},Merge:{index:7,layout:Zt.n_([Zt.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Zt.n_([Zt.Jq("instruction"),Je("newAuthorized"),Zt.Jq("stakeAuthorizationType"),Ye("authoritySeed"),Je("authorityOwner")])}}),ao=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class co{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||io.default,o=En(so.Initialize,{authorized:{staker:Be(n.staker.toBuffer()),withdrawer:Be(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Be(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:bn,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new ln(s)}static createAccountWithSeed(t){const e=new fn;e.add(Mn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new fn;e.add(Mn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=En(so.Delegate);return(new fn).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:Sn,isSigner:!1,isWritable:!1},{pubkey:no,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=t,s=En(so.Authorize,{newAuthorized:Be(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new fn).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=En(so.AuthorizeWithSeed,{newAuthorized:Be(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:Be(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:pn,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new fn).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,o=En(so.Split,{lamports:i});return new ln({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new fn;return e.add(Mn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,basePubkey:i,seed:o,lamports:s}=t,a=new fn;return a.add(Mn.allocate({accountPubkey:r,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=En(so.Merge);return(new fn).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:Sn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=t,s=En(so.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:Sn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new fn).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=En(so.Deactivate);return(new fn).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}co.programId=new ze("Stake11111111111111111111111111111111111111"),co.space=200;class uo{constructor(t,e,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=r}}class lo{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Zt.Jq("instruction").decode(t.data);let n;for(const[t,r]of Object.entries(fo))if(r.index==e){n=t;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=xn(fo.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new uo(new ze(e.nodePubkey),new ze(e.authorizedVoter),new ze(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:n}=xn(fo.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ze(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=xn(fo.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ze(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new ze(r),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=xn(fo.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(po.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const fo=Object.freeze({InitializeAccount:{index:0,layout:Zt.n_([Zt.Jq("instruction"),((t="voteInit")=>Zt.n_([Je("nodePubkey"),Je("authorizedVoter"),Je("authorizedWithdrawer"),Zt.u8("commission")],t))()])},Authorize:{index:1,layout:Zt.n_([Zt.Jq("instruction"),Je("newAuthorized"),Zt.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Zt.n_([Zt.Jq("instruction"),Zt.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Zt.n_([Zt.Jq("instruction"),((t="voteAuthorizeWithSeedArgs")=>Zt.n_([Zt.Jq("voteAuthorizationType"),Je("currentAuthorityDerivedKeyOwnerPubkey"),Ye("currentAuthorityDerivedKeySeed"),Je("newAuthorized")],t))()])}}),ho=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class po{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=En(fo.InitializeAccount,{voteInit:{nodePubkey:Be(r.nodePubkey.toBuffer()),authorizedVoter:Be(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Be(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:bn,isSigner:!1,isWritable:!1},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ln(o)}static createAccount(t){const e=new fn;return e.add(Mn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,o=En(fo.Authorize,{newAuthorized:Be(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new fn).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=t,a=En(fo.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Be(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Be(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new fn).add({keys:c,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,o=En(fo.Withdraw,{lamports:r}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new fn).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return po.withdraw(t)}}po.programId=new ze("Vote111111111111111111111111111111111111111"),po.space=3731;const yo=new ze("Va1idator1nfo111111111111111111111111111111"),go=(0,Xt.dt)({name:(0,Xt.Z_)(),website:(0,Xt.jt)((0,Xt.Z_)()),details:(0,Xt.jt)((0,Xt.Z_)()),keybaseUsername:(0,Xt.jt)((0,Xt.Z_)())});class mo{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==tn(e))return null;const n=[];for(let t=0;t<2;t++){const t=new ze(e.slice(0,je));e=e.slice(je);const r=1===e.slice(0,1)[0];e=e.slice(1),n.push({publicKey:t,isSigner:r})}if(n[0].publicKey.equals(yo)&&n[1].isSigner){const t=Ye().decode(i.Buffer.from(e)),r=JSON.parse(t);return(0,Xt.hu)(r,go),new mo(n[1].publicKey,r)}return null}}const bo=new ze("Vote111111111111111111111111111111111111111"),wo=Zt.n_([Je("nodePubkey"),Je("authorizedWithdrawer"),Zt.u8("commission"),Zt._O(),Zt.A9(Zt.n_([Zt._O("slot"),Zt.Jq("confirmationCount")]),Zt.cv(Zt.Jq(),-8),"votes"),Zt.u8("rootSlotValid"),Zt._O("rootSlot"),Zt._O(),Zt.A9(Zt.n_([Zt._O("epoch"),Je("authorizedVoter")]),Zt.cv(Zt.Jq(),-8),"authorizedVoters"),Zt.n_([Zt.A9(Zt.n_([Je("authorizedPubkey"),Zt._O("epochOfLastAuthorizedSwitch"),Zt._O("targetEpoch")]),32,"buf"),Zt._O("idx"),Zt.u8("isEmpty")],"priorVoters"),Zt._O(),Zt.A9(Zt.n_([Zt._O("epoch"),Zt._O("credits"),Zt._O("prevCredits")]),Zt.cv(Zt.Jq(),-8),"epochCredits"),Zt.n_([Zt._O("slot"),Zt._O("timestamp")],"lastTimestamp")]);class vo{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=wo.decode(Be(t),4);let n=e.rootSlot;return e.rootSlotValid||(n=null),new vo({nodePubkey:new ze(e.nodePubkey),authorizedWithdrawer:new ze(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:n,authorizedVoters:e.authorizedVoters.map(ko),priorVoters:_o(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function ko({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new ze(t)}}function So({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new ze(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function _o({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(So),...t.slice(0,e).map(So)]}const Ao={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Eo(t,e){const n=!1===e?"http":"https";if(!t)return Ao[n].devnet;const r=Ao[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function xo(t,e,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await t.sendRawTransaction(e,s),c=o&&o.commitment,u=i?t.confirmTransaction(i,c):t.confirmTransaction(a,c),l=(await u).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Io=1e9},2943:(t,e,n)=>{"use strict";var r=n(4224);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o,s,a=n(9022).codes,c=a.ERR_AMBIGUOUS_ARGUMENT,u=a.ERR_INVALID_ARG_TYPE,l=a.ERR_INVALID_ARG_VALUE,f=a.ERR_INVALID_RETURN_VALUE,h=a.ERR_MISSING_ARGS,d=n(6986),p=n(3585).inspect,y=n(3585).types,g=y.isPromise,m=y.isRegExp,b=Object.assign?Object.assign:n(858).assign,w=Object.is?Object.is:n(2373);function v(){var t=n(23);o=t.isDeepEqual,s=t.isDeepStrictEqual}new Map;var k=!1,S=t.exports=x,_={};function A(t){if(t.message instanceof Error)throw t.message;throw new d(t)}function E(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var o=new d({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function x(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[x,e.length].concat(e))}S.fail=function t(e,n,i,o,s){var a,c=arguments.length;if(0===c?a="Failed":1===c?(i=e,e=void 0):(!1===k&&(k=!0,(r.emitWarning?r.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===c&&(o="!=")),i instanceof Error)throw i;var u={actual:e,expected:n,operator:void 0===o?"fail":o,stackStartFn:s||t};void 0!==i&&(u.message=i);var l=new d(u);throw a&&(l.message=a,l.generatedMessage=!0),l},S.AssertionError=d,S.ok=x,S.equal=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e!=n&&A({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},S.notEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e==n&&A({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},S.deepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&v(),o(e,n)||A({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},S.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&v(),o(e,n)&&A({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},S.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&v(),s(e,n)||A({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},S.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&v(),s(e,n)&&A({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},S.strictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");w(e,n)||A({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},S.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");w(e,n)&&A({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var I=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&m(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function R(t,e,n,r){if("function"!=typeof e){if(m(e))return e.test(t);if(2===arguments.length)throw new u("expected",["Function","RegExp"],e);if("object"!==i(t)||null===t){var a=new d({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw a.operator=r.name,a}var c=Object.keys(e);if(e instanceof Error)c.push("name","message");else if(0===c.length)throw new l("error",e,"may not be an empty object");return void 0===o&&v(),c.forEach((function(i){"string"==typeof t[i]&&m(e[i])&&e[i].test(t[i])||function(t,e,n,r,i,o){if(!(n in t)||!s(t[n],e[n])){if(!r){var a=new I(t,i),c=new I(e,i,t),u=new d({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=t,u.expected=e,u.operator=o.name,u}A({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}(t,e,i,n,c,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function O(t){if("function"!=typeof t)throw new u("fn","Function",t);try{t()}catch(t){return t}return _}function T(t){return g(t)||null!==t&&"object"===i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function P(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!T(e=t()))throw new f("instance of Promise","promiseFn",e)}else{if(!T(t))throw new u("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return _})).catch((function(t){return t}))}))}function B(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],n);if("object"===i(e)&&null!==e){if(e.message===n)throw new c("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new c("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==i(n)&&"function"!=typeof n)throw new u("error",["Object","Error","Function","RegExp"],n);if(e===_){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=r?": ".concat(r):".";var s="rejects"===t.name?"rejection":"exception";A({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(n&&!R(e,n,r,t))throw e}function C(t,e,n,r){if(e!==_){if("string"==typeof n&&(r=n,n=void 0),!n||R(e,n)){var i=r?": ".concat(r):".",o="doesNotReject"===t.name?"rejection":"exception";A({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function M(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[M,e.length].concat(e))}S.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];B.apply(void 0,[t,O(e)].concat(r))},S.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return B.apply(void 0,[t,e].concat(r))}))},S.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];C.apply(void 0,[t,O(e)].concat(r))},S.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return C.apply(void 0,[t,e].concat(r))}))},S.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===i(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=p(e);var r=new d({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=e.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=r.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}r.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw r}},S.strict=b(M,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict},6986:(t,e,n)=>{"use strict";var r=n(4224);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return u(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,t)},c(t)}function u(t,e,n){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i},u.apply(null,arguments)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var d=n(3585).inspect,p=n(9022).codes.ERR_INVALID_ARG_TYPE;function y(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var g="",m="",b="",w="",v={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function S(t){return d(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var _=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==h(t)||null===t)throw new p("options","Object",t);var i=t.message,o=t.operator,c=t.stackStartFn,u=t.actual,l=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=s(this,f(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(g="[34m",m="[32m",w="[39m",b="[31m"):(g="",m="",w="",b="")),"object"===h(u)&&null!==u&&"object"===h(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=k(u),l=k(l)),"deepStrictEqual"===o||"strictEqual"===o)n=s(this,f(e).call(this,function(t,e,n){var i="",o="",s=0,a="",c=!1,u=S(t),l=u.split("\n"),f=S(e).split("\n"),d=0,p="";if("strictEqual"===n&&"object"===h(t)&&"object"===h(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===l.length&&1===f.length&&l[0]!==f[0]){var k=l[0].length+f[0].length;if(k<=10){if(!("object"===h(t)&&null!==t||"object"===h(e)&&null!==e||0===t&&0===e))return"".concat(v[n],"\n\n")+"".concat(l[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==n&&k<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][d]===f[0][d];)d++;d>2&&(p="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",d),"^"),d=0)}}for(var _=l[l.length-1],A=f[f.length-1];_===A&&(d++<2?a="\n  ".concat(_).concat(a):i=_,l.pop(),f.pop(),0!==l.length&&0!==f.length);)_=l[l.length-1],A=f[f.length-1];var E=Math.max(l.length,f.length);if(0===E){var x=u.split("\n");if(x.length>30)for(x[26]="".concat(g,"...").concat(w);x.length>27;)x.pop();return"".concat(v.notIdentical,"\n\n").concat(x.join("\n"),"\n")}d>3&&(a="\n".concat(g,"...").concat(w).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var I=0,R=v[n]+"\n".concat(m,"+ actual").concat(w," ").concat(b,"- expected").concat(w),O=" ".concat(g,"...").concat(w," Lines skipped");for(d=0;d<E;d++){var T=d-s;if(l.length<d+1)T>1&&d>2&&(T>4?(o+="\n".concat(g,"...").concat(w),c=!0):T>3&&(o+="\n  ".concat(f[d-2]),I++),o+="\n  ".concat(f[d-1]),I++),s=d,i+="\n".concat(b,"-").concat(w," ").concat(f[d]),I++;else if(f.length<d+1)T>1&&d>2&&(T>4?(o+="\n".concat(g,"...").concat(w),c=!0):T>3&&(o+="\n  ".concat(l[d-2]),I++),o+="\n  ".concat(l[d-1]),I++),s=d,o+="\n".concat(m,"+").concat(w," ").concat(l[d]),I++;else{var P=f[d],B=l[d],C=B!==P&&(!y(B,",")||B.slice(0,-1)!==P);C&&y(P,",")&&P.slice(0,-1)===B&&(C=!1,B+=","),C?(T>1&&d>2&&(T>4?(o+="\n".concat(g,"...").concat(w),c=!0):T>3&&(o+="\n  ".concat(l[d-2]),I++),o+="\n  ".concat(l[d-1]),I++),s=d,o+="\n".concat(m,"+").concat(w," ").concat(B),i+="\n".concat(b,"-").concat(w," ").concat(P),I+=2):(o+=i,i="",1!==T&&0!==d||(o+="\n  ".concat(B),I++))}if(I>20&&d<E-2)return"".concat(R).concat(O,"\n").concat(o,"\n").concat(g,"...").concat(w).concat(i,"\n")+"".concat(g,"...").concat(w)}return"".concat(R).concat(c?O:"","\n").concat(o).concat(i).concat(a).concat(p)}(u,l,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var _=v[o],A=S(u).split("\n");if("notStrictEqual"===o&&"object"===h(u)&&null!==u&&(_=v.notStrictEqualObject),A.length>30)for(A[26]="".concat(g,"...").concat(w);A.length>27;)A.pop();n=1===A.length?s(this,f(e).call(this,"".concat(_," ").concat(A[0]))):s(this,f(e).call(this,"".concat(_,"\n\n").concat(A.join("\n"),"\n")))}else{var E=S(u),x="",I=v[o];"notDeepEqual"===o||"notEqual"===o?(E="".concat(v[o],"\n\n").concat(E)).length>1024&&(E="".concat(E.slice(0,1021),"...")):(x="".concat(S(l)),E.length>512&&(E="".concat(E.slice(0,509),"...")),x.length>512&&(x="".concat(x.slice(0,509),"...")),"deepEqual"===o||"equal"===o?E="".concat(I,"\n\n").concat(E,"\n\nshould equal\n\n"):x=" ".concat(o," ").concat(x)),n=s(this,f(e).call(this,"".concat(E).concat(x)))}return Error.stackTraceLimit=d,n.generatedMessage=!i,Object.defineProperty(a(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(n),c),n.stack,n.name="AssertionError",s(n)}var n,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),n=e,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(t,e){return d(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],c&&o(n.prototype,c),e}(c(Error));t.exports=_},9022:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}var s,a,c={};function u(t,e,n){n||(n=Error);var s=function(n){function s(n,o,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,i(s).call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,o,a))),c.code=t,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,n),s}(n);c[t]=s}function l(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,a,c,u,f;if(void 0===s&&(s=n(2943)),s("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(a="not ",e.substr(0,4)===a)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-9,n)===e}(t," argument"))c="The ".concat(t," ").concat(o," ").concat(l(e,"type"));else{var h=("number"!=typeof f&&(f=0),f+1>(u=t).length||-1===u.indexOf(".",f)?"argument":"property");c='The "'.concat(t,'" ').concat(h," ").concat(o," ").concat(l(e,"type"))}return c+". Received type ".concat(r(i))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=n(3585));var i=a.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===s&&(s=n(2943)),s(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=c},23:(t,e,n)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},c=Object.is?Object.is:n(2373),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(5757);function f(t){return t.call.bind(t)}var h=f(Object.prototype.hasOwnProperty),d=f(Object.prototype.propertyIsEnumerable),p=f(Object.prototype.toString),y=n(3585).types,g=y.isAnyArrayBuffer,m=y.isArrayBufferView,b=y.isDate,w=y.isMap,v=y.isRegExp,k=y.isSet,S=y.isNativeError,_=y.isBoxedPrimitive,A=y.isNumberObject,E=y.isStringObject,x=y.isBooleanObject,I=y.isBigIntObject,R=y.isSymbolObject,O=y.isFloat32Array,T=y.isFloat64Array;function P(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function B(t){return Object.keys(t).filter(P).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function C(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}var M=0,N=1,U=2,L=3;function j(t,e,n,r){if(t===e)return 0!==t||!n||c(t,e);if(n){if("object"!==i(t))return"number"==typeof t&&l(t)&&l(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var s,a,u,f,h=p(t);if(h!==p(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var d=B(t),y=B(e);return d.length===y.length&&z(t,e,n,r,N,d)}if("[object Object]"===h&&(!w(t)&&w(e)||!k(t)&&k(e)))return!1;if(b(t)){if(!b(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(v(t)){if(!v(e)||(u=t,f=e,!(o?u.source===f.source&&u.flags===f.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(f))))return!1}else if(S(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(n||!O(t)&&!T(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===C(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var P=B(t),j=B(e);return P.length===j.length&&z(t,e,n,r,M,P)}if(k(t))return!(!k(e)||t.size!==e.size)&&z(t,e,n,r,U);if(w(t))return!(!w(e)||t.size!==e.size)&&z(t,e,n,r,L);if(g(t)){if(a=e,(s=t).byteLength!==a.byteLength||0!==C(new Uint8Array(s),new Uint8Array(a)))return!1}else if(_(t)&&!function(t,e){return A(t)?A(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):E(t)?E(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):x(t)?x(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):I(t)?I(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):R(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return z(t,e,n,r,M)}function V(t,e){return e.filter((function(e){return d(t,e)}))}function z(t,e,n,o,c,l){if(5===arguments.length){l=Object.keys(t);var f=Object.keys(e);if(l.length!==f.length)return!1}for(var p=0;p<l.length;p++)if(!h(e,l[p]))return!1;if(n&&5===arguments.length){var y=u(t);if(0!==y.length){var g=0;for(p=0;p<y.length;p++){var m=y[p];if(d(t,m)){if(!d(e,m))return!1;l.push(m),g++}else if(d(e,m))return!1}var b=u(e);if(y.length!==b.length&&V(e,b).length!==g)return!1}else{var w=u(e);if(0!==w.length&&0!==V(e,w).length)return!1}}if(0===l.length&&(c===M||c===N&&0===t.length||0===t.size))return!0;if(void 0===o)o={val1:new Map,val2:new Map,position:0};else{var v=o.val1.get(t);if(void 0!==v){var k=o.val2.get(e);if(void 0!==k)return v===k}o.position++}o.val1.set(t,o.position),o.val2.set(e,o.position);var S=function(t,e,n,o,c,u){var l=0;if(u===U){if(!function(t,e,n,r){for(var o=null,a=s(t),c=0;c<a.length;c++){var u=a[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!e.has(u)){if(n)return!1;if(!G(t,e,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=s(e),f=0;f<l.length;f++){var h=l[f];if("object"===i(h)&&null!==h){if(!W(o,h,n,r))return!1}else if(!n&&!t.has(h)&&!W(o,h,n,r))return!1}return 0===o.size}return!0}(t,e,n,c))return!1}else if(u===L){if(!function(t,e,n,o){for(var s=null,c=a(t),u=0;u<c.length;u++){var l=r(c[u],2),f=l[0],h=l[1];if("object"===i(f)&&null!==f)null===s&&(s=new Set),s.add(f);else{var d=e.get(f);if(void 0===d&&!e.has(f)||!j(h,d,n,o)){if(n)return!1;if(!F(t,e,f,h,o))return!1;null===s&&(s=new Set),s.add(f)}}}if(null!==s){for(var p=a(e),y=0;y<p.length;y++){var g=r(p[y],2),m=(f=g[0],g[1]);if("object"===i(f)&&null!==f){if(!q(s,t,f,m,n,o))return!1}else if(!(n||t.has(f)&&j(t.get(f),m,!1,o)||q(s,t,f,m,!1,o)))return!1}return 0===s.size}return!0}(t,e,n,c))return!1}else if(u===N)for(;l<t.length;l++){if(!h(t,l)){if(h(e,l))return!1;for(var f=Object.keys(t);l<f.length;l++){var d=f[l];if(!h(e,d)||!j(t[d],e[d],n,c))return!1}return f.length===Object.keys(e).length}if(!h(e,l)||!j(t[l],e[l],n,c))return!1}for(l=0;l<o.length;l++){var p=o[l];if(!j(t[p],e[p],n,c))return!1}return!0}(t,e,n,l,o,c);return o.val1.delete(t),o.val2.delete(e),S}function W(t,e,n,r){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(j(e,a,n,r))return t.delete(a),!0}return!1}function D(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function G(t,e,n){var r=D(n);return null!=r?r:e.has(r)&&!t.has(r)}function F(t,e,n,r,i){var o=D(n);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!j(r,s,!1,i))&&!t.has(o)&&j(r,s,!1,i)}function q(t,e,n,r,i,o){for(var a=s(t),c=0;c<a.length;c++){var u=a[c];if(j(n,u,i,o)&&j(r,e.get(u),i,o))return t.delete(u),!0}return!1}t.exports={isDeepEqual:function(t,e){return j(t,e,!1)},isDeepStrictEqual:function(t,e){return j(t,e,!0)}}},5529:(t,e,n)=>{"use strict";var r=n(1874).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===c;)i++,n++;for(var s=(t.length-n)*u+1>>>0,l=new Uint8Array(s);t[n];){var f=e[t.charCodeAt(n)];if(255===f)return;for(var h=0,d=s-1;(0!==f||h<o)&&-1!==d;d--,h++)f+=a*l[d]>>>0,l[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var y=r.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var g=i;p!==s;)y[g++]=l[p++];return y}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,n++;for(var u=(s-o)*l+1>>>0,f=new Uint8Array(u);o!==s;){for(var h=e[o],d=0,p=u-1;(0!==h||d<i)&&-1!==p;p--,d++)h+=256*f[p]>>>0,f[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,o++}for(var y=u-i;y!==u&&0===f[y];)y++;for(var g=c.repeat(n);y<u;++y)g+=t.charAt(f[y]);return g},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},5415:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],c=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),l=0,f=c>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3477:(t,e,n)=>{"use strict";var r=n(5872).Buffer;e.oU=function(t){{const e=r.from(t);e.reverse();const n=e.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},e.k$=function(t,e){{const n=t.toString(16),i=r.from(n.padStart(2*e,"0").slice(0,2*e),"hex");return i.reverse(),i}}},1924:function(t,e,n){var r;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,u="[BigNumber Error] ",l=u+"Number primitive has more than 15 significant digits: ",f=1e14,h=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,g=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=h-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function w(t,e){var n,r,i=t.c,o=e.c,s=t.s,a=e.s,c=t.e,u=e.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function v(t,e,n,r){if(t<e||t>n||t!==c(t))throw Error(u+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function k(t){var e=t.c.length-1;return m(t.e/h)==e&&t.c[e]%2!=0}function S(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function _(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}o=function t(e){var n,r,i,o,A,E,x,I,R,O,T=F.prototype={constructor:F,toString:null,valueOf:null},P=new F(1),B=20,C=4,M=-7,N=21,U=-1e7,L=1e7,j=!1,V=1,z=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function F(t,e){var n,o,a,u,f,p,y,g,m=this;if(!(m instanceof F))return new F(t,e);if(null==e){if(t&&!0===t._isBigNumber)return m.s=t.s,void(!t.c||t.e>L?m.c=m.e=null:t.e<U?m.c=[m.e=0]:(m.e=t.e,m.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,f=t;f>=10;f/=10,u++);return void(u>L?m.c=m.e=null:(m.e=u,m.c=[t]))}g=String(t)}else{if(!s.test(g=String(t)))return i(m,g,p);m.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(u=g.indexOf("."))>-1&&(g=g.replace(".","")),(f=g.search(/e/i))>0?(u<0&&(u=f),u+=+g.slice(f+1),g=g.substring(0,f)):u<0&&(u=g.length)}else{if(v(e,2,D.length,"Base"),10==e&&G)return H(m=new F(t),B+m.e+1,C);if(g=String(t),p="number"==typeof t){if(0*t!=0)return i(m,g,p,e);if(m.s=1/t<0?(g=g.slice(1),-1):1,F.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(l+t)}else m.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=D.slice(0,e),u=f=0,y=g.length;f<y;f++)if(n.indexOf(o=g.charAt(f))<0){if("."==o){if(f>u){u=y;continue}}else if(!a&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){a=!0,f=-1,u=0;continue}return i(m,String(t),p,e)}p=!1,(u=(g=r(g,e,10,m.s)).indexOf("."))>-1?g=g.replace(".",""):u=g.length}for(f=0;48===g.charCodeAt(f);f++);for(y=g.length;48===g.charCodeAt(--y););if(g=g.slice(f,++y)){if(y-=f,p&&F.DEBUG&&y>15&&(t>d||t!==c(t)))throw Error(l+m.s*t);if((u=u-f-1)>L)m.c=m.e=null;else if(u<U)m.c=[m.e=0];else{if(m.e=u,m.c=[],f=(u+1)%h,u<0&&(f+=h),f<y){for(f&&m.c.push(+g.slice(0,f)),y-=h;f<y;)m.c.push(+g.slice(f,f+=h));f=h-(g=g.slice(f)).length}else f-=y;for(;f--;g+="0");m.c.push(+g)}}else m.c=[m.e=0]}function q(t,e,n,r){var i,o,s,a,c;if(null==n?n=C:v(n,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)c=b(t.c),c=1==r||2==r&&(s<=M||s>=N)?S(c,s):_(c,s,"0");else if(o=(t=H(new F(t),e,n)).e,a=(c=b(t.c)).length,1==r||2==r&&(e<=o||o<=M)){for(;a<e;c+="0",a++);c=S(c,o)}else if(e-=s,c=_(c,o,"0"),o+1>a){if(--e>0)for(c+=".";e--;c+="0");}else if((e+=o-a)>0)for(o+1==a&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function K(t,e){for(var n,r=1,i=new F(t[0]);r<t.length;r++){if(!(n=new F(t[r])).s){i=n;break}e.call(i,n)&&(i=n)}return i}function $(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*h-1)>L?t.c=t.e=null:n<U?t.c=[t.e=0]:(t.e=n,t.c=e),t}function H(t,e,n,r){var i,o,s,u,l,d,y,g=t.c,m=p;if(g){t:{for(i=1,u=g[0];u>=10;u/=10,i++);if((o=e-i)<0)o+=h,s=e,y=(l=g[d=0])/m[i-s-1]%10|0;else if((d=a((o+1)/h))>=g.length){if(!r)break t;for(;g.length<=d;g.push(0));l=y=0,i=1,s=(o%=h)-h+1}else{for(l=u=g[d],i=1;u>=10;u/=10,i++);y=(s=(o%=h)-h+i)<0?0:l/m[i-s-1]%10|0}if(r=r||e<0||null!=g[d+1]||(s<0?l:l%m[i-s-1]),r=n<4?(y||r)&&(0==n||n==(t.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(o>0?s>0?l/m[i-s]:0:g[d-1])%10&1||n==(t.s<0?8:7)),e<1||!g[0])return g.length=0,r?(e-=t.e+1,g[0]=m[(h-e%h)%h],t.e=-e||0):g[0]=t.e=0,t;if(0==o?(g.length=d,u=1,d--):(g.length=d+1,u=m[h-o],g[d]=s>0?c(l/m[i-s]%m[s])*u:0),r)for(;;){if(0==d){for(o=1,s=g[0];s>=10;s/=10,o++);for(s=g[0]+=u,u=1;s>=10;s/=10,u++);o!=u&&(t.e++,g[0]==f&&(g[0]=1));break}if(g[d]+=u,g[d]!=f)break;g[d--]=0,u=1}for(o=g.length;0===g[--o];g.pop());}t.e>L?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function Z(t){var e,n=t.e;return null===n?t.toString():(e=b(t.c),e=n<=M||n>=N?S(e,n):_(e,n,"0"),t.s<0?"-"+e:e)}return F.clone=t,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(u+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(n=t[e],0,g,e),B=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(n=t[e],0,8,e),C=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(v(n[0],-g,0,e),v(n[1],0,g,e),M=n[0],N=n[1]):(v(n,-g,g,e),M=-(N=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)v(n[0],-g,-1,e),v(n[1],1,g,e),U=n[0],L=n[1];else{if(v(n,-g,g,e),!n)throw Error(u+e+" cannot be zero: "+n);U=-(L=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(u+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!n,Error(u+"crypto unavailable");j=n}else j=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(n=t[e],0,9,e),V=n),t.hasOwnProperty(e="POW_PRECISION")&&(v(n=t[e],0,g,e),z=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(u+e+" not an object: "+n);W=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(u+e+" invalid: "+n);G="0123456789"==n.slice(0,10),D=n}}return{DECIMAL_PLACES:B,ROUNDING_MODE:C,EXPONENTIAL_AT:[M,N],RANGE:[U,L],CRYPTO:j,MODULO_MODE:V,POW_PRECISION:z,FORMAT:W,ALPHABET:D}},F.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!F.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-g&&i<=g&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%h)<1&&(e+=h),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=f||n!==c(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(u+"Invalid BigNumber: "+t)},F.maximum=F.max=function(){return K(arguments,T.lt)},F.minimum=F.min=function(){return K(arguments,T.gt)},F.random=(o=9007199254740992,A=Math.random()*o&2097151?function(){return c(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,o,s=0,l=[],f=new F(P);if(null==t?t=B:v(t,0,g),i=a(t/h),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(l.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(u+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(l.push(o%1e14),s+=7);s=i/7}if(!j)for(;s<i;)(o=A())<9e15&&(l[s++]=o%1e14);for(i=l[--s],t%=h,i&&t&&(o=p[h-t],l[s]=c(i/o)*o);0===l[s];l.pop(),s--);if(s<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=h);for(s=1,o=l[0];o>=10;o/=10,s++);s<h&&(r-=h-s)}return f.e=r,f.c=l,f}),F.sum=function(){for(var t=1,e=arguments,n=new F(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,s=[0],a=0,c=t.length;a<c;){for(o=s.length;o--;s[o]*=e);for(s[0]+=r.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,u,l,f,h,d,p,y,g=r.indexOf("."),m=B,w=C;for(g>=0&&(f=z,z=0,r=r.replace(".",""),d=(y=new F(i)).pow(r.length-g),z=f,y.c=e(_(b(d.c),d.e,"0"),10,o,t),y.e=y.c.length),l=f=(p=e(r,i,o,a?(c=D,t):(c=t,D))).length;0==p[--f];p.pop());if(!p[0])return c.charAt(0);if(g<0?--l:(d.c=p,d.e=l,d.s=s,p=(d=n(d,y,m,w,o)).c,h=d.r,l=d.e),g=p[u=l+m+1],f=o/2,h=h||u<0||null!=p[u+1],h=w<4?(null!=g||h)&&(0==w||w==(d.s<0?3:2)):g>f||g==f&&(4==w||h||6==w&&1&p[u-1]||w==(d.s<0?8:7)),u<1||!p[0])r=h?_(c.charAt(1),-m,c.charAt(0)):c.charAt(0);else{if(p.length=u,h)for(--o;++p[--u]>o;)p[u]=0,u||(++l,p=[1].concat(p));for(f=p.length;!p[--f];);for(g=0,r="";g<=f;r+=c.charAt(p[g++]));r=_(r,l,c.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,s,a=0,c=t.length,u=e%y,l=e/y|0;for(t=t.slice();c--;)a=((i=u*(o=t[c]%y)+(r=l*o+(s=t[c]/y|0)*u)%y*y+a)/n|0)+(r/y|0)+l*s,t[c]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,s,a){var u,l,d,p,y,g,b,w,v,k,S,_,A,E,x,I,R,O=r.s==i.s?1:-1,T=r.c,P=i.c;if(!(T&&T[0]&&P&&P[0]))return new F(r.s&&i.s&&(T?!P||T[0]!=P[0]:P)?T&&0==T[0]||!P?0*O:O/0:NaN);for(v=(w=new F(O)).c=[],O=o+(l=r.e-i.e)+1,a||(a=f,l=m(r.e/h)-m(i.e/h),O=O/h|0),d=0;P[d]==(T[d]||0);d++);if(P[d]>(T[d]||0)&&l--,O<0)v.push(1),p=!0;else{for(E=T.length,I=P.length,d=0,O+=2,(y=c(a/(P[0]+1)))>1&&(P=t(P,y,a),T=t(T,y,a),I=P.length,E=T.length),A=I,S=(k=T.slice(0,I)).length;S<I;k[S++]=0);R=P.slice(),R=[0].concat(R),x=P[0],P[1]>=a/2&&x++;do{if(y=0,(u=e(P,k,I,S))<0){if(_=k[0],I!=S&&(_=_*a+(k[1]||0)),(y=c(_/x))>1)for(y>=a&&(y=a-1),b=(g=t(P,y,a)).length,S=k.length;1==e(g,k,b,S);)y--,n(g,I<b?R:P,b,a),b=g.length,u=1;else 0==y&&(u=y=1),b=(g=P.slice()).length;if(b<S&&(g=[0].concat(g)),n(k,g,S,a),S=k.length,-1==u)for(;e(P,k,I,S)<1;)y++,n(k,I<S?R:P,S,a),S=k.length}else 0===u&&(y++,k=[0]);v[d++]=y,k[0]?k[S++]=T[A]||0:(k=[T[A]],S=1)}while((A++<E||null!=k[0])&&O--);p=null!=k[0],v[0]||v.splice(0,1)}if(a==f){for(d=1,O=v[0];O>=10;O/=10,d++);H(w,o+(w.e=d+l*h-1)+1,s,p)}else w.e=l,w.r=+p;return w}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,I=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,n,r){var i,o=n?e:e.replace(O,"");if(R.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(E,(function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e})),r&&(i=r,o=o.replace(x,"$1").replace(I,"0.$1")),e!=o))return new F(o,i);if(F.DEBUG)throw Error(u+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},T.absoluteValue=T.abs=function(){var t=new F(this);return t.s<0&&(t.s=1),t},T.comparedTo=function(t,e){return w(this,new F(t,e))},T.decimalPlaces=T.dp=function(t,e){var n,r,i,o=this;if(null!=t)return v(t,0,g),null==e?e=C:v(e,0,8),H(new F(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-m(this.e/h))*h,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},T.dividedBy=T.div=function(t,e){return n(this,new F(t,e),B,C)},T.dividedToIntegerBy=T.idiv=function(t,e){return n(this,new F(t,e),0,1)},T.exponentiatedBy=T.pow=function(t,e){var n,r,i,o,s,l,f,d,p=this;if((t=new F(t)).c&&!t.isInteger())throw Error(u+"Exponent not an integer: "+Z(t));if(null!=e&&(e=new F(e)),s=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new F(Math.pow(+Z(p),s?t.s*(2-k(t)):+Z(t))),e?d.mod(e):d;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new F(NaN);(r=!l&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||s&&p.c[1]>=24e7:p.c[0]<8e13||s&&p.c[0]<=9999975e7)))return o=p.s<0&&k(t)?-0:0,p.e>-1&&(o=1/o),new F(l?1/o:o);z&&(o=a(z/h+2))}for(s?(n=new F(.5),l&&(t.s=1),f=k(t)):f=(i=Math.abs(+Z(t)))%2,d=new F(P);;){if(f){if(!(d=d.times(p)).c)break;o?d.c.length>o&&(d.c.length=o):r&&(d=d.mod(e))}if(i){if(0===(i=c(i/2)))break;f=i%2}else if(H(t=t.times(n),t.e+1,1),t.e>14)f=k(t);else{if(0==(i=+Z(t)))break;f=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):r&&(p=p.mod(e))}return r?d:(l&&(d=P.div(d)),e?d.mod(e):o?H(d,z,C,void 0):d)},T.integerValue=function(t){var e=new F(this);return null==t?t=C:v(t,0,8),H(e,e.e+1,t)},T.isEqualTo=T.eq=function(t,e){return 0===w(this,new F(t,e))},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(t,e){return w(this,new F(t,e))>0},T.isGreaterThanOrEqualTo=T.gte=function(t,e){return 1===(e=w(this,new F(t,e)))||0===e},T.isInteger=function(){return!!this.c&&m(this.e/h)>this.c.length-2},T.isLessThan=T.lt=function(t,e){return w(this,new F(t,e))<0},T.isLessThanOrEqualTo=T.lte=function(t,e){return-1===(e=w(this,new F(t,e)))||0===e},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&0==this.c[0]},T.minus=function(t,e){var n,r,i,o,s=this,a=s.s;if(e=(t=new F(t,e)).s,!a||!e)return new F(NaN);if(a!=e)return t.s=-e,s.plus(t);var c=s.e/h,u=t.e/h,l=s.c,d=t.c;if(!c||!u){if(!l||!d)return l?(t.s=-e,t):new F(d?s:NaN);if(!l[0]||!d[0])return d[0]?(t.s=-e,t):new F(l[0]?s:3==C?-0:0)}if(c=m(c),u=m(u),l=l.slice(),a=c-u){for((o=a<0)?(a=-a,i=l):(u=c,i=d),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(o=(a=l.length)<(e=d.length))?a:e,a=e=0;e<r;e++)if(l[e]!=d[e]){o=l[e]<d[e];break}if(o&&(i=l,l=d,d=i,t.s=-t.s),(e=(r=d.length)-(n=l.length))>0)for(;e--;l[n++]=0);for(e=f-1;r>a;){if(l[--r]<d[r]){for(n=r;n&&!l[--n];l[n]=e);--l[n],l[r]+=f}l[r]-=d[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?$(t,l,u):(t.s=3==C?-1:1,t.c=[t.e=0],t)},T.modulo=T.mod=function(t,e){var r,i,o=this;return t=new F(t,e),!o.c||!t.s||t.c&&!t.c[0]?new F(NaN):!t.c||o.c&&!o.c[0]?new F(o):(9==V?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,V),(t=o.minus(r.times(t))).c[0]||1!=V||(t.s=o.s),t)},T.multipliedBy=T.times=function(t,e){var n,r,i,o,s,a,c,u,l,d,p,g,b,w,v,k=this,S=k.c,_=(t=new F(t,e)).c;if(!(S&&_&&S[0]&&_[0]))return!k.s||!t.s||S&&!S[0]&&!_||_&&!_[0]&&!S?t.c=t.e=t.s=null:(t.s*=k.s,S&&_?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=m(k.e/h)+m(t.e/h),t.s*=k.s,(c=S.length)<(d=_.length)&&(b=S,S=_,_=b,i=c,c=d,d=i),i=c+d,b=[];i--;b.push(0));for(w=f,v=y,i=d;--i>=0;){for(n=0,p=_[i]%v,g=_[i]/v|0,o=i+(s=c);o>i;)n=((u=p*(u=S[--s]%v)+(a=g*u+(l=S[s]/v|0)*p)%v*v+b[o]+n)/w|0)+(a/v|0)+g*l,b[o--]=u%w;b[o]=n}return n?++r:b.splice(0,1),$(t,b,r)},T.negated=function(){var t=new F(this);return t.s=-t.s||null,t},T.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new F(t,e)).s,!i||!e)return new F(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/h,s=t.e/h,a=r.c,c=t.c;if(!o||!s){if(!a||!c)return new F(i/0);if(!a[0]||!c[0])return c[0]?t:new F(a[0]?r:0*i)}if(o=m(o),s=m(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=c.length)<0&&(n=c,c=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+c[e]+i)/f|0,a[e]=f===a[e]?0:a[e]%f;return i&&(a=[i].concat(a),++s),$(t,a,s)},T.precision=T.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return v(t,1,g),null==e?e=C:v(e,0,8),H(new F(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*h+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},T.shiftedBy=function(t){return v(t,-9007199254740991,d),this.times("1e"+t)},T.squareRoot=T.sqrt=function(){var t,e,r,i,o,s=this,a=s.c,c=s.s,u=s.e,l=B+4,f=new F("0.5");if(1!==c||!a||!a[0])return new F(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+Z(s)))||c==1/0?(((e=b(a)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=m((u+1)/2)-(u<0||u%2),r=new F(e=c==1/0?"5e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new F(c+""),r.c[0])for((c=(u=r.e)+l)<3&&(c=0);;)if(o=r,r=f.times(o.plus(n(s,o,l,1))),b(o.c).slice(0,c)===(e=b(r.c)).slice(0,c)){if(r.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(H(r,r.e+B+2,1),t=!r.times(r).eq(s));break}if(!i&&(H(o,o.e+B+2,0),o.times(o).eq(s))){r=o;break}l+=4,c+=4,i=1}return H(r,r.e+B+1,C,t)},T.toExponential=function(t,e){return null!=t&&(v(t,0,g),t++),q(this,t,e,1)},T.toFixed=function(t,e){return null!=t&&(v(t,0,g),t=t+this.e+1),q(this,t,e)},T.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=W;else if("object"!=typeof n)throw Error(u+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,s=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,l=n.groupSeparator||"",f=s[0],h=s[1],d=i.s<0,p=d?f.slice(1):f,y=p.length;if(c&&(o=a,a=c,c=o,y-=o),a>0&&y>0){for(o=y%a||a,f=p.substr(0,o);o<y;o+=a)f+=l+p.substr(o,a);c>0&&(f+=l+p.slice(o)),d&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},T.toFraction=function(t){var e,r,i,o,s,a,c,l,f,d,y,g,m=this,w=m.c;if(null!=t&&(!(c=new F(t)).isInteger()&&(c.c||1!==c.s)||c.lt(P)))throw Error(u+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+Z(c));if(!w)return new F(m);for(e=new F(P),f=r=new F(P),i=l=new F(P),g=b(w),s=e.e=g.length-m.e-1,e.c[0]=p[(a=s%h)<0?h+a:a],t=!t||c.comparedTo(e)>0?s>0?e:f:c,a=L,L=1/0,c=new F(g),l.c[0]=0;d=n(c,e,0,1),1!=(o=r.plus(d.times(i))).comparedTo(t);)r=i,i=o,f=l.plus(d.times(o=f)),l=o,e=c.minus(d.times(o=e)),c=o;return o=n(t.minus(r),i,0,1),l=l.plus(o.times(f)),r=r.plus(o.times(i)),l.s=f.s=m.s,y=n(f,i,s*=2,C).minus(m).abs().comparedTo(n(l,r,s,C).minus(m).abs())<1?[f,i]:[l,r],L=a,y},T.toNumber=function(){return+Z(this)},T.toPrecision=function(t,e){return null!=t&&v(t,1,g),q(this,t,e,2)},T.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=M||o>=N?S(b(n.c),o):_(b(n.c),o,"0"):10===t&&G?e=_(b((n=H(new F(n),B+o+1,C)).c),n.e,"0"):(v(t,2,D.length,"Base"),e=r(_(b(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},T.valueOf=T.toJSON=function(){return Z(this)},T._isBigNumber=!0,null!=e&&F.set(e),F}(),o.default=o.BigNumber=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},9098:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(9391).Buffer}catch(t){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function c(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function u(t,e,n,i){for(var o=0,s=0,a=Math.min(t.length,n),c=e;c<a;c++){var u=t.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=c(t,e,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(t,l,l+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=h;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=p[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var y=f.modrn(l).toString(t);n=(f=f.idivn(l)).isZero()?y+n:h[u-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n++]=255&s,n<t.length&&(t[n++]=s>>8&255),n<t.length&&(t[n++]=s>>16&255),6===o?(n<t.length&&(t[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;t[n--]=255&s,n>=0&&(t[n--]=s>>8&255),n>=0&&(t[n--]=s>>16&255),6===o?(n>=0&&(t[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<n.length;s++)o=(e=(0|n.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,o,s=t.words,a=e.words,c=n.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,d=0|s[1],p=8191&d,y=d>>>13,g=0|s[2],m=8191&g,b=g>>>13,w=0|s[3],v=8191&w,k=w>>>13,S=0|s[4],_=8191&S,A=S>>>13,E=0|s[5],x=8191&E,I=E>>>13,R=0|s[6],O=8191&R,T=R>>>13,P=0|s[7],B=8191&P,C=P>>>13,M=0|s[8],N=8191&M,U=M>>>13,L=0|s[9],j=8191&L,V=L>>>13,z=0|a[0],W=8191&z,D=z>>>13,G=0|a[1],F=8191&G,q=G>>>13,K=0|a[2],$=8191&K,H=K>>>13,Z=0|a[3],J=8191&Z,X=Z>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ct=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ht=lt>>>13,dt=0|a[9],pt=8191&dt,yt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(u+(r=Math.imul(f,W))|0)+((8191&(i=(i=Math.imul(f,D))+Math.imul(h,W)|0))<<13)|0;u=((o=Math.imul(h,D))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,W),i=(i=Math.imul(p,D))+Math.imul(y,W)|0,o=Math.imul(y,D);var mt=(u+(r=r+Math.imul(f,F)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(h,F)|0))<<13)|0;u=((o=o+Math.imul(h,q)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(m,W),i=(i=Math.imul(m,D))+Math.imul(b,W)|0,o=Math.imul(b,D),r=r+Math.imul(p,F)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(y,F)|0,o=o+Math.imul(y,q)|0;var bt=(u+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(v,W),i=(i=Math.imul(v,D))+Math.imul(k,W)|0,o=Math.imul(k,D),r=r+Math.imul(m,F)|0,i=(i=i+Math.imul(m,q)|0)+Math.imul(b,F)|0,o=o+Math.imul(b,q)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,H)|0;var wt=(u+(r=r+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(_,W),i=(i=Math.imul(_,D))+Math.imul(A,W)|0,o=Math.imul(A,D),r=r+Math.imul(v,F)|0,i=(i=i+Math.imul(v,q)|0)+Math.imul(k,F)|0,o=o+Math.imul(k,q)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,H)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0;var vt=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(x,W),i=(i=Math.imul(x,D))+Math.imul(I,W)|0,o=Math.imul(I,D),r=r+Math.imul(_,F)|0,i=(i=i+Math.imul(_,q)|0)+Math.imul(A,F)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(v,$)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,H)|0,r=r+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0;var kt=(u+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(h,nt)|0))<<13)|0;u=((o=o+Math.imul(h,rt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(O,W),i=(i=Math.imul(O,D))+Math.imul(T,W)|0,o=Math.imul(T,D),r=r+Math.imul(x,F)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(I,F)|0,o=o+Math.imul(I,q)|0,r=r+Math.imul(_,$)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,H)|0,r=r+Math.imul(v,J)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0;var St=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(h,ot)|0))<<13)|0;u=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(B,W),i=(i=Math.imul(B,D))+Math.imul(C,W)|0,o=Math.imul(C,D),r=r+Math.imul(O,F)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(T,F)|0,o=o+Math.imul(T,q)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,H)|0,r=r+Math.imul(_,J)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(m,nt)|0,i=(i=i+Math.imul(m,rt)|0)+Math.imul(b,nt)|0,o=o+Math.imul(b,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var _t=(u+(r=r+Math.imul(f,ct)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(h,ct)|0))<<13)|0;u=((o=o+Math.imul(h,ut)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(N,W),i=(i=Math.imul(N,D))+Math.imul(U,W)|0,o=Math.imul(U,D),r=r+Math.imul(B,F)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,q)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,H)|0,r=r+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ut)|0;var At=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))<<13)|0;u=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,D))+Math.imul(V,W)|0,o=Math.imul(V,D),r=r+Math.imul(N,F)|0,i=(i=i+Math.imul(N,q)|0)+Math.imul(U,F)|0,o=o+Math.imul(U,q)|0,r=r+Math.imul(B,$)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,H)|0,r=r+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,st)|0,r=r+Math.imul(m,ct)|0,i=(i=i+Math.imul(m,ut)|0)+Math.imul(b,ct)|0,o=o+Math.imul(b,ut)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ht)|0;var Et=(u+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,yt)|0)+Math.imul(h,pt)|0))<<13)|0;u=((o=o+Math.imul(h,yt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,F),i=(i=Math.imul(j,q))+Math.imul(V,F)|0,o=Math.imul(V,q),r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,H)|0,r=r+Math.imul(B,J)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(x,nt)|0,i=(i=i+Math.imul(x,rt)|0)+Math.imul(I,nt)|0,o=o+Math.imul(I,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,r=r+Math.imul(v,ct)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(m,ft)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(b,ft)|0,o=o+Math.imul(b,ht)|0;var xt=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,yt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,yt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,H))+Math.imul(V,$)|0,o=Math.imul(V,H),r=r+Math.imul(N,J)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,X)|0,r=r+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,r=r+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ut)|0,r=r+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,ht)|0;var It=(u+(r=r+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,yt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((o=o+Math.imul(b,yt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,J),i=(i=Math.imul(j,X))+Math.imul(V,J)|0,o=Math.imul(V,X),r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(U,Q)|0,o=o+Math.imul(U,tt)|0,r=r+Math.imul(B,nt)|0,i=(i=i+Math.imul(B,rt)|0)+Math.imul(C,nt)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,r=r+Math.imul(x,ct)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ut)|0,r=r+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,ht)|0)+Math.imul(A,ft)|0,o=o+Math.imul(A,ht)|0;var Rt=(u+(r=r+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,yt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,yt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(V,Q)|0,o=Math.imul(V,tt),r=r+Math.imul(N,nt)|0,i=(i=i+Math.imul(N,rt)|0)+Math.imul(U,nt)|0,o=o+Math.imul(U,rt)|0,r=r+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,r=r+Math.imul(O,ct)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(T,ct)|0,o=o+Math.imul(T,ut)|0,r=r+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ht)|0;var Ot=(u+(r=r+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,yt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((o=o+Math.imul(A,yt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(V,nt)|0,o=Math.imul(V,rt),r=r+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(U,ot)|0,o=o+Math.imul(U,st)|0,r=r+Math.imul(B,ct)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(C,ct)|0,o=o+Math.imul(C,ut)|0,r=r+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ht)|0)+Math.imul(T,ft)|0,o=o+Math.imul(T,ht)|0;var Tt=(u+(r=r+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,yt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((o=o+Math.imul(I,yt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,st))+Math.imul(V,ot)|0,o=Math.imul(V,st),r=r+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(U,ct)|0,o=o+Math.imul(U,ut)|0,r=r+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,ht)|0;var Pt=(u+(r=r+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,yt)|0)+Math.imul(T,pt)|0))<<13)|0;u=((o=o+Math.imul(T,yt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ut))+Math.imul(V,ct)|0,o=Math.imul(V,ut),r=r+Math.imul(N,ft)|0,i=(i=i+Math.imul(N,ht)|0)+Math.imul(U,ft)|0,o=o+Math.imul(U,ht)|0;var Bt=(u+(r=r+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,yt)|0)+Math.imul(C,pt)|0))<<13)|0;u=((o=o+Math.imul(C,yt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(j,ft),i=(i=Math.imul(j,ht))+Math.imul(V,ft)|0,o=Math.imul(V,ht);var Ct=(u+(r=r+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,yt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((o=o+Math.imul(U,yt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var Mt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,yt))+Math.imul(V,pt)|0))<<13)|0;return u=((o=Math.imul(V,yt))+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,c[0]=gt,c[1]=mt,c[2]=bt,c[3]=wt,c[4]=vt,c[5]=kt,c[6]=St,c[7]=_t,c[8]=At,c[9]=Et,c[10]=xt,c[11]=It,c[12]=Rt,c[13]=Ot,c[14]=Tt,c[15]=Pt,c[16]=Bt,c[17]=Ct,c[18]=Mt,0!==u&&(c[19]=u,n.length++),n};function m(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function b(t,e,n){return m(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=y),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?y(this,t,e):n<1024?m(this,t,e):b(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,o){for(var s=0;s<o;s++)r[s]=e[t[s]],i[s]=n[t[s]]},w.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,d=0;d<s;d++){var p=n[l+d],y=r[l+d],g=n[l+d+s],m=r[l+d+s],b=f*g-h*m;m=f*m+h*g,g=b,n[l+d]=p+g,r[l+d]=y+m,n[l+d+s]=p-g,r[l+d+s]=y-m,d!==a&&(b=c*f-u*h,h=c*h+u*f,f=b)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,f,r,i);for(var d=0;d<r;d++){var p=a[d]*l[d]-c[d]*f[d];c[d]=a[d]*f[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,c=(0|this.words[e])-a<<n;this.words[e]=c|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var c=(0|t.words[i])*e;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,s=0|i.words[i.length-1];0!=(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==e){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/t|0,n=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var h=0,d=1;0==(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),s.isub(c)):(n.isub(e),a.isub(i),c.isub(s))}return{a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function k(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},k.prototype.split=function(t,e){t.iushrn(this.n,0,e)},k.prototype.imulK=function(t){return t.imul(this.k)},i(S,k),S.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&n,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,k),i(A,k),i(E,k),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new _;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return v[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=s;0!==d.cmp(a);){for(var y=d,g=0;0!==y.cmp(a);g++)y=y.redSqr();r(g<p);var m=this.pow(f,new o(1).iushln(p-g-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=g}return h},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],s=0,a=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new I(t)},i(I,x),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},2303:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=c(n(9098)),l=c(n(1511)),f=a(n(8752)),h=new("function"!=typeof n.g.TextDecoder?f.TextDecoder:n.g.TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=r.from(t,"utf8")),l.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(l.default.decode(t))};const d=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class y{constructor(){this.buf=r.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",16)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=y;class m{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,n,r,i){try{if("string"==typeof r)i[`write${b(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else i.writeArray(n,(n=>{w(t,e,n,r[0],i)}));else if(void 0!==r.kind){if("option"!==r.kind)throw new p(`FieldType ${r} unrecognized`);null===n?i.writeU8(0):(i.writeU8(1),w(t,e,n,r.type,i))}else v(t,n,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function v(t,e,n){const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{w(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),w(t,s,e[s],a,n);break}}}}}function k(t,e,n,r){try{return"string"==typeof n?r[`read${b(n)}`]():n instanceof Array?"number"==typeof n[0]?r.readFixedArray(n[0]):r.readArray((()=>k(t,e,n[0],r))):S(t,n,r)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function S(t,e,n){const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=k(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new e({[o]:k(t,o,s,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([g],m.prototype,"readU8",null),s([g],m.prototype,"readU32",null),s([g],m.prototype,"readU64",null),s([g],m.prototype,"readU128",null),s([g],m.prototype,"readString",null),s([g],m.prototype,"readFixedArray",null),s([g],m.prototype,"readArray",null),e.BinaryReader=m,e.serialize=function(t,e){const n=new y;return v(t,e,n),n.toArray()},e.deserialize=function(t,e,n){const r=new m(n),i=S(t,e,r);if(r.offset<n.length)throw new p(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return i}},8797:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=c(n(9098)),l=c(n(1511)),f=a(n(8752)),h=new("function"!=typeof TextDecoder?f.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=r.from(t,"utf8")),l.default.encode(r.from(t))},e.baseDecode=function(t){return r.from(l.default.decode(t))};const d=1024;class p extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=p;class y{constructor(){this.buf=r.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(r.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),t,r.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=r.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(r.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=y;class m{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new p(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new p(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function w(t,e,n,r,i){try{if("string"==typeof r)i[`write${b(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)w(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{w(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),w(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{w(t,e,o,r.key,i),w(t,e,n,r.value,i)}));break;default:throw new p(`FieldType ${r} unrecognized`)}else v(t,n,i)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function v(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new p(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{w(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),w(t,s,e[s],a,n);break}}}}}function k(t,e,n,r){try{if("string"==typeof n)return r[`read${b(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(k(t,null,n[0],r));return e}return r.readArray((()=>k(t,e,n[0],r)))}if("option"===n.kind)return r.readU8()?k(t,e,n.type,r):void 0;if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=k(t,e,n.key,r),s=k(t,e,n.value,r);i.set(o,s)}return i}return S(t,n,r)}catch(t){throw t instanceof p&&t.addToFieldPath(e),t}}function S(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new p(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of t.get(e).fields)r[i]=k(t,i,o,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new e({[o]:k(t,o,s,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([g],m.prototype,"readU8",null),s([g],m.prototype,"readU16",null),s([g],m.prototype,"readU32",null),s([g],m.prototype,"readU64",null),s([g],m.prototype,"readU128",null),s([g],m.prototype,"readU256",null),s([g],m.prototype,"readU512",null),s([g],m.prototype,"readString",null),s([g],m.prototype,"readFixedArray",null),s([g],m.prototype,"readArray",null),e.BinaryReader=m,e.serialize=function(t,e,n=y){const r=new n;return v(t,e,r),r.toArray()},e.deserialize=function(t,e,n,r=m){const i=new r(n),o=S(t,e,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,n,r=m){return S(t,e,new r(n))}},1511:(t,e,n)=>{var r=n(5529);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},4104:(t,e,n)=>{"use strict";var r=n(5872).Buffer;class i{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=i,e.nameWithProperty=o,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof i))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class c extends s{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class u extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class l extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class f extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class h extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const d=Math.pow(2,32);function p(t){const e=Math.floor(t/d);return{hi32:e,lo32:t-e*d}}function y(t,e){return t*d+e}class g extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return y(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class m extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),y(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class b extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return y(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class w extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),y(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=p(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class v extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class k extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class S extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class _ extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class A extends i{constructor(t,e,n){if(!(t instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof s)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof s&&this.count.encode(t.length,e,n),i}}class E extends i{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=t[r.property];void 0!==i&&(o=r.encode(i,e,n),0>s&&(s=r.getSpan(e,n)))}i=n,n+=s}return i+o-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class x{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class I extends x{constructor(t,e){if(!(t instanceof s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class R extends i{constructor(t,e,n){const r=t instanceof u||t instanceof l;if(r)t=new I(new c(t));else if(t instanceof s&&t.isCount())t=new I(t);else if(!(t instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return a(t)},this.configGetSourceVariant=function(t){a=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(t,e+s)}else n=o.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],e,n),o+i.encode(t[i.property],e,n+o)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new O(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return r.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class O extends i{constructor(t,e,n,r){if(!(t instanceof R))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof i))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function T(t){return 0>t&&(t+=4294967296),t}class P extends i{constructor(t,e,n){if(!(t instanceof u||t instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=T(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const n=t[e.property];void 0!==n&&e.encode(n)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new B(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new C(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class B{constructor(t,e,n){if(!(t instanceof P))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=T(this.valueMask<<this.start),this.property=n}decode(){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==T(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=T(t<<this.start);this.container._packedSetValue(T(e&~this.wordMask)|n)}}class C extends B{constructor(t,e){super(t,1,e)}decode(t,e){return!!B.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),B.prototype.encode.call(this,t)}}class M extends i{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof s||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof s&&(i=t.length),!r.isBuffer(t)||i!==t.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof s&&this.length.encode(i,e,n),i}}class N extends i{constructor(t){super(-1,t)}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),e[n+o]=0,o+1}}class U extends i{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!r.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const i=new r(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,n),o}}class L extends i{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}e.ExternalLayout=s,e.GreedyCount=a,e.OffsetLayout=c,e.UInt=u,e.UIntBE=l,e.Int=f,e.IntBE=h,e.Float=v,e.FloatBE=k,e.Double=S,e.DoubleBE=_,e.Sequence=A,e.Structure=E,e.UnionDiscriminator=x,e.UnionLayoutDiscriminator=I,e.Union=R,e.VariantLayout=O,e.BitStructure=P,e.BitField=B,e.Boolean=C,e.Blob=M,e.CString=N,e.UTF8=U,e.Constant=L,e.greedy=(t,e)=>new a(t,e),e.offset=(t,e,n)=>new c(t,e,n),e.u8=t=>new u(1,t),e.u16=t=>new u(2,t),e.u24=t=>new u(3,t),e.u32=t=>new u(4,t),e.u40=t=>new u(5,t),e.u48=t=>new u(6,t),e.nu64=t=>new g(t),e.u16be=t=>new l(2,t),e.u24be=t=>new l(3,t),e.u32be=t=>new l(4,t),e.u40be=t=>new l(5,t),e.u48be=t=>new l(6,t),e.nu64be=t=>new m(t),e.s8=t=>new f(1,t),e.s16=t=>new f(2,t),e.s24=t=>new f(3,t),e.s32=t=>new f(4,t),e.s40=t=>new f(5,t),e.s48=t=>new f(6,t),e.ns64=t=>new b(t),e.s16be=t=>new h(2,t),e.s24be=t=>new h(3,t),e.s32be=t=>new h(4,t),e.s40be=t=>new h(5,t),e.s48be=t=>new h(6,t),e.ns64be=t=>new w(t),e.f32=t=>new v(t),e.f32be=t=>new k(t),e.f64=t=>new S(t),e.f64be=t=>new _(t),e.struct=(t,e,n)=>new E(t,e,n),e.bits=(t,e,n)=>new P(t,e,n),e.seq=(t,e,n)=>new A(t,e,n),e.union=(t,e,n)=>new R(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new I(t,e),e.blob=(t,e)=>new M(t,e),e.cstr=t=>new N(t),e.utf8=(t,e)=>new U(t,e),e.const=(t,e)=>new L(t,e)},5858:(t,e,n)=>{"use strict";const r=n(5415),i=n(551),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=c,e.h2=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function v(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(J(r))return s;t[n+s]=r}return s}function k(t,e,n,r){return H(K(e,t.length-n),t,n,r)}function S(t,e,n,r){return H(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return H($(e),t,n,r)}function A(t,e,n,r){return H(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=X[t[r]];return i}function P(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r,i){D(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){D(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return e=+e,n>>>=0,o||U(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return e=+e,n>>>=0,o||U(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Y((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Y((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const V={};function z(t,e,n){V[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function W(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function D(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new V.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||F(e,t.length-(n+1))}(r,i,o)}function G(t,e){if("number"!=typeof t)throw new V.ERR_INVALID_ARG_TYPE(e,"number",t)}function F(t,e,n){if(Math.floor(t)!==t)throw G(t,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function K(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},5872:(t,e,n)=>{"use strict";const r=n(5415),i=n(551),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|y(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Z(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Z(t,ArrayBuffer)||t&&Z(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Z(t,SharedArrayBuffer)||t&&Z(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Z(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:K(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function v(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(J(r))return s;t[n+s]=r}return s}function k(t,e,n,r){return H(K(e,t.length-n),t,n,r)}function S(t,e,n,r){return H(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return H($(e),t,n,r)}function A(t,e,n,r){return H(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return f(t)},c.allocUnsafeSlow=function(t){return f(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Z(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?x(this,0,t):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=X[t[r]];return i}function P(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function B(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r,i){D(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){D(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,o){return e=+e,n>>>=0,o||U(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return e=+e,n>>>=0,o||U(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Y((function(t){G(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||C(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Y((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Y((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const V={};function z(t,e,n){V[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function W(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function D(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new V.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){G(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||F(e,t.length-(n+1))}(r,i,o)}function G(t,e){if("number"!=typeof t)throw new V.ERR_INVALID_ARG_TYPE(e,"number",t)}function F(t,e,n){if(Math.floor(t)!==t)throw G(t,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new V.ERR_BUFFER_OUT_OF_BOUNDS;throw new V.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function K(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},3099:(t,e,n)=>{"use strict";var r=n(2870),i=n(2755),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},2755:(t,e,n)=>{"use strict";var r=n(3569),i=n(2870),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var e=a(r,s,arguments);return c&&u&&c(e,"length").configurable&&u(e,"length",{value:1+l(0,t.length-(arguments.length-1))}),e};var f=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:f}):t.exports.apply=f},1036:t=>{"use strict";const e=(t,e)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");return e=Object.assign({pascalCase:!1},e),t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim(),0===t.length?"":1===t.length?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=(t=>{let e=!1,n=!1,r=!1;for(let i=0;i<t.length;i++){const o=t[i];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,i)+"-"+t.slice(i),e=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,i-1)+"-"+t.slice(i-1),r=n,n=!1,e=!0):(e=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return t})(t)),n=t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((t,e)=>e.toUpperCase())).replace(/\d+(\w|$)/g,(t=>t.toUpperCase())),e.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};t.exports=e,t.exports.default=e},73:(t,e,n)=>{"use strict";var r=n(2051),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=n(229)(),u=a&&c,l=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())return;var i;u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n},f=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)l(t,o[a],e[o[a]],n[o[a]])};f.supportsDescriptors=!!u,t.exports=f},858:t=>{"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},1312:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},440:(t,e,n)=>{var r=n(9613),i=n(1462);void 0===i.scriptNamespace&&(i.scriptNamespace=r),t.exports=r},1462:(t,e,n)=>{"use strict";t.exports=function(){if("object"==typeof globalThis)return globalThis;var t;try{t=this||new Function("return this")()}catch(t){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return t}()},2904:(t,e,n)=>{"use strict";var r=n(3655),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),"[object Array]"===i.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s):"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,s):function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,s)}},8640:t=>{"use strict";var e=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var i,o=e.call(arguments,1),s=Math.max(0,r.length-o.length),a=[],c=0;c<s;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var n=r.apply(this,o.concat(e.call(arguments)));return Object(n)===n?n:this}return r.apply(t,o.concat(e.call(arguments)))})),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}},3569:(t,e,n)=>{"use strict";var r=n(8640);t.exports=Function.prototype.bind||r},2870:(t,e,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(t){try{return c(arguments,"callee").get}catch(t){return u}}}():u,f=n(1143)(),h=n(3413)(),d=Object.getPrototypeOf||(h?function(t){return t.__proto__}:null),p={},y="undefined"!=typeof Uint8Array&&d?d(Uint8Array):r,g={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f&&d?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&d?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&d?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&d?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&d?d(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(d)try{null.error}catch(t){var m=d(d(t));g["%Error.prototype%"]=m}var b=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&d&&(n=d(i.prototype))}return g[e]=n,n},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(3569),k=n(8416),S=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),A=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),x=v.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,O=function(t,e){var n,r=t;if(k(w,r)&&(r="%"+(n=w[r])[0]+"%"),k(g,r)){var o=g[r];if(o===p&&(o=b(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,I,(function(t,e,n,i){r[r.length]=n?A(i,R,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",o=O("%"+r+"%",e),a=o.name,u=o.value,l=!1,f=o.alias;f&&(r=f[0],_(n,S([0,1],f)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],y=E(p,0,1),m=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),k(g,a="%"+(r+="."+p)+"%"))u=g[a];else if(null!=u){if(!(p in u)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(c&&h+1>=n.length){var b=c(u,p);u=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:u[p]}else d=k(u,p),u=u[p];d&&!l&&(g[a]=u)}}return u}},658:(t,e,n)=>{"use strict";var r=n(2870)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},229:(t,e,n)=>{"use strict";var r=n(2870)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},3413:t=>{"use strict";var e={foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof n)}},1143:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(9985);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},9985:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},3060:(t,e,n)=>{"use strict";var r=n(9985);t.exports=function(){return r()&&!!Symbol.toStringTag}},8416:(t,e,n)=>{"use strict";var r=n(3569);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},551:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*y}},2937:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2571:(t,e,n)=>{"use strict";var r=n(3060)(),i=n(3099)("Object.prototype.toString"),o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},3655:t=>{"use strict";var e,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,e)}catch(t){t!==n&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(t){try{var e=r.call(t);return o.test(e)}catch(t){return!1}},a=function(t){try{return!s(t)&&(r.call(t),!0)}catch(t){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(f=function(t){if((l||!t)&&(void 0===t||"object"==typeof t))try{var e=c.call(t);return("[object HTMLAllCollection]"===e||"[object HTML document.all class]"===e||"[object HTMLCollection]"===e||"[object Object]"===e)&&null==t("")}catch(t){}return!1})}t.exports=i?function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;try{i(t,null,e)}catch(t){if(t!==n)return!1}return!s(t)&&a(t)}:function(t){if(f(t))return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(u)return a(t);if(s(t))return!1;var e=c.call(t);return!("[object Function]"!==e&&"[object GeneratorFunction]"!==e&&!/^\[object HTML/.test(e))&&a(t)}},9141:(t,e,n)=>{"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=n(3060)(),c=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(s.test(o.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(t);if(!c)return!1;if(void 0===r){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&c(e)}return c(t)===r}},2612:t=>{"use strict";t.exports=function(t){return t!=t}},5757:(t,e,n)=>{"use strict";var r=n(2755),i=n(73),o=n(2612),s=n(9774),a=n(6928),c=r(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},9774:(t,e,n)=>{"use strict";var r=n(2612);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},6928:(t,e,n)=>{"use strict";var r=n(73),i=n(9774);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5698:(t,e,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=o("Object.prototype.toString"),a=n(3060)(),c=n(658),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),f=o("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},h=o("String.prototype.slice"),d={},p=Object.getPrototypeOf;a&&c&&p&&r(l,(function(t){var e=new u[t];if(Symbol.toStringTag in e){var n=p(e),r=c(n,Symbol.toStringTag);if(!r){var i=p(n);r=c(i,Symbol.toStringTag)}d[t]=r.get}})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a||!(Symbol.toStringTag in t)){var e=h(s(t),8,-1);return f(l,e)>-1}return!!c&&function(t){var e=!1;return r(d,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},7167:(t,e,n)=>{"use strict";const r=n(5249).v4,i=n(391),o=function(t,e){if(!(this instanceof o))return new o(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return r()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=o,o.prototype.request=function(t,e,n,r){const o=this;let s=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)r=e,s=t;else{"function"==typeof n&&(r=n,n=void 0);const o="function"==typeof r;try{s=i(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(o)return r(t);throw t}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(t){return r(t)}return this.callServer(c,(function(t,e){o._parseResponse(t,e,r)})),s},o.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},391:(t,e,n)=>{"use strict";const r=n(5249).v4;t.exports=function(t,e,n,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const o="number"==typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(2===o&&(s.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(void 0===n){const t="function"==typeof i.generator?i.generator:function(){return r()};s.id=t(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},9489:(module,exports,__webpack_require__)=>{var process=__webpack_require__(4224),__WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(r=0;r<a;++r)(o=t.charCodeAt(r))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(r=0;r<64;++r){var f=t[r]||0;u[r]=92^f,l[r]=54^f}Sha256.call(this,e,n),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,s,a,c,u=this.h0,l=this.h1,f=this.h2,h=this.h3,d=this.h4,p=this.h5,y=this.h6,g=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+n<<0;for(c=l&f,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,g=(i=m[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,g=(i=m[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&l)^u&f^c,g=h+(i=g+(n=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&y)+K[t]+m[t])<<0,h=i+(e+r)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&u)^h&l^o,y=f+(i=y+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&d^~g&p)+K[t+1]+m[t+1])<<0,e=((f=i+(e+r)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(a=f&h)^f&u^s,p=l+(i=p+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&d)+K[t+2]+m[t+2])<<0,e=((l=i+(e+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(c=l&f)^l&h^a,d=u+(i=d+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&g)+K[t+3]+m[t+3])<<0,u=i+(e+r)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+f<<0,this.h3=this.h3+h<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+y<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},5628:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},2373:(t,e,n)=>{"use strict";var r=n(73),i=n(2755),o=n(5628),s=n(8075),a=n(9322),c=i(s(),Object);r(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},8075:(t,e,n)=>{"use strict";var r=n(5628);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},9322:(t,e,n)=>{"use strict";var r=n(8075),i=n(73);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},9121:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(999),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(a&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)h.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)h.push(String(g));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||h.push(String(m));if(c)for(var b=function(t){if("undefined"==typeof window||!d)return f(t);try{return f(t)}catch(t){return!1}}(t),w=0;w<l.length;++w)b&&"constructor"===l[w]||!i.call(t,l[w])||h.push(l[w]);return h}}t.exports=r},2051:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(999),o=Object.keys,s=o?function(t){return o(t)}:n(9121),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},999:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},4224:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},4319:(t,e,n)=>{"use strict";var r=n(4395);r(n(763)),r(n(6882)),r(n(9340)),r(n(6656)),r(n(7551)),r(n(7225));r(n(8445)).default},8445:(t,e,n)=>{"use strict";var r=n(5872).Buffer,i=n(4395);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(995)),s=i(n(9309)),a=i(n(2057)),c=i(n(6882)),u=i(n(763)),l=i(n(9340)),f=i(n(6656)),h=i(n(7551)),d=n(1312);var p=function(t){(0,l.default)(m,t);var e,n,i,d,p,y,g=(p=m,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,h.default)(p);if(y){var n=(0,h.default)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,f.default)(this,t)});function m(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,c.default)(this,m);var o=r.autoconnect,s=void 0===o||o,a=r.reconnect,u=void 0===a||a,l=r.reconnect_interval,f=void 0===l?1e3:l,h=r.max_reconnects,d=void 0===h?5:h,p=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(r,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=g.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=n,e.autoconnect=s,e.ready=!1,e.reconnect=u,e.reconnect_timer_id=void 0,e.reconnect_interval=f,e.max_reconnects=d,e.rest_options=p,e.current_reconnects=0,e.generate_request_id=i||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,u.default)(m,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,n,r){var i=this;return r||"object"!==(0,a.default)(n)||(r=n,n=null),new Promise((function(o,s){if(!i.ready)return s(new Error("socket not ready"));var a=i.generate_request_id(t,e),c={jsonrpc:"2.0",method:t,params:e||null,id:a};i.socket.send(JSON.stringify(c),r,(function(t){if(t)return s(t);i.queue[a]={promise:[o,s]},n&&(i.queue[a].timeout=setTimeout((function(){delete i.queue[a],s(new Error("reply timeout"))}),n))}))}))}},{key:"login",value:(d=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(n=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"listMethods",value:(i=(0,s.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"notify",value:function(t,e){var n=this;return new Promise((function(r,i){if(!n.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:t,params:e||null};n.socket.send(JSON.stringify(o),(function(t){if(t)return i(t);r()}))}))}},{key:"subscribe",value:(n=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(n=t.sent,"string"!=typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"unsubscribe",value:(e=(0,s.default)(o.default.mark((function t(e){var n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(n=t.sent,"string"!=typeof e||"ok"===n[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t,e){this.socket.close(t||1e3,e)}},{key:"_connect",value:function(t,e){var n=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(function(){n.ready=!0,n.emit("open"),n.current_reconnects=0})),this.socket.addEventListener("message",(function(t){var e=t.data;e instanceof ArrayBuffer&&(e=r.from(e).toString());try{e=JSON.parse(e)}catch(t){return}if(e.notification&&n.listeners(e.notification).length){if(!Object.keys(e.params).length)return n.emit(e.notification);var i=[e.notification];if(e.params.constructor===Object)i.push(e.params);else for(var o=0;o<e.params.length;o++)i.push(e.params[o]);return Promise.resolve().then((function(){n.emit.apply(n,i)}))}if(!n.queue[e.id])return e.method&&e.params?Promise.resolve().then((function(){n.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&n.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),n.queue[e.id].timeout&&clearTimeout(n.queue[e.id].timeout),e.error?n.queue[e.id].promise[1](e.error):n.queue[e.id].promise[0](e.result),delete n.queue[e.id]})),this.socket.addEventListener("error",(function(t){return n.emit("error",t)})),this.socket.addEventListener("close",(function(r){var i=r.code,o=r.reason;n.ready&&setTimeout((function(){return n.emit("close",i,o)}),0),n.ready=!1,n.socket=void 0,1e3!==i&&(n.current_reconnects++,n.reconnect&&(n.max_reconnects>n.current_reconnects||0===n.max_reconnects)&&(n.reconnect_timer_id=setTimeout((function(){return n._connect(t,e)}),n.reconnect_interval)))}))}}]),m}(d.EventEmitter);e.default=p},7225:(t,e,n)=>{"use strict";var r=n(4395);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return new u(t,e)};var i=r(n(6882)),o=r(n(763)),s=r(n(9340)),a=r(n(6656)),c=r(n(7551));var u=function(t){(0,s.default)(u,t);var e,n,r=(e=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,c.default)(e);if(n){var i=(0,c.default)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,a.default)(this,t)});function u(t,e,n){var o;return(0,i.default)(this,u),(o=r.call(this)).socket=new window.WebSocket(t,n),o.socket.onopen=function(){return o.emit("open")},o.socket.onmessage=function(t){return o.emit("message",t.data)},o.socket.onerror=function(t){return o.emit("error",t)},o.socket.onclose=function(t){o.emit("close",t.code,t.reason)},o}return(0,o.default)(u,[{key:"send",value:function(t,e,n){var r=n||e;try{this.socket.send(t),r()}catch(t){r(t)}}},{key:"close",value:function(t,e){this.socket.close(t,e)}},{key:"addEventListener",value:function(t,e,n){this.socket.addEventListener(t,e,n)}}]),u}(n(1312).EventEmitter)},1874:(t,e,n)=>{var r=n(5872),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},8752:(t,e)=>{"use strict";function n(t,e,n){return e<=t&&t<=n}function r(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function i(t){this.tokens=[].slice.call(t)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function s(t,e){if(t)throw TypeError("Decoder error");return e||65533}var a="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(t,e){if(!(this instanceof u))return new u(t,e);if((t=void 0!==t?String(t).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");e=r(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(t){var e=t.fatal,r=0,i=0,a=0,c=128,u=191;this.handler=function(t,l){if(-1===l&&0!==a)return a=0,s(e);if(-1===l)return o;if(0===a){if(n(l,0,127))return l;if(n(l,194,223))a=1,r=l-192;else if(n(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,r=l-224;else{if(!n(l,240,244))return s(e);240===l&&(c=144),244===l&&(u=143),a=3,r=l-240}return r<<=6*a,null}if(!n(l,c,u))return r=a=i=0,c=128,u=191,t.prepend(l),s(e);if(c=128,u=191,r+=l-128<<6*(a-(i+=1)),i!==a)return null;var f=r;return r=a=i=0,f}}function f(t){t.fatal,this.handler=function(t,e){if(-1===e)return o;if(n(e,0,127))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var s=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);s.push(128|63&a),r-=1}return s}}c.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=r(e),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var s,a=new i(n),c=[];!a.endOfStream()&&(s=this._decoder.handler(a,a.read()))!==o;)null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s));if(!this._streaming){do{if((s=this._decoder.handler(a,a.read()))===o)break;null!==s&&(Array.isArray(s)?c.push.apply(c,s):c.push(s))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(c)}},u.prototype={encode:function(t,e){t=t?String(t):"",e=r(e),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(e.stream);for(var n,s=[],a=new i(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(t));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?s.push.apply(s,n):s.push(n);this._encoder=null}return new Uint8Array(s)}},e.TextEncoder=u,e.TextDecoder=c},9613:function(t,e,n){"use strict";var r=n(5872).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.replacer=e.asDumpTransactionMessage=e.deserializeTransaction=void 0;var l=n(872),f=u(n(6082)),h=n(5629),d=n(1350),p=u(n(9098)),y=s(n(5415));function g(t,e){return a(this,void 0,void 0,(function(){var n,i,o,s,a,u,p,y;return c(this,(function(c){switch(c.label){case 0:n=void 0;try{p=k(t),i=l.Message.from(p),o=(0,d.parseTransactionAccounts)(i,void 0),u=i.instructions.map((function(t){return(0,d.compiledInstructionToInstruction)(t,o)})),n={txData:i,type:"legacy",instructions:u,cluster:e}}catch(t){console.log("Failed deserialize legacy transaction: "+t.message)}if(!n||!n.instructions.length)try{p=k(t),s=l.VersionedMessage.deserialize(p),a=(0,d.parseTransactionAccounts)(s,void 0),u=s.compiledInstructions.map((function(t){return(0,d.compiledInstructionToInstruction)(t,a)})),n={txData:s,type:"versioned",instructions:u,cluster:e}}catch(t){console.log("Failed deserialize versioned transaction: "+t.message)}if(!n||!n.instructions.length)try{p=(0,h.getInstructionDataFromBase64)(t),n={txData:p,type:"splgov",instructions:[(g=p,new l.TransactionInstruction({keys:g.accounts,programId:g.programId,data:r.from(g.data)}))],cluster:e}}catch(t){console.error(t),console.log("Failed deserialize spl gov transaction: "+t.message)}return n?[3,1]:[2,'<b style="color:red;">Failed to deserialize transaction data</b>'+"<p style='margin-left: 30px;'><code>".concat(t,"</code></p>")];case 1:return c.trys.push([1,3,,4]),[4,b(n)];case 2:return[2,c.sent()];case 3:return y=c.sent(),console.error(y),console.error(f.default.stringify(n.txData,v).trimEnd()),[2,m("Failed to print transaction data",y.message)];case 4:return[2]}var g}))}))}function m(t,e){var n='<b style="color:red;">'+t+"</b>";return e&&(n+="<p style='margin-left: 30px;'><code>".concat(e,"</code></p>")),n}function b(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return c(this,(function(c){switch(c.label){case 0:return console.log("Transaction type: "+t.type),[4,w(t)];case 1:for(e=c.sent(),n=e.legacy,r=e.version0,i="",i+='<h4>solana base64 dump-transaction-message for legacy inspector: <a href="https://anchor.so/tx/inspector?message='+encodeURIComponent(n)+'">anchor.so/tx/inspector</a></h4>',i+="<p><code>"+n+"</code></p>",i+='<h4>solana base64 dump-transaction-message for version0 inspector: <a href="https://explorer.solana.com/tx/inspector?message='+encodeURIComponent(r)+'">explorer.solana.com/tx/inspector</a></h4>',i+="<p><code>"+r+"</code></p>",i+="<h4>solana base64 dump-transaction-message for spl-gov:</h4>",o=0,s=t.instructions;o<s.length;o++)a=s[o],i+="<p><code>"+(0,h.serializeInstructionToBase64)(a)+"</code></p>";return i+="<h4>YAML output:</h4>",[2,i+="<p><pre><code>"+f.default.stringify(t.txData,v).trimEnd()+"</code></pre></p>"]}}))}))}function w(t){return a(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,f,h;return c(this,(function(c){switch(c.label){case 0:return[4,new l.Connection(t.cluster,"confirmed").getLatestBlockhash()];case 1:return e=c.sent(),n=t.instructions,i=l.PublicKey.unique(),o=(h=new l.Transaction({feePayer:i,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight})).add.apply(h,n),s=o.serializeMessage().toString("base64"),a=l.MessageV0.compile({payerKey:i,instructions:n,recentBlockhash:e.blockhash}),u=new l.VersionedTransaction(a),f=r.from(u.serialize()).toString("base64"),[2,{legacy:s,version0:f}]}}))}))}function v(t,e){if(e instanceof p.default)try{return e.toNumber()}catch(t){return e.toString()}return e instanceof l.Keypair&&(e=e.publicKey),e instanceof l.PublicKey?e.equals(l.PublicKey.default)?null:e.toBase58():"string"==typeof t&&t.startsWith("reserved")&&Array.isArray(e)?[e.length]:e instanceof r?e.toString("base64"):e instanceof Array&&Array.isArray(e)&&e.every((function(t){return"number"==typeof t}))?r.from(e).toString("base64"):e}function k(t){return r.from(y.toByteArray(t))}e.deserializeTransaction=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o;return c(this,(function(s){switch(s.label){case 0:return t=document.getElementById("messageInput"),e=t.value,n=document.getElementById("cluster"),r=n.value||"https://api.devnet.solana.com",console.log("cluster: "+r),[4,g(e,r)];case 1:return i=s.sent(),(o=document.getElementById("messageOutput"))?(o.innerHTML=i,[2]):[2,m("Internal error: 'messageOutput' element not found")]}}))}))},e.asDumpTransactionMessage=w,e.replacer=v},7952:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4911:(t,e,n)=>{"use strict";var r=n(2571),i=n(9141),o=n(8572),s=n(5698);function a(t){return t.call.bind(t)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function g(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===l(t)}function b(t){return"[object Set]"===l(t)}function w(t){return"[object WeakMap]"===l(t)}function v(t){return"[object WeakSet]"===l(t)}function k(t){return"[object ArrayBuffer]"===l(t)}function S(t){return"undefined"!=typeof ArrayBuffer&&(k.working?k(t):t instanceof ArrayBuffer)}function _(t){return"[object DataView]"===l(t)}function A(t){return"undefined"!=typeof DataView&&(_.working?_(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=s,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):s(t)||A(t)},e.isUint8Array=function(t){return"Uint8Array"===o(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===o(t)},e.isUint16Array=function(t){return"Uint16Array"===o(t)},e.isUint32Array=function(t){return"Uint32Array"===o(t)},e.isInt8Array=function(t){return"Int8Array"===o(t)},e.isInt16Array=function(t){return"Int16Array"===o(t)},e.isInt32Array=function(t){return"Int32Array"===o(t)},e.isFloat32Array=function(t){return"Float32Array"===o(t)},e.isFloat64Array=function(t){return"Float64Array"===o(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===o(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===o(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(b.working?b(t):t instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(w.working?w(t):t instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),e.isWeakSet=function(t){return v(t)},k.working="undefined"!=typeof ArrayBuffer&&k(new ArrayBuffer),e.isArrayBuffer=S,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=A;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(t){return"[object SharedArrayBuffer]"===l(t)}function I(t){return void 0!==E&&(void 0===x.working&&(x.working=x(new E)),x.working?x(t):t instanceof E)}function R(t){return g(t,f)}function O(t){return g(t,h)}function T(t){return g(t,d)}function P(t){return c&&g(t,p)}function B(t){return u&&g(t,y)}e.isSharedArrayBuffer=I,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===l(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===l(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===l(t)},e.isGeneratorObject=function(t){return"[object Generator]"===l(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===l(t)},e.isNumberObject=R,e.isStringObject=O,e.isBooleanObject=T,e.isBigIntObject=P,e.isSymbolObject=B,e.isBoxedPrimitive=function(t){return R(t)||O(t)||T(t)||P(t)||B(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(S(t)||I(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},3585:(t,e,n)=>{var r=n(4224),i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),a=r[n];n<i;a=r[++n])m(a)||!S(a)?s+=" "+a:s+=" "+u(a);return s},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var s={},a=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+c+"$","i")}function u(t,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,t,r.depth)}function l(t,e){var n=u.styles[e];return n?"["+u.colors[n][0]+"m"+t+"["+u.colors[n][1]+"m":t}function f(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return w(i)||(i=h(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),A(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(n);if(0===s.length){if(E(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(k(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(A(n))return d(n)}var u,l="",f=!1,S=["{","}"];return y(n)&&(f=!0,S=["[","]"]),E(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),k(n)&&(l=" "+RegExp.prototype.toString.call(n)),_(n)&&(l=" "+Date.prototype.toUTCString.call(n)),A(n)&&(l=" "+d(n)),0!==s.length||f&&0!=n.length?r<0?k(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=f?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)O(e,String(s))?o.push(p(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return p(t,n,r,a,e,f)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,l,S)):S[0]+l+S[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),O(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(n)?h(t,c.value,null):h(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").slice(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function y(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function b(t){return"number"==typeof t}function w(t){return"string"==typeof t}function v(t){return void 0===t}function k(t){return S(t)&&"[object RegExp]"===x(t)}function S(t){return"object"==typeof t&&null!==t}function _(t){return S(t)&&"[object Date]"===x(t)}function A(t){return S(t)&&("[object Error]"===x(t)||t instanceof Error)}function E(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(a.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(4911),e.isArray=y,e.isBoolean=g,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=b,e.isString=w,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=k,e.types.isRegExp=k,e.isObject=S,e.isDate=_,e.types.isDate=_,e.isError=A,e.types.isNativeError=A,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(7952);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":"),[t.getDate(),R[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(2937),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(T&&t[T]){var e;if("function"!=typeof(e=t[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),T&&Object.defineProperty(e,T,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=T,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,e).then((function(t){r.nextTick(s.bind(null,null,t))}),(function(t){r.nextTick(P.bind(null,t,s))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},5249:(t,e,n)=>{"use strict";var r;n.d(e,{v4:()=>l});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase();if(!function(t){return"string"==typeof t&&s.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},l=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return u(r)}},8572:(t,e,n)=>{"use strict";var r=n(2904),i=n(6668),o=n(3099),s=n(658),a=o("Object.prototype.toString"),c=n(3060)(),u="undefined"==typeof globalThis?n.g:globalThis,l=i(),f=o("String.prototype.slice"),h={},d=Object.getPrototypeOf;c&&s&&d&&r(l,(function(t){if("function"==typeof u[t]){var e=new u[t];if(Symbol.toStringTag in e){var n=d(e),r=s(n,Symbol.toStringTag);if(!r){var i=d(n);r=s(i,Symbol.toStringTag)}h[t]=r.get}}}));var p=n(5698);t.exports=function(t){return!!p(t)&&(c&&Symbol.toStringTag in t?function(t){var e=!1;return r(h,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(t){}})),e}(t):f(a(t),8,-1))}},5898:()=>{},4087:()=>{},9391:()=>{},9516:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},9309:t=>{function e(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,c,"next",t)}function c(t){e(s,i,o,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},6882:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},763:(t,e,n)=>{var r=n(8613);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},7551:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},9340:(t,e,n)=>{var r=n(5734);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},4395:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},6656:(t,e,n)=>{var r=n(2057).default,i=n(9516);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8724:(t,e,n)=>{var r=n(2057).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new R(r||[]);return s(o,"_invoke",{value:A(t,n,a)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p={};function y(){}function g(){}function m(){}var b={};f(b,c,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(O([])));v&&v!==n&&o.call(v,c)&&(b=v);var k=m.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,s,a,c){var u=d(t[i],t,s);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;s(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function A(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=E(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function O(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=m,s(k,"constructor",{value:m,configurable:!0}),s(m,"constructor",{value:g,configurable:!0}),g.displayName=f(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(_.prototype),f(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new _(h(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(k),f(k,l,"Generator"),f(k,c,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},5734:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5002:(t,e,n)=>{var r=n(2057).default;t.exports=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},8613:(t,e,n)=>{var r=n(2057).default,i=n(5002);t.exports=function(t){var e=i(t,"string");return"symbol"===r(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},2057:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},995:(t,e,n)=>{var r=n(8724)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},6668:(t,e,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?n.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof i[r[e]]&&(t[t.length]=r[e]);return t}},3438:(t,e,n)=>{"use strict";var r=n(5872).Buffer;function i(t,e){return function(){return t.apply(e,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(c=Object.create(null),t=>{const e=o.call(t);return c[e]||(c[e]=e.slice(8,-1).toLowerCase())});var c;const u=t=>(t=t.toLowerCase(),e=>a(e)===t),l=t=>e=>typeof e===t,{isArray:f}=Array,h=l("undefined"),d=u("ArrayBuffer"),p=l("string"),y=l("function"),g=l("number"),m=t=>null!==t&&"object"==typeof t,b=t=>{if("object"!==a(t))return!1;const e=s(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},w=u("Date"),v=u("File"),k=u("Blob"),S=u("FileList"),_=u("URLSearchParams");function A(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,i;if("object"!=typeof t&&(t=[t]),f(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(r=0;r<o;r++)s=i[r],e.call(null,t[s],s,t)}}function E(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,I=t=>!h(t)&&t!==x,R=(O="undefined"!=typeof Uint8Array&&s(Uint8Array),t=>O&&t instanceof O);var O;const T=u("HTMLFormElement"),P=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),B=u("RegExp"),C=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};A(n,((n,i)=>{!1!==e(n,i,t)&&(r[i]=n)})),Object.defineProperties(t,r)},M="abcdefghijklmnopqrstuvwxyz",N="0123456789",U={DIGIT:N,ALPHA:M,ALPHA_DIGIT:M+M.toUpperCase()+N},L=u("AsyncFunction");var j={isArray:f,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||y(t.append)&&("formdata"===(e=a(t))||"object"===e&&y(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:m,isPlainObject:b,isUndefined:h,isDate:w,isFile:v,isBlob:k,isRegExp:B,isFunction:y,isStream:t=>m(t)&&y(t.pipe),isURLSearchParams:_,isTypedArray:R,isFileList:S,forEach:A,merge:function t(){const{caseless:e}=I(this)&&this||{},n={},r=(r,i)=>{const o=e&&E(n,i)||i;b(n[o])&&b(r)?n[o]=t(n[o],r):b(r)?n[o]=t({},r):f(r)?n[o]=r.slice():n[o]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&A(arguments[t],r);return n},extend:(t,e,n,{allOwnKeys:r}={})=>(A(e,((e,r)=>{n&&y(e)?t[r]=i(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,o,a;const c={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],r&&!r(a,t,e)||c[a]||(e[a]=t[a],c[a]=!0);t=!1!==n&&s(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:u,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(f(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:T,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:C,freezeMethods:t=>{C(t,((e,n)=>{if(y(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];y(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return f(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:E,global:x,isContextDefined:I,ALPHABET:U,generateString:(t=16,e=U.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&y(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(m(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=f(t)?[]:{};return A(t,((t,e)=>{const o=n(t,r+1);!h(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:L,isThenable:t=>t&&(m(t)||y(t))&&y(t.then)&&y(t.catch)};function V(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}j.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const z=V.prototype,W={};function D(t){return j.isPlainObject(t)||j.isArray(t)}function G(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function F(t,e,n){return t?t.concat(e).map((function(t,e){return t=G(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{W[t]={value:t}})),Object.defineProperties(V,W),Object.defineProperty(z,"isAxiosError",{value:!0}),V.from=(t,e,n,r,i,o)=>{const s=Object.create(z);return j.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),V.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const q=j.toFlatObject(j,{},null,(function(t){return/^is[A-Z]/.test(t)}));function K(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!j.isUndefined(e[t])}))).metaTokens,o=n.visitor||l,s=n.dots,a=n.indexes,c=(n.Blob||"undefined"!=typeof Blob&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(o))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(j.isDate(t))return t.toISOString();if(!c&&j.isBlob(t))throw new V("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(t)||j.isTypedArray(t)?c&&"function"==typeof Blob?new Blob([t]):r.from(t):t}function l(t,n,r){let o=t;if(t&&!r&&"object"==typeof t)if(j.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(j.isArray(t)&&function(t){return j.isArray(t)&&!t.some(D)}(t)||(j.isFileList(t)||j.endsWith(n,"[]"))&&(o=j.toArray(t)))return n=G(n),o.forEach((function(t,r){!j.isUndefined(t)&&null!==t&&e.append(!0===a?F([n],r,s):null===a?n:n+"[]",u(t))})),!1;return!!D(t)||(e.append(F(r,n,s),u(t)),!1)}const f=[],h=Object.assign(q,{defaultVisitor:l,convertValue:u,isVisitable:D});if(!j.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!j.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),j.forEach(n,(function(n,i){!0===(!(j.isUndefined(n)||null===n)&&o.call(e,n,j.isString(i)?i.trim():i,r,h))&&t(n,r?r.concat(i):[i])})),f.pop()}}(t),e}function $(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function H(t,e){this._pairs=[],t&&K(t,this,e)}const Z=H.prototype;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(t,e,n){if(!e)return t;const r=n&&n.encode||J,i=n&&n.serialize;let o;if(o=i?i(e,n):j.isURLSearchParams(e)?e.toString():new H(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}Z.append=function(t,e){this._pairs.push([t,e])},Z.toString=function(t){const e=t?function(e){return t.call(this,e,$)}:$;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Y=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Q={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:H,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function et(t){function e(t,n,r,i){let o=t[i++];const s=Number.isFinite(+o),a=i>=t.length;return o=!o&&j.isArray(r)?r.length:o,a?(j.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s):(r[o]&&j.isObject(r[o])||(r[o]=[]),e(t,n,r[o],i)&&j.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!s)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,((t,r)=>{e(function(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null}const nt={"Content-Type":void 0},rt={transitional:Q,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=j.isObject(t);if(i&&j.isHTMLForm(t)&&(t=new FormData(t)),j.isFormData(t))return r&&r?JSON.stringify(et(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K(t,new tt.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return tt.isNode&&j.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=j.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(j.isString(t))try{return(0,JSON.parse)(t),j.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||rt.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&j.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw V.from(t,V.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};j.forEach(["delete","get","head"],(function(t){rt.headers[t]={}})),j.forEach(["post","put","patch"],(function(t){rt.headers[t]=j.merge(nt)}));var it=rt;const ot=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),st=Symbol("internals");function at(t){return t&&String(t).trim().toLowerCase()}function ct(t){return!1===t||null==t?t:j.isArray(t)?t.map(ct):String(t)}function ut(t,e,n,r,i){return j.isFunction(r)?r.call(this,e,n):(i&&(e=n),j.isString(e)?j.isString(r)?-1!==e.indexOf(r):j.isRegExp(r)?r.test(e):void 0:void 0)}class lt{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=at(e);if(!i)throw new Error("header name must be a non-empty string");const o=j.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=ct(t))}const o=(t,e)=>j.forEach(t,((t,n)=>i(t,n,e)));return j.isPlainObject(t)||t instanceof this.constructor?o(t,e):j.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&ot[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&i(e,t,n),this}get(t,e){if(t=at(t)){const n=j.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(j.isFunction(e))return e.call(this,t,n);if(j.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=at(t)){const n=j.findKey(this,t);return!(!n||void 0===this[n]||e&&!ut(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=at(t)){const i=j.findKey(n,t);!i||e&&!ut(0,n[i],i,e)||(delete n[i],r=!0)}}return j.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!ut(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return j.forEach(this,((r,i)=>{const o=j.findKey(n,i);if(o)return e[o]=ct(r),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete e[i],e[s]=ct(r),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return j.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&j.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[st]=this[st]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=at(t);e[r]||(function(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return j.isArray(t)?t.forEach(r):r(t),this}}lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),j.freezeMethods(lt.prototype),j.freezeMethods(lt);var ft=lt;function ht(t,e){const n=this||it,r=e||n,i=ft.from(r.headers);let o=r.data;return j.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function dt(t){return!(!t||!t.__CANCEL__)}function pt(t,e,n){V.call(this,null==t?"canceled":t,V.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(pt,V,{__CANCEL__:!0});var yt=tt.isStandardBrowserEnv?{write:function(t,e,n,r,i,o){const s=[];s.push(t+"="+encodeURIComponent(e)),j.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),j.isString(r)&&s.push("path="+r),j.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function gt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var mt=tt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=j.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function bt(t,e){let n=0;const r=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),u=r[s];i||(i=c),n[o]=a,r[o]=c;let l=s,f=0;for(;l!==o;)f+=n[l++],l%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const h=u&&c-u;return h?Math.round(1e3*f/h):void 0}}(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,c=r(a);n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const wt={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let r=t.data;const i=ft.from(t.headers).normalize(),o=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}j.isFormData(r)&&(tt.isStandardBrowserEnv||tt.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(e+":"+n))}const u=gt(t.baseURL,t.url);function l(){if(!c)return;const r=ft.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new V("Request failed with status code "+n.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),a()}),(function(t){n(t),a()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:t,request:c}),c=null}if(c.open(t.method.toUpperCase(),X(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n(new V("Request aborted",V.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new V("Network Error",V.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||Q;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new V(e,r.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,c)),c=null},tt.isStandardBrowserEnv){const e=(t.withCredentials||mt(u))&&t.xsrfCookieName&&yt.read(t.xsrfCookieName);e&&i.set(t.xsrfHeaderName,e)}void 0===r&&i.setContentType(null),"setRequestHeader"in c&&j.forEach(i.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),j.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&"json"!==o&&(c.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&c.addEventListener("progress",bt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",bt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{c&&(n(!e||e.type?new pt(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const f=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(u);f&&-1===tt.protocols.indexOf(f)?n(new V("Unsupported protocol "+f+":",V.ERR_BAD_REQUEST,t)):c.send(r||null)}))}};j.forEach(wt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));function vt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pt(null,t)}function kt(t){return vt(t),t.headers=ft.from(t.headers),t.data=ht.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),(t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=j.isString(n)?wt[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new V(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(j.hasOwnProp(wt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!j.isFunction(r))throw new TypeError("adapter is not a function");return r})(t.adapter||it.adapter)(t).then((function(e){return vt(t),e.data=ht.call(t,t.transformResponse,e),e.headers=ft.from(e.headers),e}),(function(e){return dt(e)||(vt(t),e&&e.response&&(e.response.data=ht.call(t,t.transformResponse,e.response),e.response.headers=ft.from(e.response.headers))),Promise.reject(e)}))}const St=t=>t instanceof ft?t.toJSON():t;function _t(t,e){e=e||{};const n={};function r(t,e,n){return j.isPlainObject(t)&&j.isPlainObject(e)?j.merge.call({caseless:n},t,e):j.isPlainObject(e)?j.merge({},e):j.isArray(e)?e.slice():e}function i(t,e,n){return j.isUndefined(e)?j.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!j.isUndefined(e))return r(void 0,e)}function s(t,e){return j.isUndefined(e)?j.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function a(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>i(St(t),St(e),!0)};return j.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=c[r]||i,s=o(t[r],e[r],r);j.isUndefined(s)&&o!==a||(n[r]=s)})),n}const At={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{At[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Et={};At.transitional=function(t,e,n){function r(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new V(r(i," has been removed"+(e?" in "+e:"")),V.ERR_DEPRECATED);return e&&!Et[i]&&(Et[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var xt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new V("option "+o+" must be "+n,V.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new V("Unknown option "+o,V.ERR_BAD_OPTION)}},validators:At};const It=xt.validators;class Rt{constructor(t){this.defaults=t,this.interceptors={request:new Y,response:new Y}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=_t(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;let o;void 0!==n&&xt.assertOptions(n,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),null!=r&&(j.isFunction(r)?e.paramsSerializer={serialize:r}:xt.assertOptions(r,{encode:It.function,serialize:It.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),o=i&&j.merge(i.common,i[e.method]),o&&j.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=ft.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let l,f=0;if(!a){const t=[kt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),l=t.length,u=Promise.resolve(e);f<l;)u=u.then(t[f++],t[f++]);return u}l=s.length;let h=e;for(f=0;f<l;){const t=s[f++],e=s[f++];try{h=t(h)}catch(t){e.call(this,t);break}}try{u=kt.call(this,h)}catch(t){return Promise.reject(t)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}getUri(t){return X(gt((t=_t(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}j.forEach(["delete","get","head","options"],(function(t){Rt.prototype[t]=function(e,n){return this.request(_t(n||{},{method:t,url:e,data:(n||{}).data}))}})),j.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(_t(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Rt.prototype[t]=e(),Rt.prototype[t+"Form"]=e(!0)}));var Ot=Rt;class Tt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new pt(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Tt((function(e){t=e})),cancel:t}}}var Pt=Tt;const Bt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bt).forEach((([t,e])=>{Bt[e]=t}));var Ct=Bt;const Mt=function t(e){const n=new Ot(e),r=i(Ot.prototype.request,n);return j.extend(r,Ot.prototype,n,{allOwnKeys:!0}),j.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(_t(e,n))},r}(it);Mt.Axios=Ot,Mt.CanceledError=pt,Mt.CancelToken=Pt,Mt.isCancel=dt,Mt.VERSION="1.4.0",Mt.toFormData=K,Mt.AxiosError=V,Mt.Cancel=Mt.CanceledError,Mt.all=function(t){return Promise.all(t)},Mt.spread=function(t){return function(e){return t.apply(null,e)}},Mt.isAxiosError=function(t){return j.isObject(t)&&!0===t.isAxiosError},Mt.mergeConfig=_t,Mt.AxiosHeaders=ft,Mt.formToJSON=t=>et(j.isHTMLForm(t)?new FormData(t):t),Mt.HttpStatusCode=Ct,Mt.default=Mt,t.exports=Mt},636:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function r(t){return"object"==typeof t&&null!=t}function i(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function o(t){return"string"==typeof t?JSON.stringify(t):""+t}function s(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:a}=n,{refinement:c,message:u="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+o(r)+"`"}=t;return{value:r,type:a,refinement:c,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*a(t,e,n,i){var o;r(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const r of t){const t=s(r,e,n,i);t&&(yield t)}}function*c(t,e,n){void 0===n&&(n={});const{path:i=[],branch:o=[t],coerce:s=!1,mask:a=!1}=n,u={path:i,branch:o};if(s&&(t=e.coercer(t,u),a&&"type"!==e.type&&r(e.schema)&&r(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let l=!0;for(const n of e.validator(t,u))l=!1,yield[n,void 0];for(let[n,f,h]of e.entries(t,u)){const e=c(f,h,{path:void 0===n?i:[...i,n],branch:void 0===n?o:[...o,f],coerce:s,mask:a});for(const i of e)i[0]?(l=!1,yield[i[0],void 0]):s&&(f=i[1],void 0===n?t=f:t instanceof Map?t.set(n,f):t instanceof Set?t.add(f):r(t)&&(t[n]=f))}if(l)for(const n of e.refiner(t,u))l=!1,yield[n,void 0];l&&(yield[void 0,t])}class u{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>a(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>a(i(t,e),e,this,t):()=>[]}assert(t){return l(t,this)}create(t){return f(t,this)}is(t){return d(t,this)}mask(t){return h(t,this)}validate(t,e){return void 0===e&&(e={}),p(t,this,e)}}function l(t,e){const n=p(t,e);if(n[0])throw n[0]}function f(t,e){const n=p(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function h(t,e){const n=p(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function d(t,e){return!p(t,e)[0]}function p(t,e,r){void 0===r&&(r={});const i=c(t,e,r),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(i);return o[0]?[new n(o[0],(function*(){for(const t of i)t[0]&&(yield t[0])})),void 0]:[void 0,o[1]]}function y(t,e){return new u({type:t,schema:null,validator:e})}function g(){return y("never",(()=>!1))}function m(t){const e=t?Object.keys(t):[],n=g();return new u({type:"object",schema:t||null,*entries(i){if(t&&r(i)){const r=new Set(Object.keys(i));for(const n of e)r.delete(n),yield[n,i[n],t[n]];for(const t of r)yield[t,i[t],n]}},validator:t=>r(t)||"Expected an object, but received: "+o(t),coercer:t=>r(t)?{...t}:t})}function b(t){return new u({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function w(){return y("string",(t=>"string"==typeof t||"Expected a string, but received: "+o(t)))}function v(t){const e=Object.keys(t);return new u({type:"type",schema:t,*entries(n){if(r(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>r(t)||"Expected an object, but received: "+o(t)})}function k(){return y("unknown",(()=>!0))}function S(t,e,n){return new u({...t,coercer:(r,i)=>d(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function _(t){return t instanceof Map||t instanceof Set?t.size:t.length}function A(t,e,n){return new u({...t,*refiner(r,i){yield*t.refiner(r,i);const o=a(n(r,i),i,t,r);for(const t of o)yield{...t,refinement:e}}})}e.Struct=u,e.StructError=n,e.any=function(){return y("any",(()=>!0))},e.array=function(t){return new u({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+o(t)})},e.assert=l,e.assign=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r="type"===e[0].type,i=e.map((t=>t.schema)),o=Object.assign({},...i);return r?v(o):m(o)},e.bigint=function(){return y("bigint",(t=>"bigint"==typeof t))},e.boolean=function(){return y("boolean",(t=>"boolean"==typeof t))},e.coerce=S,e.create=f,e.date=function(){return y("date",(t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+o(t)))},e.defaulted=function(t,e,n){return void 0===n&&(n={}),S(t,k(),(t=>{const r="function"==typeof e?e():e;if(void 0===t)return r;if(!n.strict&&i(t)&&i(r)){const e={...t};let n=!1;for(const t in r)void 0===e[t]&&(e[t]=r[t],n=!0);if(n)return e}return t}))},e.define=y,e.deprecated=function(t,e){return new u({...t,refiner:(e,n)=>void 0===e||t.refiner(e,n),validator:(n,r)=>void 0===n||(e(n,r),t.validator(n,r))})},e.dynamic=function(t){return new u({type:"dynamic",schema:null,*entries(e,n){const r=t(e,n);yield*r.entries(e,n)},validator:(e,n)=>t(e,n).validator(e,n),coercer:(e,n)=>t(e,n).coercer(e,n),refiner:(e,n)=>t(e,n).refiner(e,n)})},e.empty=function(t){return A(t,"empty",(e=>{const n=_(e);return 0===n||"Expected an empty "+t.type+" but received one with a size of `"+n+"`"}))},e.enums=function(t){const e={},n=t.map((t=>o(t))).join();for(const n of t)e[n]=n;return new u({type:"enums",schema:e,validator:e=>t.includes(e)||"Expected one of `"+n+"`, but received: "+o(e)})},e.func=function(){return y("func",(t=>"function"==typeof t||"Expected a function, but received: "+o(t)))},e.instance=function(t){return y("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+o(e)))},e.integer=function(){return y("integer",(t=>"number"==typeof t&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+o(t)))},e.intersection=function(t){return new u({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})},e.is=d,e.lazy=function(t){let e;return new u({type:"lazy",schema:null,*entries(n,r){null!=e||(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(null!=e||(e=t()),e.validator(n,r)),coercer:(n,r)=>(null!=e||(e=t()),e.coercer(n,r)),refiner:(n,r)=>(null!=e||(e=t()),e.refiner(n,r))})},e.literal=function(t){const e=o(t),n=typeof t;return new u({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+o(n)})},e.map=function(t,e){return new u({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer:t=>t instanceof Map?new Map(t):t,validator:t=>t instanceof Map||"Expected a `Map` object, but received: "+o(t)})},e.mask=h,e.max=function(t,e,n){void 0===n&&(n={});const{exclusive:r}=n;return A(t,"max",(n=>r?n<e:n<=e||"Expected a "+t.type+" less than "+(r?"":"or equal to ")+e+" but received `"+n+"`"))},e.min=function(t,e,n){void 0===n&&(n={});const{exclusive:r}=n;return A(t,"min",(n=>r?n>e:n>=e||"Expected a "+t.type+" greater than "+(r?"":"or equal to ")+e+" but received `"+n+"`"))},e.never=g,e.nonempty=function(t){return A(t,"nonempty",(e=>_(e)>0||"Expected a nonempty "+t.type+" but received an empty one"))},e.nullable=function(t){return new u({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})},e.number=function(){return y("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+o(t)))},e.object=m,e.omit=function(t,e){const{schema:n}=t,r={...n};for(const t of e)delete r[t];return"type"===t.type?v(r):m(r)},e.optional=b,e.partial=function(t){const e=t instanceof u?{...t.schema}:{...t};for(const t in e)e[t]=b(e[t]);return m(e)},e.pattern=function(t,e){return A(t,"pattern",(n=>e.test(n)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+n+'"'))},e.pick=function(t,e){const{schema:n}=t,r={};for(const t of e)r[t]=n[t];return m(r)},e.record=function(t,e){return new u({type:"record",schema:null,*entries(n){if(r(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>r(t)||"Expected an object, but received: "+o(t)})},e.refine=A,e.regexp=function(){return y("regexp",(t=>t instanceof RegExp))},e.set=function(t){return new u({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer:t=>t instanceof Set?new Set(t):t,validator:t=>t instanceof Set||"Expected a `Set` object, but received: "+o(t)})},e.size=function(t,e,n){void 0===n&&(n=e);const r="Expected a "+t.type,i=e===n?"of `"+e+"`":"between `"+e+"` and `"+n+"`";return A(t,"size",(t=>{if("number"==typeof t||t instanceof Date)return e<=t&&t<=n||r+" "+i+" but received `"+t+"`";if(t instanceof Map||t instanceof Set){const{size:o}=t;return e<=o&&o<=n||r+" with a size "+i+" but received one with a size of `"+o+"`"}{const{length:o}=t;return e<=o&&o<=n||r+" with a length "+i+" but received one with a length of `"+o+"`"}}))},e.string=w,e.struct=function(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),y(t,e)},e.trimmed=function(t){return S(t,w(),(t=>t.trim()))},e.tuple=function(t){const e=g();return new u({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+o(t)})},e.type=v,e.union=function(t){const e=t.map((t=>t.type)).join(" | ");return new u({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||k()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=c(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+o(n),...i]}})},e.unknown=k,e.validate=p},5819:(t,e,n)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}n.d(e,{ZP:()=>o});const o={number:r,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:i,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){i(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}}},3661:(t,e,n)=>{"use strict";n.d(e,{N:()=>o});var r=n(5819),i=n(6611);class o extends i.kb{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.GL)(this.buffer)}update(t){r.ZP.exists(this);const{view:e,buffer:n,blockLen:o}=this,s=(t=(0,i.O0)(t)).length;for(let r=0;r<s;){const a=Math.min(o-this.pos,s-r);if(a!==o)n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(e,0),this.pos=0);else{const e=(0,i.GL)(t);for(;o<=s-r;r+=o)this.process(e,r)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.ZP.exists(this),r.ZP.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.GL)(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)c.setUint32(4*t,f[t],s)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}},8319:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>s});const r=BigInt(2**32-1),i=BigInt(32);function o(t,e=!1){return e?{h:Number(t&r),l:Number(t>>i&r)}:{h:0|Number(t>>i&r),l:0|Number(t&r)}}const s={fromBig:o,split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=o(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]},toBig:(t,e)=>BigInt(t>>>0)<<i|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,n)=>t<<n|e>>>32-n,rotlSL:(t,e,n)=>e<<n|t>>>32-n,rotlBH:(t,e,n)=>e<<n-32|t>>>64-n,rotlBL:(t,e,n)=>t<<n-32|e>>>64-n,add:function(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,add5H:(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)}},7276:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(5819),i=n(6611);class o extends i.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.ZP.hash(t);const n=(0,i.O0)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.ZP.exists(this),this.iHash.update(t),this}digestInto(t){r.ZP.exists(this),r.ZP.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s=(t,e,n)=>new o(t,e).update(n).digest();s.create=(t,e)=>new o(t,e)},3274:(t,e,n)=>{"use strict";n.d(e,{J:()=>f});var r=n(3661),i=n(6611);const o=(t,e,n)=>t&e^t&n^e&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends r.N{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=c[t-15],n=c[t-2],r=(0,i.np)(e,7)^(0,i.np)(e,18)^e>>>3,o=(0,i.np)(n,17)^(0,i.np)(n,19)^n>>>10;c[t]=o+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:a,D:u,E:l,F:f,G:h,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,i.np)(l,6)^(0,i.np)(l,11)^(0,i.np)(l,25))+((p=l)&f^~p&h)+s[t]+c[t]|0,y=((0,i.np)(n,2)^(0,i.np)(n,13)^(0,i.np)(n,22))+o(n,r,a)|0;d=h,h=f,f=l,l=u+e|0,u=a,a=r,r=n,n=e+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,f=f+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(n,r,a,u,l,f,h,d)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const f=(0,i.hE)((()=>new u));(0,i.hE)((()=>new l))},2196:(t,e,n)=>{"use strict";n.d(e,{fr:()=>k});var r=n(5819),i=n(8319),o=n(6611);const[s,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),f=BigInt(2),h=BigInt(7),d=BigInt(256),p=BigInt(113);for(let t=0,e=l,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],s.push(2*(5*r+n)),a.push((t+1)*(t+2)/2%64);let i=u;for(let t=0;t<7;t++)e=(e<<l^(e>>h)*p)%d,e&f&&(i^=l<<(l<<BigInt(t))-l);c.push(i)}const[y,g]=i.ZP.split(c,!0),m=(t,e,n)=>n>32?i.ZP.rotlBH(t,e,n):i.ZP.rotlSH(t,e,n),b=(t,e,n)=>n>32?i.ZP.rotlBL(t,e,n):i.ZP.rotlSL(t,e,n);class w extends o.kb{constructor(t,e,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,r.ZP.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.Jq)(this.state)}keccak(){!function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let e=0;e<10;e++)n[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const r=(e+8)%10,i=(e+2)%10,o=n[i],s=n[i+1],a=m(o,s,1)^n[r],c=b(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)t[e+n]^=a,t[e+n+1]^=c}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=a[n],o=m(e,i,r),c=b(e,i,r),u=s[n];e=t[u],i=t[u+1],t[u]=o,t[u+1]=c}for(let e=0;e<50;e+=10){for(let r=0;r<10;r++)n[r]=t[e+r];for(let r=0;r<10;r++)t[e+r]^=~n[(r+2)%10]&n[(r+4)%10]}t[0]^=y[r],t[1]^=g[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){r.ZP.exists(this);const{blockLen:e,state:n}=this,i=(t=(0,o.O0)(t)).length;for(let r=0;r<i;){const o=Math.min(e-this.pos,i-r);for(let e=0;e<o;e++)n[this.pos++]^=t[r++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,0!=(128&e)&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){r.ZP.exists(this,!1),r.ZP.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return r.ZP.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(r.ZP.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return t||(t=new w(e,n,r,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t}}const v=(t,e,n)=>(0,o.hE)((()=>new w(e,t,n))),k=(v(6,144,28),v(6,136,32),v(6,104,48),v(6,72,64),v(1,144,28),v(1,136,32)),S=(v(1,104,48),v(1,72,64),(t,e,n)=>(0,o.K$)(((r={})=>new w(e,t,void 0===r.dkLen?n:r.dkLen,!0))));S(31,168,16),S(31,136,32)},3140:(t,e,n)=>{"use strict";n.d(e,{o:()=>p});var r=n(3661),i=n(8319),o=n(6611);const[s,a]=i.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),c=new Uint32Array(80),u=new Uint32Array(80);class l extends r.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:f,Gh:h,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,r,i,o,s,a,c,u,l,f,h,d,p,y]}set(t,e,n,r,i,o,s,a,c,u,l,f,h,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|f,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e),u[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|c[t-15],n=0|u[t-15],r=i.ZP.rotrSH(e,n,1)^i.ZP.rotrSH(e,n,8)^i.ZP.shrSH(e,n,7),o=i.ZP.rotrSL(e,n,1)^i.ZP.rotrSL(e,n,8)^i.ZP.shrSL(e,n,7),s=0|c[t-2],a=0|u[t-2],l=i.ZP.rotrSH(s,a,19)^i.ZP.rotrBH(s,a,61)^i.ZP.shrSH(s,a,6),f=i.ZP.rotrSL(s,a,19)^i.ZP.rotrBL(s,a,61)^i.ZP.shrSL(s,a,6),h=i.ZP.add4L(o,f,u[t-7],u[t-16]),d=i.ZP.add4H(h,r,l,c[t-7],c[t-16]);c[t]=0|d,u[t]=0|h}let{Ah:n,Al:r,Bh:o,Bl:l,Ch:f,Cl:h,Dh:d,Dl:p,Eh:y,El:g,Fh:m,Fl:b,Gh:w,Gl:v,Hh:k,Hl:S}=this;for(let t=0;t<80;t++){const e=i.ZP.rotrSH(y,g,14)^i.ZP.rotrSH(y,g,18)^i.ZP.rotrBH(y,g,41),_=i.ZP.rotrSL(y,g,14)^i.ZP.rotrSL(y,g,18)^i.ZP.rotrBL(y,g,41),A=y&m^~y&w,E=g&b^~g&v,x=i.ZP.add5L(S,_,E,a[t],u[t]),I=i.ZP.add5H(x,k,e,A,s[t],c[t]),R=0|x,O=i.ZP.rotrSH(n,r,28)^i.ZP.rotrBH(n,r,34)^i.ZP.rotrBH(n,r,39),T=i.ZP.rotrSL(n,r,28)^i.ZP.rotrBL(n,r,34)^i.ZP.rotrBL(n,r,39),P=n&o^n&f^o&f,B=r&l^r&h^l&h;k=0|w,S=0|v,w=0|m,v=0|b,m=0|y,b=0|g,({h:y,l:g}=i.ZP.add(0|d,0|p,0|I,0|R)),d=0|f,p=0|h,f=0|o,h=0|l,o=0|n,l=0|r;const C=i.ZP.add3L(R,T,B);n=i.ZP.add3H(C,I,O,P),r=0|C}({h:n,l:r}=i.ZP.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l}=i.ZP.add(0|this.Bh,0|this.Bl,0|o,0|l)),({h:f,l:h}=i.ZP.add(0|this.Ch,0|this.Cl,0|f,0|h)),({h:d,l:p}=i.ZP.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:g}=i.ZP.add(0|this.Eh,0|this.El,0|y,0|g)),({h:m,l:b}=i.ZP.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:w,l:v}=i.ZP.add(0|this.Gh,0|this.Gl,0|w,0|v)),({h:k,l:S}=i.ZP.add(0|this.Hh,0|this.Hl,0|k,0|S)),this.set(n,r,o,l,f,h,d,p,y,g,m,b,w,v,k,S)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class f extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const p=(0,o.hE)((()=>new l));(0,o.hE)((()=>new f)),(0,o.hE)((()=>new h)),(0,o.hE)((()=>new d))},6611:(t,e,n)=>{"use strict";n.d(e,{kb:()=>l,eV:()=>u,GL:()=>o,O6:()=>d,np:()=>s,O0:()=>c,Jq:()=>i,iY:()=>a,hE:()=>f,K$:()=>h});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,i=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),s=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function a(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function c(t){if("string"==typeof t&&(t=a(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function u(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);for(let e=0,r=0;e<t.length;e++){const i=t[e];n.set(i,r),r+=i.length}return n}Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));class l{clone(){return this._cloneInto()}}function f(t){const e=e=>t().update(c(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function h(t){const e=(e,n)=>t(n).update(c(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e}function d(t=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}},2856:(t,e,n)=>{"use strict";n.d(e,{AG:()=>v,G0:()=>I,IM:()=>_,IX:()=>g,O7:()=>m,Rx:()=>k,Ue:()=>f,Yj:()=>y,Z_:()=>A,_4:()=>R,bc:()=>E,dt:()=>x,eE:()=>b,hu:()=>l,i0:()=>w,jt:()=>S,oQ:()=>O});class r extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:o}=t;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function i(t){return"object"==typeof t&&null!=t}function o(t){return"string"==typeof t?JSON.stringify(t):""+t}function s(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:a}=n,{refinement:c,message:u="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+o(r)+"`"}=t;return{value:r,type:a,refinement:c,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*a(t,e,n,r){var o;i(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const i of t){const t=s(i,e,n,r);t&&(yield t)}}function*c(t,e,n={}){const{path:r=[],branch:o=[t],coerce:s=!1,mask:a=!1}=n,u={path:r,branch:o};if(s&&(t=e.coercer(t,u),a&&"type"!==e.type&&i(e.schema)&&i(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let l=!0;for(const n of e.validator(t,u))l=!1,yield[n,void 0];for(let[n,f,h]of e.entries(t,u)){const e=c(f,h,{path:void 0===n?r:[...r,n],branch:void 0===n?o:[...o,f],coerce:s,mask:a});for(const r of e)r[0]?(l=!1,yield[r[0],void 0]):s&&(f=r[1],void 0===n?t=f:t instanceof Map?t.set(n,f):t instanceof Set?t.add(f):i(t)&&(t[n]=f))}if(l)for(const n of e.refiner(t,u))l=!1,yield[n,void 0];l&&(yield[void 0,t])}class u{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(t,e)=>a(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>a(i(t,e),e,this,t):()=>[]}assert(t){return l(t,this)}create(t){return f(t,this)}is(t){return h(t,this)}mask(t){return function(t,e){const n=d(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e={}){return d(t,this,e)}}function l(t,e){const n=d(t,e);if(n[0])throw n[0]}function f(t,e){const n=d(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function h(t,e){return!d(t,e)[0]}function d(t,e,n={}){const i=c(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(i);return o[0]?[new r(o[0],(function*(){for(const t of i)t[0]&&(yield t[0])})),void 0]:[void 0,o[1]]}function p(t,e){return new u({type:t,schema:null,validator:e})}function y(){return p("any",(()=>!0))}function g(t){return new u({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+o(t)})}function m(){return p("boolean",(t=>"boolean"==typeof t))}function b(t){return p("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+o(e)))}function w(t){const e=o(t),n=typeof t;return new u({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+o(n)})}function v(t){return new u({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function k(){return p("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+o(t)))}function S(t){return new u({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function _(t,e){return new u({type:"record",schema:null,*entries(n){if(i(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>i(t)||"Expected an object, but received: "+o(t)})}function A(){return p("string",(t=>"string"==typeof t||"Expected a string, but received: "+o(t)))}function E(t){const e=p("never",(()=>!1));return new u({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+o(t)})}function x(t){const e=Object.keys(t);return new u({type:"type",schema:t,*entries(n){if(i(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>i(t)||"Expected an object, but received: "+o(t)})}function I(t){const e=t.map((t=>t.type)).join(" | ");return new u({type:"union",schema:null,validator(n,r){const i=[];for(const e of t){const[...t]=c(n,e,r),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+o(n),...i]}})}function R(){return p("unknown",(()=>!0))}function O(t,e,n){return new u({...t,coercer:(r,i)=>h(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}},6082:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Alias:()=>L,CST:()=>r,Composer:()=>Ye,Document:()=>Ee,Lexer:()=>In,LineCounter:()=>Rn,Pair:()=>gt,Parser:()=>Nn,Scalar:()=>W,Schema:()=>_e,YAMLError:()=>Ie,YAMLMap:()=>St,YAMLParseError:()=>Re,YAMLSeq:()=>At,YAMLWarning:()=>Oe,default:()=>Wn,isAlias:()=>h,isCollection:()=>b,isDocument:()=>d,isMap:()=>p,isNode:()=>w,isPair:()=>y,isScalar:()=>g,isSeq:()=>m,parse:()=>Vn,parseAllDocuments:()=>Ln,parseDocument:()=>jn,stringify:()=>zn,visit:()=>E,visitAsync:()=>I});var r={};n.r(r),n.d(r,{BOM:()=>dn,DOCUMENT:()=>pn,FLOW_END:()=>yn,SCALAR:()=>gn,createScalarToken:()=>tn,isCollection:()=>mn,isScalar:()=>bn,prettyToken:()=>wn,resolveAsScalar:()=>Qe,setScalarValue:()=>en,stringify:()=>on,tokenType:()=>vn,visit:()=>fn});var i={};n.r(i),n.d(i,{Alias:()=>L,CST:()=>r,Composer:()=>Ye,Document:()=>Ee,Lexer:()=>In,LineCounter:()=>Rn,Pair:()=>gt,Parser:()=>Nn,Scalar:()=>W,Schema:()=>_e,YAMLError:()=>Ie,YAMLMap:()=>St,YAMLParseError:()=>Re,YAMLSeq:()=>At,YAMLWarning:()=>Oe,isAlias:()=>h,isCollection:()=>b,isDocument:()=>d,isMap:()=>p,isNode:()=>w,isPair:()=>y,isScalar:()=>g,isSeq:()=>m,parse:()=>Vn,parseAllDocuments:()=>Ln,parseDocument:()=>jn,stringify:()=>zn,visit:()=>E,visitAsync:()=>I});const o=Symbol.for("yaml.alias"),s=Symbol.for("yaml.document"),a=Symbol.for("yaml.map"),c=Symbol.for("yaml.pair"),u=Symbol.for("yaml.scalar"),l=Symbol.for("yaml.seq"),f=Symbol.for("yaml.node.type"),h=t=>!!t&&"object"==typeof t&&t[f]===o,d=t=>!!t&&"object"==typeof t&&t[f]===s,p=t=>!!t&&"object"==typeof t&&t[f]===a,y=t=>!!t&&"object"==typeof t&&t[f]===c,g=t=>!!t&&"object"==typeof t&&t[f]===u,m=t=>!!t&&"object"==typeof t&&t[f]===l;function b(t){if(t&&"object"==typeof t)switch(t[f]){case a:case l:return!0}return!1}function w(t){if(t&&"object"==typeof t)switch(t[f]){case o:case a:case u:case l:return!0}return!1}const v=t=>(g(t)||b(t))&&!!t.anchor;class k{constructor(t){Object.defineProperty(this,f,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const S=Symbol("break visit"),_=Symbol("skip children"),A=Symbol("remove node");function E(t,e){const n=O(e);d(t)?x(null,t.contents,n,Object.freeze([t]))===A&&(t.contents=null):x(null,t,n,Object.freeze([]))}function x(t,e,n,r){const i=T(t,e,n,r);if(w(i)||y(i))return P(t,r,i),x(t,i,n,r);if("symbol"!=typeof i)if(b(e)){r=Object.freeze(r.concat(e));for(let t=0;t<e.items.length;++t){const i=x(t,e.items[t],n,r);if("number"==typeof i)t=i-1;else{if(i===S)return S;i===A&&(e.items.splice(t,1),t-=1)}}}else if(y(e)){r=Object.freeze(r.concat(e));const t=x("key",e.key,n,r);if(t===S)return S;t===A&&(e.key=null);const i=x("value",e.value,n,r);if(i===S)return S;i===A&&(e.value=null)}return i}async function I(t,e){const n=O(e);d(t)?await R(null,t.contents,n,Object.freeze([t]))===A&&(t.contents=null):await R(null,t,n,Object.freeze([]))}async function R(t,e,n,r){const i=await T(t,e,n,r);if(w(i)||y(i))return P(t,r,i),R(t,i,n,r);if("symbol"!=typeof i)if(b(e)){r=Object.freeze(r.concat(e));for(let t=0;t<e.items.length;++t){const i=await R(t,e.items[t],n,r);if("number"==typeof i)t=i-1;else{if(i===S)return S;i===A&&(e.items.splice(t,1),t-=1)}}}else if(y(e)){r=Object.freeze(r.concat(e));const t=await R("key",e.key,n,r);if(t===S)return S;t===A&&(e.key=null);const i=await R("value",e.value,n,r);if(i===S)return S;i===A&&(e.value=null)}return i}function O(t){return"object"==typeof t&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function T(t,e,n,r){return"function"==typeof n?n(t,e,r):p(e)?n.Map?.(t,e,r):m(e)?n.Seq?.(t,e,r):y(e)?n.Pair?.(t,e,r):g(e)?n.Scalar?.(t,e,r):h(e)?n.Alias?.(t,e,r):void 0}function P(t,e,n){const r=e[e.length-1];if(b(r))r.items[t]=n;else if(y(r))"key"===t?r.key=n:r.value=n;else{if(!d(r)){const t=h(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${t} parent`)}r.contents=n}}E.BREAK=S,E.SKIP=_,E.REMOVE=A,I.BREAK=S,I.SKIP=_,I.REMOVE=A;const B={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class C{constructor(t,e){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},C.defaultYaml,t),this.tags=Object.assign({},C.defaultTags,e)}clone(){const t=new C(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new C(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:C.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},C.defaultTags)}return t}add(t,e){this.atNextDocument&&(this.yaml={explicit:C.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},C.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),r=n.shift();switch(r){case"%TAG":{if(2!==n.length&&(e(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[t,r]=n;return this.tags[t]=r,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return e(0,"%YAML directive should contain exactly one part"),!1;const[t]=n;return"1.1"===t||"1.2"===t?(this.yaml.version=t,!0):(e(6,`Unsupported YAML version ${t}`,/^\d+\.\d+$/.test(t)),!1)}default:return e(0,`Unknown directive ${r}`,!0),!1}}tagName(t,e){if("!"===t)return"!";if("!"!==t[0])return e(`Not a valid tag: ${t}`),null;if("<"===t[1]){const n=t.slice(2,-1);return"!"===n||"!!"===n?(e(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&e("Verbatim tags must end with a >"),n)}const[,n,r]=t.match(/^(.*!)([^!]*)$/);r||e(`The ${t} tag has no suffix`);const i=this.tags[n];return i?i+decodeURIComponent(r):"!"===n?t:(e(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[e,n]of Object.entries(this.tags))if(t.startsWith(n))return e+t.substring(n.length).replace(/[!,[\]{}]/g,(t=>B[t]));return"!"===t[0]?t:`!<${t}>`}toString(t){const e=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let r;if(t&&n.length>0&&w(t.contents)){const e={};E(t.contents,((t,n)=>{w(n)&&n.tag&&(e[n.tag]=!0)})),r=Object.keys(e)}else r=[];for(const[i,o]of n)"!!"===i&&"tag:yaml.org,2002:"===o||t&&!r.some((t=>t.startsWith(o)))||e.push(`%TAG ${i} ${o}`);return e.join("\n")}}function M(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const e=JSON.stringify(t);throw new Error(`Anchor must not contain whitespace or control characters: ${e}`)}return!0}function N(t){const e=new Set;return E(t,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function U(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}C.defaultYaml={explicit:!1,version:"1.2"},C.defaultTags={"!!":"tag:yaml.org,2002:"};class L extends k{constructor(t){super(o),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return E(t,{Node:(t,n)=>{if(n===this)return E.BREAK;n.anchor===this.source&&(e=n)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:n,doc:r,maxAliasCount:i}=e,o=this.resolve(r);if(!o){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(t)}const s=n.get(o);if(!s||void 0===s.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(i>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=j(r,o,n)),s.count*s.aliasCount>i))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(t,e,n){const r=`*${this.source}`;if(t){if(M(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(t)}if(t.implicitKey)return`${r} `}return r}}function j(t,e,n){if(h(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}if(b(e)){let r=0;for(const i of e.items){const e=j(t,i,n);e>r&&(r=e)}return r}if(y(e)){const r=j(t,e.key,n),i=j(t,e.value,n);return Math.max(r,i)}return 1}function V(t,e,n){if(Array.isArray(t))return t.map(((t,e)=>V(t,String(e),n)));if(t&&"function"==typeof t.toJSON){if(!n||!v(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=t=>{r.res=t,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return"bigint"!=typeof t||n?.keep?t:Number(t)}const z=t=>!t||"function"!=typeof t&&"object"!=typeof t;class W extends k{constructor(t){super(u),this.value=t}toJSON(t,e){return e?.keep?this.value:V(this.value,t,e)}toString(){return String(this.value)}}W.BLOCK_FOLDED="BLOCK_FOLDED",W.BLOCK_LITERAL="BLOCK_LITERAL",W.PLAIN="PLAIN",W.QUOTE_DOUBLE="QUOTE_DOUBLE",W.QUOTE_SINGLE="QUOTE_SINGLE";const D="tag:yaml.org,2002:";function G(t,e,n){if(d(t)&&(t=t.contents),w(t))return t;if(y(t)){const e=n.schema[a].createNode?.(n.schema,null,n);return e.items.push(t),e}(t instanceof String||t instanceof Number||t instanceof Boolean||"undefined"!=typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:c}=n;let u;if(r&&t&&"object"==typeof t){if(u=c.get(t),u)return u.anchor||(u.anchor=i(t)),new L(u.anchor);u={anchor:null,node:null},c.set(t,u)}e?.startsWith("!!")&&(e=D+e.slice(2));let f=function(t,e,n){if(e){const t=n.filter((t=>t.tag===e)),r=t.find((t=>!t.format))??t[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find((e=>e.identify?.(t)&&!e.format))}(t,e,s.tags);if(!f){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){const e=new W(t);return u&&(u.node=e),e}f=t instanceof Map?s[a]:Symbol.iterator in Object(t)?s[l]:s[a]}o&&(o(f),delete n.onTagObj);const h=f?.createNode?f.createNode(n.schema,t,n):new W(t);return e&&(h.tag=e),u&&(u.node=h),h}function F(t,e,n){let r=n;for(let t=e.length-1;t>=0;--t){const n=e[t];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const t=[];t[n]=r,r=t}else r=new Map([[n,r]])}return G(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const q=t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done;class K extends k{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map((e=>w(e)||y(e)?e.clone(t):e)),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if(q(t))this.add(e);else{const[n,...r]=t,i=this.get(n,!0);if(b(i))i.addIn(r,e);else{if(void 0!==i||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,F(this.schema,r,e))}}}deleteIn(t){const[e,...n]=t;if(0===n.length)return this.delete(e);const r=this.get(e,!0);if(b(r))return r.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn(t,e){const[n,...r]=t,i=this.get(n,!0);return 0===r.length?!e&&g(i)?i.value:i:b(i)?i.getIn(r,e):void 0}hasAllNullValues(t){return this.items.every((e=>{if(!y(e))return!1;const n=e.value;return null==n||t&&g(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(t){const[e,...n]=t;if(0===n.length)return this.has(e);const r=this.get(e,!0);return!!b(r)&&r.hasIn(n)}setIn(t,e){const[n,...r]=t;if(0===r.length)this.set(n,e);else{const t=this.get(n,!0);if(b(t))t.setIn(r,e);else{if(void 0!==t||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`);this.set(n,F(this.schema,r,e))}}}}K.maxFlowStringSingleLineLength=60;const $=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function H(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Z=(t,e,n)=>t.endsWith("\n")?H(n,e):n.includes("\n")?"\n"+H(n,e):(t.endsWith(" ")?"":" ")+n,J="flow",X="block",Y="quoted";function Q(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return t;const c=Math.max(1+o,1+i-e.length);if(t.length<=c)return t;const u=[],l={};let f,h,d=i-e.length;"number"==typeof r&&(r>i-Math.max(2,o)?u.push(0):d=i-r);let p=!1,y=-1,g=-1,m=-1;n===X&&(y=tt(t,y),-1!==y&&(d=y+c));for(let e;e=t[y+=1];){if(n===Y&&"\\"===e){switch(g=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}m=y}if("\n"===e)n===X&&(y=tt(t,y)),d=y+c,f=void 0;else{if(" "===e&&h&&" "!==h&&"\n"!==h&&"\t"!==h){const e=t[y+1];e&&" "!==e&&"\n"!==e&&"\t"!==e&&(f=y)}if(y>=d)if(f)u.push(f),d=f+c,f=void 0;else if(n===Y){for(;" "===h||"\t"===h;)h=e,e=t[y+=1],p=!0;const n=y>m+1?y-2:g-1;if(l[n])return t;u.push(n),l[n]=!0,d=n+c,f=void 0}else p=!0}h=e}if(p&&a&&a(),0===u.length)return t;s&&s();let b=t.slice(0,u[0]);for(let r=0;r<u.length;++r){const i=u[r],o=u[r+1]||t.length;0===i?b=`\n${e}${t.slice(0,o)}`:(n===Y&&l[i]&&(b+=`${t[i]}\\`),b+=`\n${e}${t.slice(i+1,o)}`)}return b}function tt(t,e){let n=t[e+1];for(;" "===n||"\t"===n;){do{n=t[e+=1]}while(n&&"\n"!==n);n=t[e+1]}return e}const et=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),nt=t=>/^(%|---|\.\.\.)/m.test(t);function rt(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(nt(t)?"  ":"");let s="",a=0;for(let t=0,e=n[t];e;e=n[++t])if(" "===e&&"\\"===n[t+1]&&"n"===n[t+2]&&(s+=n.slice(a,t)+"\\ ",t+=1,a=t,e="\\"),"\\"===e)switch(n[t+1]){case"u":{s+=n.slice(a,t);const e=n.substr(t+2,4);switch(e){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===e.substr(0,2)?s+="\\x"+e.substr(2):s+=n.substr(t,6)}t+=5,a=t+1}break;case"n":if(r||'"'===n[t+2]||n.length<i)t+=1;else{for(s+=n.slice(a,t)+"\n\n";"\\"===n[t+2]&&"n"===n[t+3]&&'"'!==n[t+4];)s+="\n",t+=2;s+=o," "===n[t+2]&&(s+="\\"),t+=1,a=t+1}break;default:t+=1}return s=a?s+n.slice(a):n,r?s:Q(s,o,Y,et(e,!1))}function it(t,e){if(!1===e.options.singleQuote||e.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return rt(t,e);const n=e.indent||(nt(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return e.implicitKey?r:Q(r,n,J,et(e,!1))}function ot(t,e){const{singleQuote:n}=e.options;let r;if(!1===n)r=rt;else{const e=t.includes('"'),i=t.includes("'");r=e&&!i?it:i&&!e?rt:n?it:rt}return r(t,e)}function st({comment:t,type:e,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:c}=r.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ot(n,r);const u=r.indent||(r.forceBlockIndent||nt(n)?"  ":""),l="literal"===s||"folded"!==s&&e!==W.BLOCK_FOLDED&&(e===W.BLOCK_LITERAL||!function(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let e=0,n=0;e<i;++e)if("\n"===t[e]){if(e-n>r)return!0;if(n=e+1,i-n<=r)return!1}return!0}(n,c,u.length));if(!n)return l?"|\n":">\n";let f,h;for(h=n.length;h>0;--h){const t=n[h-1];if("\n"!==t&&"\t"!==t&&" "!==t)break}let d=n.substring(h);const p=d.indexOf("\n");-1===p?f="-":n===d||p!==d.length-1?(f="+",o&&o()):f="",d&&(n=n.slice(0,-d.length),"\n"===d[d.length-1]&&(d=d.slice(0,-1)),d=d.replace(/\n+(?!\n|$)/g,`$&${u}`));let y,g=!1,m=-1;for(y=0;y<n.length;++y){const t=n[y];if(" "===t)g=!0;else{if("\n"!==t)break;m=y}}let b=n.substring(0,m<y?m+1:y);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${u}`));let w=(l?"|":">")+(g?u?"2":"1":"")+f;return t&&(w+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),l?`${w}\n${u}${b}${n=n.replace(/\n+/g,`$&${u}`)}${d}`:`${w}\n${u}${Q(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`)}${d}`,u,X,et(r,!0))}`}function at(t,e,n,r){const{implicitKey:i,inFlow:o}=e,s="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==W.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=W.QUOTE_DOUBLE);const c=t=>{switch(t){case W.BLOCK_FOLDED:case W.BLOCK_LITERAL:return i||o?ot(s.value,e):st(s,e,n,r);case W.QUOTE_DOUBLE:return rt(s.value,e);case W.QUOTE_SINGLE:return it(s.value,e);case W.PLAIN:return function(t,e,n,r){const{type:i,value:o}=t,{actualString:s,implicitKey:a,indent:c,indentStep:u,inFlow:l}=e;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return ot(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||!o.includes("\n")?ot(o,e):st(t,e,n,r);if(!a&&!l&&i!==W.PLAIN&&o.includes("\n"))return st(t,e,n,r);if(nt(o)){if(""===c)return e.forceBlockIndent=!0,st(t,e,n,r);if(a&&c===u)return ot(o,e)}const f=o.replace(/\n+/g,`$&\n${c}`);if(s){const t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(f),{compat:n,tags:r}=e.doc.schema;if(r.some(t)||n?.some(t))return ot(o,e)}return a?f:Q(f,c,J,et(e,!1))}(s,e,n,r);default:return null}};let u=c(a);if(null===u){const{defaultKeyType:t,defaultStringType:n}=e.options,r=i&&t||n;if(u=c(r),null===u)throw new Error(`Unsupported default string type ${r}`)}return u}function ct(t,e){const n=Object.assign({blockQuote:!0,commentString:$,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function ut(t,e,n,r){if(y(t))return t.toString(e,n,r);if(h(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const o=w(t)?t:e.doc.createNode(t,{onTagObj:t=>i=t});i||(i=function(t,e){if(e.tag){const n=t.filter((t=>t.tag===e.tag));if(n.length>0)return n.find((t=>t.format===e.format))??n[0]}let n,r;if(g(e)){r=e.value;const i=t.filter((t=>t.identify?.(r)));n=i.find((t=>t.format===e.format))??i.find((t=>!t.format))}else r=e,n=t.find((t=>t.nodeClass&&r instanceof t.nodeClass));if(!n)throw new Error(`Tag not resolved for ${r?.constructor?.name??typeof r} value`);return n}(e.doc.schema.tags,o));const s=function(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(g(t)||b(t))&&t.anchor;o&&M(o)&&(n.add(o),i.push(`&${o}`));const s=t.tag?t.tag:e.default?null:e.tag;return s&&i.push(r.directives.tagString(s)),i.join(" ")}(o,i,e);s.length>0&&(e.indentAtStart=(e.indentAtStart??0)+s.length+1);const a="function"==typeof i.stringify?i.stringify(o,e,n,r):g(o)?at(o,e,n,r):o.toString(e,n,r);return s?g(o)||"{"===a[0]||"["===a[0]?`${s} ${a}`:`${s}\n${e.indent}${a}`:a}var lt=n(4224);function ft(t,e){"debug"!==t&&"warn"!==t||(void 0!==lt&&lt.emitWarning?lt.emitWarning(e):console.warn(e))}function ht(t,e,{key:n,value:r}){if(t?.doc.schema.merge&&dt(n))if(r=h(r)?r.resolve(t.doc):r,m(r))for(const n of r.items)pt(t,e,n);else if(Array.isArray(r))for(const n of r)pt(t,e,n);else pt(t,e,r);else{const i=V(n,"",t);if(e instanceof Map)e.set(i,V(r,i,t));else if(e instanceof Set)e.add(i);else{const o=function(t,e,n){if(null===e)return"";if("object"!=typeof e)return String(e);if(w(t)&&n&&n.doc){const e=ct(n.doc,{});e.anchors=new Set;for(const t of n.anchors.keys())e.anchors.add(t.anchor);e.inFlow=!0,e.inStringifyKey=!0;const r=t.toString(e);if(!n.mapKeyWarned){let t=JSON.stringify(r);t.length>40&&(t=t.substring(0,36)+'..."'),ft(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}(n,i,t),s=V(r,o,t);o in e?Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):e[o]=s}}return e}const dt=t=>"<<"===t||g(t)&&"<<"===t.value&&(!t.type||t.type===W.PLAIN);function pt(t,e,n){const r=t&&h(n)?n.resolve(t.doc):n;if(!p(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[t,n]of i)e instanceof Map?e.has(t)||e.set(t,n):e instanceof Set?e.add(t):Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0});return e}function yt(t,e,n){const r=G(t,void 0,n),i=G(e,void 0,n);return new gt(r,i)}class gt{constructor(t,e=null){Object.defineProperty(this,f,{value:c}),this.key=t,this.value=e}clone(t){let{key:e,value:n}=this;return w(e)&&(e=e.clone(t)),w(n)&&(n=n.clone(t)),new gt(e,n)}toJSON(t,e){return ht(e,e?.mapAsMap?new Map:{},this)}toString(t,e,n){return t?.doc?function({key:t,value:e},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:u,indentSeq:l,simpleKeys:f}}=n;let h=w(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(b(t))throw new Error("With simple keys, collection cannot be used as a key value")}let d=!f&&(!t||h&&null==e&&!n.inFlow||b(t)||(g(t)?t.type===W.BLOCK_FOLDED||t.type===W.BLOCK_LITERAL:"object"==typeof t));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!o),indent:a+c});let p,y,v,k=!1,S=!1,_=ut(t,n,(()=>k=!0),(()=>S=!0));if(!d&&!n.inFlow&&_.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(o||null==e)return k&&r&&r(),""===_?"?":d?`? ${_}`:_}else if(o&&!f||null==e&&d)return _=`? ${_}`,h&&!k?_+=Z(_,n.indent,u(h)):S&&i&&i(),_;k&&(h=null),d?(h&&(_+=Z(_,n.indent,u(h))),_=`? ${_}\n${a}:`):(_=`${_}:`,h&&(_+=Z(_,n.indent,u(h)))),w(e)?(p=!!e.spaceBefore,y=e.commentBefore,v=e.comment):(p=!1,y=null,v=null,e&&"object"==typeof e&&(e=s.createNode(e))),n.implicitKey=!1,d||h||!g(e)||(n.indentAtStart=_.length+1),S=!1,l||!(c.length>=2)||n.inFlow||d||!m(e)||e.flow||e.tag||e.anchor||(n.indent=n.indent.substring(2));let A=!1;const E=ut(e,n,(()=>A=!0),(()=>S=!0));let x=" ";if(h||p||y)x=p?"\n":"",y&&(x+=`\n${H(u(y),n.indent)}`),""!==E||n.inFlow?x+=`\n${n.indent}`:"\n"===x&&(x="\n\n");else if(!d&&b(e)){const t=E[0],r=E.indexOf("\n"),i=-1!==r,o=n.inFlow??e.flow??0===e.items.length;if(i||!o){let e=!1;if(i&&("&"===t||"!"===t)){let n=E.indexOf(" ");"&"===t&&-1!==n&&n<r&&"!"===E[n+1]&&(n=E.indexOf(" ",n+1)),(-1===n||r<n)&&(e=!0)}e||(x=`\n${n.indent}`)}}else""!==E&&"\n"!==E[0]||(x="");return _+=x+E,n.inFlow?A&&r&&r():v&&!A?_+=Z(_,n.indent,u(v)):S&&i&&i(),_}(this,t,e,n):JSON.stringify(this)}}function mt(t,e,n){return(e.inFlow??t.flow?wt:bt)(t,e,n)}function bt({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:c,options:{commentString:u}}=n,l=Object.assign({},n,{indent:o,type:null});let f=!1;const h=[];for(let t=0;t<e.length;++t){const i=e[t];let s=null;if(w(i))!f&&i.spaceBefore&&h.push(""),vt(n,h,i.commentBefore,f),i.comment&&(s=i.comment);else if(y(i)){const t=w(i.key)?i.key:null;t&&(!f&&t.spaceBefore&&h.push(""),vt(n,h,t.commentBefore,f))}f=!1;let a=ut(i,l,(()=>s=null),(()=>f=!0));s&&(a+=Z(a,o,u(s))),f&&s&&(f=!1),h.push(r+a)}let d;if(0===h.length)d=i.start+i.end;else{d=h[0];for(let t=1;t<h.length;++t){const e=h[t];d+=e?`\n${c}${e}`:"\n"}}return t?(d+="\n"+H(u(t),c),a&&a()):f&&s&&s(),d}function wt({comment:t,items:e},n,{flowChars:r,itemIndent:i,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:c,options:{commentString:u}}=n;i+=a;const l=Object.assign({},n,{indent:i,inFlow:!0,type:null});let f=!1,h=0;const d=[];for(let t=0;t<e.length;++t){const r=e[t];let o=null;if(w(r))r.spaceBefore&&d.push(""),vt(n,d,r.commentBefore,!1),r.comment&&(o=r.comment);else if(y(r)){const t=w(r.key)?r.key:null;t&&(t.spaceBefore&&d.push(""),vt(n,d,t.commentBefore,!1),t.comment&&(f=!0));const e=w(r.value)?r.value:null;e?(e.comment&&(o=e.comment),e.commentBefore&&(f=!0)):null==r.value&&t&&t.comment&&(o=t.comment)}o&&(f=!0);let s=ut(r,l,(()=>o=null));t<e.length-1&&(s+=","),o&&(s+=Z(s,i,u(o))),!f&&(d.length>h||s.includes("\n"))&&(f=!0),d.push(s),h=d.length}let p;const{start:g,end:m}=r;if(0===d.length)p=g+m;else if(f||(f=d.reduce(((t,e)=>t+e.length+2),2)>K.maxFlowStringSingleLineLength),f){p=g;for(const t of d)p+=t?`\n${a}${s}${t}`:"\n";p+=`\n${s}${m}`}else p=`${g}${c}${d.join(" ")}${c}${m}`;return t&&(p+=Z(p,s,u(t)),o&&o()),p}function vt({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const i=H(e(r),t);n.push(i.trimStart())}}function kt(t,e){const n=g(e)?e.value:e;for(const r of t)if(y(r)){if(r.key===e||r.key===n)return r;if(g(r.key)&&r.key.value===n)return r}}class St extends K{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(a,t),this.items=[]}add(t,e){let n;n=y(t)?t:t&&"object"==typeof t&&"key"in t?new gt(t.key,t.value):new gt(t,t?.value);const r=kt(this.items,n.key),i=this.schema?.sortMapEntries;if(r){if(!e)throw new Error(`Key ${n.key} already set`);g(r.value)&&z(n.value)?r.value.value=n.value:r.value=n.value}else if(i){const t=this.items.findIndex((t=>i(n,t)<0));-1===t?this.items.push(n):this.items.splice(t,0,n)}else this.items.push(n)}delete(t){const e=kt(this.items,t);return!!e&&this.items.splice(this.items.indexOf(e),1).length>0}get(t,e){const n=kt(this.items,t),r=n?.value;return(!e&&g(r)?r.value:r)??void 0}has(t){return!!kt(this.items,t)}set(t,e){this.add(new gt(t,e),!0)}toJSON(t,e,n){const r=n?new n:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(r);for(const t of this.items)ht(e,r,t);return r}toString(t,e,n){if(!t)return JSON.stringify(this);for(const t of this.items)if(!y(t))throw new Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),mt(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:e})}}const _t={collection:"map",createNode:function(t,e,n){const{keepUndefined:r,replacer:i}=n,o=new St(t),s=(t,s)=>{if("function"==typeof i)s=i.call(e,t,s);else if(Array.isArray(i)&&!i.includes(t))return;(void 0!==s||r)&&o.items.push(yt(t,s,n))};if(e instanceof Map)for(const[t,n]of e)s(t,n);else if(e&&"object"==typeof e)for(const t of Object.keys(e))s(t,e[t]);return"function"==typeof t.sortMapEntries&&o.items.sort(t.sortMapEntries),o},default:!0,nodeClass:St,tag:"tag:yaml.org,2002:map",resolve:(t,e)=>(p(t)||e("Expected a mapping for this tag"),t)};class At extends K{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(l,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=Et(t);return"number"==typeof e&&this.items.splice(e,1).length>0}get(t,e){const n=Et(t);if("number"!=typeof n)return;const r=this.items[n];return!e&&g(r)?r.value:r}has(t){const e=Et(t);return"number"==typeof e&&e<this.items.length}set(t,e){const n=Et(t);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${t}.`);const r=this.items[n];g(r)&&z(e)?r.value=e:this.items[n]=e}toJSON(t,e){const n=[];e?.onCreate&&e.onCreate(n);let r=0;for(const t of this.items)n.push(V(t,String(r++),e));return n}toString(t,e,n){return t?mt(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:e}):JSON.stringify(this)}}function Et(t){let e=g(t)?t.value:t;return e&&"string"==typeof e&&(e=Number(e)),"number"==typeof e&&Number.isInteger(e)&&e>=0?e:null}const xt={collection:"seq",createNode:function(t,e,n){const{replacer:r}=n,i=new At(t);if(e&&Symbol.iterator in Object(e)){let t=0;for(let o of e){if("function"==typeof r){const n=e instanceof Set?o:String(t++);o=r.call(e,n,o)}i.items.push(G(o,void 0,n))}}return i},default:!0,nodeClass:At,tag:"tag:yaml.org,2002:seq",resolve:(t,e)=>(m(t)||e("Expected a sequence for this tag"),t)},It={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:(t,e,n,r)=>at(t,e=Object.assign({actualString:!0},e),n,r)},Rt={identify:t=>null==t,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new W(null),stringify:({source:t},e)=>"string"==typeof t&&Rt.test.test(t)?t:e.options.nullStr},Ot={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new W("t"===t[0]||"T"===t[0]),stringify:({source:t,value:e},n)=>t&&Ot.test.test(t)&&e===("t"===t[0]||"T"===t[0])?t:e?n.options.trueStr:n.options.falseStr};function Tt({format:t,minFractionDigits:e,tag:n,value:r}){if("bigint"==typeof r)return String(r);const i="number"==typeof r?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!t&&e&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let t=o.indexOf(".");t<0&&(t=o.length,o+=".");let n=e-(o.length-t-1);for(;n-- >0;)o+="0"}return o}const Pt={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},Bt={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Tt(t)}},Ct={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new W(parseFloat(t)),n=t.indexOf(".");return-1!==n&&"0"===t[t.length-1]&&(e.minFractionDigits=t.length-n-1),e},stringify:Tt},Mt=t=>"bigint"==typeof t||Number.isInteger(t),Nt=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function Ut(t,e,n){const{value:r}=t;return Mt(r)&&r>=0?n+r.toString(e):Tt(t)}const Lt={identify:t=>Mt(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Nt(t,2,8,n),stringify:t=>Ut(t,8,"0o")},jt={identify:Mt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Nt(t,0,10,n),stringify:Tt},Vt={identify:t=>Mt(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Nt(t,2,16,n),stringify:t=>Ut(t,16,"0x")},zt=[_t,xt,It,Rt,Ot,Lt,jt,Vt,Pt,Bt,Ct];function Wt(t){return"bigint"==typeof t||Number.isInteger(t)}const Dt=({value:t})=>JSON.stringify(t),Gt=[_t,xt].concat([{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Dt},{identify:t=>null==t,createNode:()=>new W(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Dt},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>"true"===t,stringify:Dt},{identify:Wt,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>Wt(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Dt}],{default:!0,tag:"",test:/^/,resolve:(t,e)=>(e(`Unresolved plain scalar ${JSON.stringify(t)}`),t)});var Ft=n(5872).Buffer;const qt={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if("function"==typeof Ft)return Ft.from(t,"base64");if("function"==typeof atob){const e=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(e.length);for(let t=0;t<e.length;++t)n[t]=e.charCodeAt(t);return n}return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,o){const s=n;let a;if("function"==typeof Ft)a=s instanceof Ft?s.toString("base64"):Ft.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let t="";for(let e=0;e<s.length;++e)t+=String.fromCharCode(s[e]);a=btoa(t)}}if(e||(e=W.BLOCK_LITERAL),e!==W.QUOTE_DOUBLE){const t=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),n=Math.ceil(a.length/t),i=new Array(n);for(let e=0,r=0;e<n;++e,r+=t)i[e]=a.substr(r,t);a=i.join(e===W.BLOCK_LITERAL?"\n":" ")}return at({comment:t,type:e,value:a},r,i,o)}};function Kt(t,e){if(m(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!y(r)){if(p(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const t=r.items[0]||new gt(new W(null));if(r.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${r.commentBefore}\n${t.key.commentBefore}`:r.commentBefore),r.comment){const e=t.value??t.key;e.comment=e.comment?`${r.comment}\n${e.comment}`:r.comment}r=t}t.items[n]=y(r)?r:new gt(r)}}else e("Expected a sequence for this tag");return t}function $t(t,e,n){const{replacer:r}=n,i=new At(t);i.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let t of e){let s,a;if("function"==typeof r&&(t=r.call(e,String(o++),t)),Array.isArray(t)){if(2!==t.length)throw new TypeError(`Expected [key, value] tuple: ${t}`);s=t[0],a=t[1]}else if(t&&t instanceof Object){const e=Object.keys(t);if(1!==e.length)throw new TypeError(`Expected { key: value } tuple: ${t}`);s=e[0],a=t[s]}else s=t;i.items.push(yt(s,a,n))}return i}const Ht={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Kt,createNode:$t};class Zt extends At{constructor(){super(),this.add=St.prototype.add.bind(this),this.delete=St.prototype.delete.bind(this),this.get=St.prototype.get.bind(this),this.has=St.prototype.has.bind(this),this.set=St.prototype.set.bind(this),this.tag=Zt.tag}toJSON(t,e){if(!e)return super.toJSON(t);const n=new Map;e?.onCreate&&e.onCreate(n);for(const t of this.items){let r,i;if(y(t)?(r=V(t.key,"",e),i=V(t.value,r,e)):r=V(t,"",e),n.has(r))throw new Error("Ordered maps must not include duplicate keys");n.set(r,i)}return n}}Zt.tag="tag:yaml.org,2002:omap";const Jt={collection:"seq",identify:t=>t instanceof Map,nodeClass:Zt,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Kt(t,e),r=[];for(const{key:t}of n.items)g(t)&&(r.includes(t.value)?e(`Ordered maps must not include duplicate keys: ${t.value}`):r.push(t.value));return Object.assign(new Zt,n)},createNode(t,e,n){const r=$t(t,e,n),i=new Zt;return i.items=r.items,i}};function Xt({value:t,source:e},n){return e&&(t?Yt:Qt).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Yt={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new W(!0),stringify:Xt},Qt={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new W(!1),stringify:Xt},te={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Tt},ee={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Tt(t)}},ne={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new W(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(-1!==n){const r=t.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(e.minFractionDigits=r.length)}return e},stringify:Tt},re=t=>"bigint"==typeof t||Number.isInteger(t);function ie(t,e,n,{intAsBigInt:r}){const i=t[0];if("-"!==i&&"+"!==i||(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}const e=BigInt(t);return"-"===i?BigInt(-1)*e:e}const o=parseInt(t,n);return"-"===i?-1*o:o}function oe(t,e,n){const{value:r}=t;if(re(r)){const t=r.toString(e);return r<0?"-"+n+t.substr(1):n+t}return Tt(t)}const se={identify:re,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>ie(t,2,2,n),stringify:t=>oe(t,2,"0b")},ae={identify:re,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>ie(t,1,8,n),stringify:t=>oe(t,8,"0")},ce={identify:re,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>ie(t,0,10,n),stringify:Tt},ue={identify:re,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>ie(t,2,16,n),stringify:t=>oe(t,16,"0x")};class le extends St{constructor(t){super(t),this.tag=le.tag}add(t){let e;e=y(t)?t:t&&"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new gt(t.key,null):new gt(t,null),kt(this.items,e.key)||this.items.push(e)}get(t,e){const n=kt(this.items,t);return!e&&y(n)?g(n.key)?n.key.value:n.key:n}set(t,e){if("boolean"!=typeof e)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof e);const n=kt(this.items,t);n&&!e?this.items.splice(this.items.indexOf(n),1):!n&&e&&this.items.push(new gt(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,n);throw new Error("Set items must all have null values")}}le.tag="tag:yaml.org,2002:set";const fe={collection:"map",identify:t=>t instanceof Set,nodeClass:le,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(p(t)){if(t.hasAllNullValues(!0))return Object.assign(new le,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:r}=n,i=new le(t);if(e&&Symbol.iterator in Object(e))for(let t of e)"function"==typeof r&&(t=r.call(e,t,t)),i.items.push(yt(t,null,n));return i}};function he(t,e){const n=t[0],r="-"===n||"+"===n?t.substring(1):t,i=t=>e?BigInt(t):Number(t),o=r.replace(/_/g,"").split(":").reduce(((t,e)=>t*i(60)+i(e)),i(0));return"-"===n?i(-1)*o:o}function de(t){let{value:e}=t,n=t=>t;if("bigint"==typeof e)n=t=>BigInt(t);else if(isNaN(e)||!isFinite(e))return Tt(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),o=[e%i];return e<60?o.unshift(0):(e=(e-o[0])/i,o.unshift(e%i),e>=60&&(e=(e-o[0])/i,o.unshift(e))),r+o.map((t=>t<10?"0"+String(t):String(t))).join(":").replace(/000000\d*$/,"")}const pe={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>he(t,n),stringify:de},ye={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>he(t,!1),stringify:de},ge={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(ge.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,o||0,s||0,a||0,c);const l=e[8];if(l&&"Z"!==l){let t=he(l,!1);Math.abs(t)<30&&(t*=60),u-=6e4*t}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},me=[_t,xt,It,Rt,Yt,Qt,se,ae,ce,ue,te,ee,ne,qt,Jt,Ht,fe,pe,ye,ge],be=new Map([["core",zt],["failsafe",[_t,xt,It]],["json",Gt],["yaml11",me],["yaml-1.1",me]]),we={binary:qt,bool:Ot,float:Ct,floatExp:Bt,floatNaN:Pt,floatTime:ye,int:jt,intHex:Vt,intOct:Lt,intTime:pe,map:_t,null:Rt,omap:Jt,pairs:Ht,seq:xt,set:fe,timestamp:ge},ve={"tag:yaml.org,2002:binary":qt,"tag:yaml.org,2002:omap":Jt,"tag:yaml.org,2002:pairs":Ht,"tag:yaml.org,2002:set":fe,"tag:yaml.org,2002:timestamp":ge};function ke(t,e){let n=be.get(e);if(!n){if(!Array.isArray(t)){const t=Array.from(be.keys()).filter((t=>"yaml11"!==t)).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${t} or define customTags array`)}n=[]}if(Array.isArray(t))for(const e of t)n=n.concat(e);else"function"==typeof t&&(n=t(n.slice()));return n.map((t=>{if("string"!=typeof t)return t;const e=we[t];if(e)return e;const n=Object.keys(we).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown custom tag "${t}"; use one of ${n}`)}))}const Se=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class _e{constructor({compat:t,customTags:e,merge:n,resolveKnownTags:r,schema:i,sortMapEntries:o,toStringDefaults:s}){this.compat=Array.isArray(t)?ke(t,"compat"):t?ke(null,t):null,this.merge=!!n,this.name="string"==typeof i&&i||"core",this.knownTags=r?ve:{},this.tags=ke(e,this.name),this.toStringOptions=s??null,Object.defineProperty(this,a,{value:_t}),Object.defineProperty(this,u,{value:It}),Object.defineProperty(this,l,{value:xt}),this.sortMapEntries="function"==typeof o?o:!0===o?Se:null}clone(){const t=Object.create(_e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Ae(t,e,n,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let e=0,n=r.length;e<n;++e){const n=r[e],i=Ae(t,r,String(e),n);void 0===i?delete r[e]:i!==n&&(r[e]=i)}else if(r instanceof Map)for(const e of Array.from(r.keys())){const n=r.get(e),i=Ae(t,r,e,n);void 0===i?r.delete(e):i!==n&&r.set(e,i)}else if(r instanceof Set)for(const e of Array.from(r)){const n=Ae(t,r,e,e);void 0===n?r.delete(e):n!==e&&(r.delete(e),r.add(n))}else for(const[e,n]of Object.entries(r)){const i=Ae(t,r,e,n);void 0===i?delete r[e]:i!==n&&(r[e]=i)}return t.call(e,n,r)}class Ee{constructor(t,e,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,f,{value:s});let r=null;"function"==typeof e||Array.isArray(e)?r=e:void 0===n&&e&&(n=e,e=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=i;let{version:o}=i;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new C({version:o}),this.setSchema(o,n),this.contents=void 0===t?null:this.createNode(t,r,n)}clone(){const t=Object.create(Ee.prototype,{[f]:{value:s}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=w(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){xe(this.contents)&&this.contents.add(t)}addIn(t,e){xe(this.contents)&&this.contents.addIn(t,e)}createAlias(t,e){if(!t.anchor){const n=N(this);t.anchor=!e||n.has(e)?U(e||"a",n):e}return new L(t.anchor)}createNode(t,e,n){let r;if("function"==typeof e)t=e.call({"":t},"",t),r=e;else if(Array.isArray(e)){const t=t=>"number"==typeof t||t instanceof String||t instanceof Number,n=e.filter(t).map(String);n.length>0&&(e=e.concat(n)),r=e}else void 0===n&&e&&(n=e,e=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:s,keepUndefined:a,onTagObj:c,tag:u}=n??{},{onAnchor:l,setAnchors:f,sourceObjects:h}=function(t,e){const n=[],r=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=N(t));const o=U(e,i);return i.add(o),o},setAnchors:()=>{for(const t of n){const e=r.get(t);if("object"!=typeof e||!e.anchor||!g(e.node)&&!b(e.node)){const e=new Error("Failed to resolve repeated object (this should not happen)");throw e.source=t,e}e.node.anchor=e.anchor}},sourceObjects:r}}(this,o||"a"),d=G(t,u,{aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:l,onTagObj:c,replacer:r,schema:this.schema,sourceObjects:h});return s&&b(d)&&(d.flow=!0),f(),d}createPair(t,e,n={}){const r=this.createNode(t,null,n),i=this.createNode(e,null,n);return new gt(r,i)}delete(t){return!!xe(this.contents)&&this.contents.delete(t)}deleteIn(t){return q(t)?null!=this.contents&&(this.contents=null,!0):!!xe(this.contents)&&this.contents.deleteIn(t)}get(t,e){return b(this.contents)?this.contents.get(t,e):void 0}getIn(t,e){return q(t)?!e&&g(this.contents)?this.contents.value:this.contents:b(this.contents)?this.contents.getIn(t,e):void 0}has(t){return!!b(this.contents)&&this.contents.has(t)}hasIn(t){return q(t)?void 0!==this.contents:!!b(this.contents)&&this.contents.hasIn(t)}set(t,e){null==this.contents?this.contents=F(this.schema,[t],e):xe(this.contents)&&this.contents.set(t,e)}setIn(t,e){q(t)?this.contents=e:null==this.contents?this.contents=F(this.schema,Array.from(t),e):xe(this.contents)&&this.contents.setIn(t,e)}setSchema(t,e={}){let n;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new C({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new C({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const e=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${e}`)}}if(e.schema instanceof Object)this.schema=e.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new _e(Object.assign(n,e))}}toJS({json:t,jsonArg:e,mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){const s={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100,stringify:ut},a=V(this.contents,e??"",s);if("function"==typeof i)for(const{count:t,res:e}of s.anchors.values())i(e,t);return"function"==typeof o?Ae(o,{"":a},"",a):a}toJSON(t,e){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:e})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const e=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${e}`)}return function(t,e){const n=[];let r=!0===e.directives;if(!1!==e.directives&&t.directives){const e=t.directives.toString(t);e?(n.push(e),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=ct(t,e),{commentString:o}=i.options;if(t.commentBefore){1!==n.length&&n.unshift("");const e=o(t.commentBefore);n.unshift(H(e,""))}let s=!1,a=null;if(t.contents){if(w(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const e=o(t.contents.commentBefore);n.push(H(e,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const e=a?void 0:()=>s=!0;let c=ut(t.contents,i,(()=>a=null),e);a&&(c+=Z(c,"",o(a))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(ut(t.contents,i));if(t.directives?.docEnd)if(t.comment){const e=o(t.comment);e.includes("\n")?(n.push("..."),n.push(H(e,""))):n.push(`... ${e}`)}else n.push("...");else{let e=t.comment;e&&s&&(e=e.replace(/^\n+/,"")),e&&(s&&!a||""===n[n.length-1]||n.push(""),n.push(H(o(e),"")))}return n.join("\n")+"\n"}(this,t)}}function xe(t){if(b(t))return!0;throw new Error("Expected a YAML collection as document contents")}class Ie extends Error{constructor(t,e,n,r){super(),this.name=t,this.code=n,this.message=r,this.pos=e}}class Re extends Ie{constructor(t,e,n){super("YAMLParseError",t,e,n)}}class Oe extends Ie{constructor(t,e,n){super("YAMLWarning",t,e,n)}}const Te=(t,e)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((t=>e.linePos(t)));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const t=Math.min(o-39,s.length-79);s="…"+s.substring(t),o-=t-1}if(s.length>80&&(s=s.substring(0,79)+"…"),r>1&&/^ *$/.test(s.substring(0,o))){let n=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),s=n+s}if(/[^ ]/.test(s)){let t=1;const e=n.linePos[1];e&&e.line===r&&e.col>i&&(t=Math.max(1,Math.min(e.col-i,80-o)));const a=" ".repeat(o)+"^".repeat(t);n.message+=`:\n\n${s}\n${a}\n`}};function Pe(t,{flow:e,indicator:n,next:r,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,u=s,l="",f="",h=!1,d=!1,p=!1,y=null,g=null,m=null,b=null,w=null;for(const r of t)switch(p&&("space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),r.type){case"space":!e&&c&&"doc-start"!==n&&"\t"===r.source[0]&&o(r,"TAB_AS_INDENT","Tabs are not allowed as indentation"),u=!0;break;case"comment":{u||o(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=r.source.substring(1)||" ";l?l+=f+t:l=t,f="",c=!1;break}case"newline":c?l?l+=r.source:a=!0:f+=r.source,c=!0,h=!0,(y||g)&&(d=!0),u=!0;break;case"anchor":y&&o(r,"MULTIPLE_ANCHORS","A node can have at most one anchor"),r.source.endsWith(":")&&o(r.offset+r.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),y=r,null===w&&(w=r.offset),c=!1,u=!1,p=!0;break;case"tag":g&&o(r,"MULTIPLE_TAGS","A node can have at most one tag"),g=r,null===w&&(w=r.offset),c=!1,u=!1,p=!0;break;case n:(y||g)&&o(r,"BAD_PROP_ORDER",`Anchors and tags must be after the ${r.source} indicator`),b&&o(r,"UNEXPECTED_TOKEN",`Unexpected ${r.source} in ${e??"collection"}`),b=r,c=!1,u=!1;break;case"comma":if(e){m&&o(r,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),m=r,c=!1,u=!1;break}default:o(r,"UNEXPECTED_TOKEN",`Unexpected ${r.type} token`),c=!1,u=!1}const v=t[t.length-1],k=v?v.offset+v.source.length:i;return p&&r&&"space"!==r.type&&"newline"!==r.type&&"comma"!==r.type&&("scalar"!==r.type||""!==r.source)&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:m,found:b,spaceBefore:a,comment:l,hasNewline:h,hasNewlineAfterProp:d,anchor:y,tag:g,end:k,start:w??k}}function Be(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(const e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(const e of t.items){for(const t of e.start)if("newline"===t.type)return!0;if(e.sep)for(const t of e.sep)if("newline"===t.type)return!0;if(Be(e.key)||Be(e.value))return!0}return!1;default:return!0}}function Ce(t,e,n){if("flow-collection"===e?.type){const r=e.end[0];r.indent!==t||"]"!==r.source&&"}"!==r.source||!Be(e)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Me(t,e,n){const{uniqueKeys:r}=t.options;if(!1===r)return!1;const i="function"==typeof r?r:(e,n)=>e===n||g(e)&&g(n)&&e.value===n.value&&!("<<"===e.value&&t.schema.merge);return e.some((t=>i(t.key,n)))}const Ne="All mapping items must start at the same column";function Ue(t,e,n,r){let i="";if(t){let o=!1,s="";for(const a of t){const{source:t,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=t.substring(1)||" ";i?i+=s+e:i=e,s="";break}case"newline":i&&(s+=t),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}e+=t.length}}return{comment:i,offset:e}}const Le="Block collections are not allowed within flow collections",je=t=>t&&("block-map"===t.type||"block-seq"===t.type);function Ve(t,e,n){const r=t.offset,i=function({offset:t,props:e},n,r){if("block-scalar-header"!==e[0].type)return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],o=i[0];let s=0,a="",c=-1;for(let e=1;e<i.length;++e){const n=i[e];if(a||"-"!==n&&"+"!==n){const r=Number(n);!s&&r?s=r:-1===c&&(c=t+e)}else a=n}-1!==c&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,l="",f=i.length;for(let t=1;t<e.length;++t){const i=e[t];switch(i.type){case"space":u=!0;case"newline":f+=i.source.length;break;case"comment":n&&!u&&r(i,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=i.source.length,l=i.source.substring(1);break;case"error":r(i,"UNEXPECTED_TOKEN",i.message),f+=i.source.length;break;default:{r(i,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${i.type}`);const t=i.source;t&&"string"==typeof t&&(f+=t.length)}}}return{mode:o,indent:s,chomp:a,comment:l,length:f}}(t,e,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=">"===i.mode?W.BLOCK_FOLDED:W.BLOCK_LITERAL,s=t.source?function(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let t=1;t<e.length;t+=2)i.push([e[t],e[t+1]]);return i}(t.source):[];let a=s.length;for(let t=s.length-1;t>=0;--t){const e=s[t][1];if(""!==e&&"\r"!==e)break;a=t}if(0===a){const e="+"===i.chomp&&s.length>0?"\n".repeat(Math.max(1,s.length-1)):"";let n=r+i.length;return t.source&&(n+=t.source.length),{value:e,type:o,comment:i.comment,range:[r,n,n]}}let c=t.indent+i.indent,u=t.offset+i.length,l=0;for(let t=0;t<a;++t){const[e,r]=s[t];if(""!==r&&"\r"!==r){if(e.length<c){const t="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(u+e.length,"MISSING_CHAR",t)}0===i.indent&&(c=e.length),l=t;break}0===i.indent&&e.length>c&&(c=e.length),u+=e.length+r.length+1}for(let t=s.length-1;t>=a;--t)s[t][0].length>c&&(a=t+1);let f="",h="",d=!1;for(let t=0;t<l;++t)f+=s[t][0].slice(c)+"\n";for(let t=l;t<a;++t){let[e,r]=s[t];u+=e.length+r.length+1;const a="\r"===r[r.length-1];if(a&&(r=r.slice(0,-1)),r&&e.length<c){const t="Block scalar lines must not be less indented than their "+(i.indent?"explicit indentation indicator":"first line");n(u-r.length-(a?2:1),"BAD_INDENT",t),e=""}o===W.BLOCK_LITERAL?(f+=h+e.slice(c)+r,h="\n"):e.length>c||"\t"===r[0]?(" "===h?h="\n":d||"\n"!==h||(h="\n\n"),f+=h+e.slice(c)+r,h="\n",d=!0):""===r?"\n"===h?f+="\n":h="\n":(f+=h+r,h=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let t=a;t<s.length;++t)f+="\n"+s[t][0].slice(c);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const p=r+i.length+t.source.length;return{value:f,type:o,comment:i.comment,range:[r,p,p]}}function ze(t,e,n){const{offset:r,type:i,source:o,end:s}=t;let a,c;const u=(t,e,i)=>n(r+t,e,i);switch(i){case"scalar":a=W.PLAIN,c=function(t,e){let n="";switch(t[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${t[0]}`;break;case"@":case"`":n=`reserved character ${t[0]}`}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),We(t)}(o,u);break;case"single-quoted-scalar":a=W.QUOTE_SINGLE,c=function(t,e){return"'"===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR","Missing closing 'quote"),We(t.slice(1,-1)).replace(/''/g,"'")}(o,u);break;case"double-quoted-scalar":a=W.QUOTE_DOUBLE,c=function(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if("\r"!==i||"\n"!==t[r+1])if("\n"===i){const{fold:e,offset:i}=De(t,r);n+=e,r=i}else if("\\"===i){let i=t[++r];const o=Ge[i];if(o)n+=o;else if("\n"===i)for(i=t[r+1];" "===i||"\t"===i;)i=t[1+ ++r];else if("\r"===i&&"\n"===t[r+1])for(i=t[1+ ++r];" "===i||"\t"===i;)i=t[1+ ++r];else if("x"===i||"u"===i||"U"===i){const o={x:2,u:4,U:8}[i];n+=Fe(t,r+1,o,e),r+=o}else{const i=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${i}`),n+=i}}else if(" "===i||"\t"===i){const e=r;let o=t[r+1];for(;" "===o||"\t"===o;)o=t[1+ ++r];"\n"===o||"\r"===o&&"\n"===t[r+2]||(n+=r>e?t.slice(e,r+1):i)}else n+=i}return'"'===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}(o,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const l=r+o.length,f=Ue(s,l,e,n);return{value:c,type:a,comment:f.comment,range:[r,l,f.offset]}}function We(t){let e,n;try{e=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(t){e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],o=" ",s=e.lastIndex;for(n.lastIndex=s;r=n.exec(t);)""===r[1]?"\n"===o?i+=o:o="\n":(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(t),i+o+(r?.[1]??"")}function De(t,e){let n="",r=t[e+1];for(;!(" "!==r&&"\t"!==r&&"\n"!==r&&"\r"!==r||"\r"===r&&"\n"!==t[e+2]);)"\n"===r&&(n+="\n"),r=t[(e+=1)+1];return n||(n=" "),{fold:n,offset:e}}const Ge={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Fe(t,e,n,r){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const i=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${i}`),i}return String.fromCodePoint(o)}function qe(t,e,n,r){const{value:i,type:o,comment:s,range:a}="block-scalar"===e.type?Ve(e,t.options.strict,r):ze(e,t.options.strict,r),c=n?t.directives.tagName(n.source,(t=>r(n,"TAG_RESOLVE_FAILED",t))):null,l=n&&c?function(t,e,n,r,i){if("!"===n)return t[u];const o=[];for(const e of t.tags)if(!e.collection&&e.tag===n){if(!e.default||!e.test)return e;o.push(e)}for(const t of o)if(t.test?.test(e))return t;const s=t.knownTags[n];return s&&!s.collection?(t.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),t[u])}(t.schema,i,c,n,r):"scalar"===e.type?function({directives:t,schema:e},n,r,i){const o=e.tags.find((t=>t.default&&t.test?.test(n)))||e[u];if(e.compat){const s=e.compat.find((t=>t.default&&t.test?.test(n)))??e[u];o.tag!==s.tag&&i(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(o.tag)} or ${t.tagString(s.tag)}`,!0)}return o}(t,i,e,r):t.schema[u];let f;try{const o=l.resolve(i,(t=>r(n??e,"TAG_RESOLVE_FAILED",t)),t.options);f=g(o)?o:new W(o)}catch(t){const o=t instanceof Error?t.message:String(t);r(n??e,"TAG_RESOLVE_FAILED",o),f=new W(i)}return f.range=a,f.source=i,o&&(f.type=o),c&&(f.tag=c),l.format&&(f.format=l.format),s&&(f.comment=s),f}function Ke(t,e,n){if(e){null===n&&(n=e.length);for(let r=n-1;r>=0;--r){let n=e[r];switch(n.type){case"space":case"comment":case"newline":t-=n.source.length;continue}for(n=e[++r];"space"===n?.type;)t+=n.source.length,n=e[++r];break}}return t}const $e={composeNode:He,composeEmptyNode:Ze};function He(t,e,n,r){const{spaceBefore:i,comment:o,anchor:s,tag:a}=n;let c,u=!0;switch(e.type){case"alias":c=function({options:t},{offset:e,source:n,end:r},i){const o=new L(n.substring(1));""===o.source&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=e+n.length,a=Ue(r,s,t.strict,i);return o.range=[e,s,a.offset],a.comment&&(o.comment=a.comment),o}(t,e,r),(s||a)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=qe(t,e,a,r),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=function(t,e,n,r,i){let o;switch(n.type){case"block-map":o=function({composeNode:t,composeEmptyNode:e},n,r,i){const o=new St(n.schema);n.atRoot&&(n.atRoot=!1);let s=r.offset,a=null;for(const c of r.items){const{start:u,key:l,sep:f,value:h}=c,d=Pe(u,{indicator:"explicit-key-ind",next:l??f?.[0],offset:s,onError:i,startOnNewline:!0}),p=!d.found;if(p){if(l&&("block-seq"===l.type?i(s,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in l&&l.indent!==r.indent&&i(s,"BAD_INDENT",Ne)),!d.anchor&&!d.tag&&!f){a=d.end,d.comment&&(o.comment?o.comment+="\n"+d.comment:o.comment=d.comment);continue}(d.hasNewlineAfterProp||Be(l))&&i(l??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==r.indent&&i(s,"BAD_INDENT",Ne);const y=d.end,g=l?t(n,l,d,i):e(n,y,u,null,d,i);n.schema.compat&&Ce(r.indent,l,i),Me(n,o.items,g)&&i(y,"DUPLICATE_KEY","Map keys must be unique");const m=Pe(f??[],{indicator:"map-value-ind",next:h,offset:g.range[2],onError:i,startOnNewline:!l||"block-scalar"===l.type});if(s=m.end,m.found){p&&("block-map"!==h?.type||m.hasNewline||i(s,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&d.start<m.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const a=h?t(n,h,m,i):e(n,s,f,null,m,i);n.schema.compat&&Ce(r.indent,h,i),s=a.range[2];const u=new gt(g,a);n.options.keepSourceTokens&&(u.srcToken=c),o.items.push(u)}else{p&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),m.comment&&(g.comment?g.comment+="\n"+m.comment:g.comment=m.comment);const t=new gt(g);n.options.keepSourceTokens&&(t.srcToken=c),o.items.push(t)}}return a&&a<s&&i(a,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,s,a??s],o}(t,e,n,i);break;case"block-seq":o=function({composeNode:t,composeEmptyNode:e},n,r,i){const o=new At(n.schema);n.atRoot&&(n.atRoot=!1);let s=r.offset,a=null;for(const{start:c,value:u}of r.items){const l=Pe(c,{indicator:"seq-item-ind",next:u,offset:s,onError:i,startOnNewline:!0});if(!l.found){if(!(l.anchor||l.tag||u)){a=l.end,l.comment&&(o.comment=l.comment);continue}u&&"block-seq"===u.type?i(l.end,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator")}const f=u?t(n,u,l,i):e(n,l.end,c,null,l,i);n.schema.compat&&Ce(r.indent,u,i),s=f.range[2],o.items.push(f)}return o.range=[r.offset,s,a??s],o}(t,e,n,i);break;case"flow-collection":o=function({composeNode:t,composeEmptyNode:e},n,r,i){const o="{"===r.start.source,s=o?"flow map":"flow sequence",a=o?new St(n.schema):new At(n.schema);a.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let u=r.offset+r.start.source.length;for(let c=0;c<r.items.length;++c){const l=r.items[c],{start:f,key:h,sep:d,value:p}=l,g=Pe(f,{flow:s,indicator:"explicit-key-ind",next:h??d?.[0],offset:u,onError:i,startOnNewline:!1});if(!g.found){if(!(g.anchor||g.tag||d||p)){0===c&&g.comma?i(g.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):c<r.items.length-1&&i(g.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),g.comment&&(a.comment?a.comment+="\n"+g.comment:a.comment=g.comment),u=g.end;continue}!o&&n.options.strict&&Be(h)&&i(h,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)g.comma&&i(g.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(g.comma||i(g.start,"MISSING_CHAR",`Missing , between ${s} items`),g.comment){let t="";t:for(const e of f)switch(e.type){case"comma":case"space":break;case"comment":t=e.source.substring(1);break t;default:break t}if(t){let e=a.items[a.items.length-1];y(e)&&(e=e.value??e.key),e.comment?e.comment+="\n"+t:e.comment=t,g.comment=g.comment.substring(t.length+1)}}if(o||d||g.found){const r=g.end,c=h?t(n,h,g,i):e(n,r,f,null,g,i);je(h)&&i(c.range,"BLOCK_IN_FLOW",Le);const y=Pe(d??[],{flow:s,indicator:"map-value-ind",next:p,offset:c.range[2],onError:i,startOnNewline:!1});if(y.found){if(!o&&!g.found&&n.options.strict){if(d)for(const t of d){if(t===y.found)break;if("newline"===t.type){i(t,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}g.start<y.found.offset-1024&&i(y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&":"===p.source[0]?i(p,"MISSING_CHAR",`Missing space after : in ${s}`):i(y.start,"MISSING_CHAR",`Missing , or : between ${s} items`));const m=p?t(n,p,y,i):y.found?e(n,y.end,d,null,y,i):null;m?je(p)&&i(m.range,"BLOCK_IN_FLOW",Le):y.comment&&(c.comment?c.comment+="\n"+y.comment:c.comment=y.comment);const b=new gt(c,m);if(n.options.keepSourceTokens&&(b.srcToken=l),o){const t=a;Me(n,t.items,c)&&i(r,"DUPLICATE_KEY","Map keys must be unique"),t.items.push(b)}else{const t=new St(n.schema);t.flow=!0,t.items.push(b),a.items.push(t)}u=m?m.range[2]:y.end}else{const r=p?t(n,p,g,i):e(n,g.end,d,null,g,i);a.items.push(r),u=r.range[2],je(p)&&i(r.range,"BLOCK_IN_FLOW",Le)}}const l=o?"}":"]",[f,...h]=r.end;let d=u;if(f&&f.source===l)d=f.offset+f.source.length;else{const t=s[0].toUpperCase()+s.substring(1);i(u,c?"MISSING_CHAR":"BAD_INDENT",c?`${t} must end with a ${l}`:`${t} in block collection must be sufficiently indented and end with a ${l}`),f&&1!==f.source.length&&h.unshift(f)}if(h.length>0){const t=Ue(h,d,n.options.strict,i);t.comment&&(a.comment?a.comment+="\n"+t.comment:a.comment=t.comment),a.range=[r.offset,d,t.offset]}else a.range=[r.offset,d,d];return a}(t,e,n,i)}if(!r)return o;const s=e.directives.tagName(r.source,(t=>i(r,"TAG_RESOLVE_FAILED",t)));if(!s)return o;const a=o.constructor;if("!"===s||s===a.tagName)return o.tag=a.tagName,o;const c=p(o)?"map":"seq";let u=e.schema.tags.find((t=>t.collection===c&&t.tag===s));if(!u){const t=e.schema.knownTags[s];if(!t||t.collection!==c)return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o;e.schema.tags.push(Object.assign({},t,{default:!1})),u=t}const l=u.resolve(o,(t=>i(r,"TAG_RESOLVE_FAILED",t)),e.options),f=w(l)?l:new W(l);return f.range=o.range,f.tag=s,u?.format&&(f.format=u.format),f}($e,t,e,a,r),s&&(c.anchor=s.source.substring(1));break;default:r(e,"UNEXPECTED_TOKEN","error"===e.type?e.message:`Unsupported token (type: ${e.type})`),c=Ze(t,e.offset,void 0,null,n,r),u=!1}return s&&""===c.anchor&&r(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&("scalar"===e.type&&""===e.source?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&u&&(c.srcToken=e),c}function Ze(t,e,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:c},u){const l=qe(t,{type:"scalar",offset:Ke(e,n,r),indent:-1,source:""},a,u);return s&&(l.anchor=s.source.substring(1),""===l.anchor&&u(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(l.spaceBefore=!0),o&&(l.comment=o,l.range[2]=c),l}function Je(t){if("number"==typeof t)return[t,t+1];if(Array.isArray(t))return 2===t.length?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+("string"==typeof n?n.length:1)]}function Xe(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const o=t[i];switch(o[0]){case"#":e+=(""===e?"":r?"\n\n":"\n")+(o.substring(1)||" "),n=!0,r=!1;break;case"%":"#"!==t[i+1]?.[0]&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class Ye{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,e,n,r)=>{const i=Je(t);r?this.warnings.push(new Oe(i,e,n)):this.errors.push(new Re(i,e,n))},this.directives=new C({version:t.version||"1.2"}),this.options=t}decorate(t,e){const{comment:n,afterEmptyLine:r}=Xe(this.prelude);if(n){const i=t.contents;if(e)t.comment=t.comment?`${t.comment}\n${n}`:n;else if(r||t.directives.docStart||!i)t.commentBefore=n;else if(b(i)&&!i.flow&&i.items.length>0){let t=i.items[0];y(t)&&(t=t.key);const e=t.commentBefore;t.commentBefore=e?`${n}\n${e}`:n}else{const t=i.commentBefore;i.commentBefore=t?`${n}\n${t}`:n}}e?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Xe(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,e=!1,n=-1){for(const e of t)yield*this.next(e);yield*this.end(e,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,((e,n,r)=>{const i=Je(t);i[0]+=e,this.onError(i,"BAD_DIRECTIVE",n,r)})),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const e=function(t,e,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:e},t),c=new Ee(void 0,a),u={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},l=Pe(r,{indicator:"doc-start",next:i??o?.[0],offset:n,onError:s,startOnNewline:!0});l.found&&(c.directives.docStart=!0,!i||"block-map"!==i.type&&"block-seq"!==i.type||l.hasNewline||s(l.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?He(u,i,l,s):Ze(u,l.end,r,null,l,s);const f=c.contents.range[2],h=Ue(o,f,!1,s);return h.comment&&(c.comment=h.comment),c.range=[n,f,h.offset],c}(this.options,this.directives,t,this.onError);this.atDirectives&&!e.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(e,!1),this.doc&&(yield this.doc),this.doc=e,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const e=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new Re(Je(t),"UNEXPECTED_TOKEN",e);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const e="Unexpected doc-end without preceding document";this.errors.push(new Re(Je(t),"UNEXPECTED_TOKEN",e));break}this.doc.directives.docEnd=!0;const e=Ue(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),e.comment){const t=this.doc.comment;this.doc.comment=t?`${t}\n${e.comment}`:e.comment}this.doc.range[2]=e.offset;break}default:this.errors.push(new Re(Je(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,e=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const t=Object.assign({_directives:this.directives},this.options),n=new Ee(void 0,t);this.atDirectives&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,e,e],this.decorate(n,!1),yield n}}}function Qe(t,e=!0,n){if(t){const r=(t,e,r)=>{const i="number"==typeof t?t:Array.isArray(t)?t[0]:t.offset;if(!n)throw new Re([i,i+1],e,r);n(i,e,r)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ze(t,e,r);case"block-scalar":return Ve(t,e,r)}}return null}function tn(t,e){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:o=-1,type:s="PLAIN"}=e,a=at({type:s,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:r,source:"\n"}];switch(a[0]){case"|":case">":{const t=a.indexOf("\n"),e=a.substring(0,t),n=a.substring(t+1)+"\n",i=[{type:"block-scalar-header",offset:o,indent:r,source:e}];return nn(i,c)||i.push({type:"newline",offset:-1,indent:r,source:"\n"}),{type:"block-scalar",offset:o,indent:r,props:i,source:n}}case'"':return{type:"double-quoted-scalar",offset:o,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:o,indent:r,source:a,end:c};default:return{type:"scalar",offset:o,indent:r,source:a,end:c}}}function en(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=n,a="indent"in t?t.indent:null;if(r&&"number"==typeof a&&(a+=2),!s)switch(t.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{const e=t.props[0];if("block-scalar-header"!==e.type)throw new Error("Invalid block scalar header");s=">"===e.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}const c=at({type:s,value:e},{implicitKey:i||null===a,indent:null!==a&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":!function(t,e){const n=e.indexOf("\n"),r=e.substring(0,n),i=e.substring(n+1)+"\n";if("block-scalar"===t.type){const e=t.props[0];if("block-scalar-header"!==e.type)throw new Error("Invalid block scalar header");e.source=r,t.source=i}else{const{offset:e}=t,n="indent"in t?t.indent:-1,o=[{type:"block-scalar-header",offset:e,indent:n,source:r}];nn(o,"end"in t?t.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const e of Object.keys(t))"type"!==e&&"offset"!==e&&delete t[e];Object.assign(t,{type:"block-scalar",indent:n,props:o,source:i})}}(t,c);break;case'"':rn(t,c,"double-quoted-scalar");break;case"'":rn(t,c,"single-quoted-scalar");break;default:rn(t,c,"scalar")}}function nn(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function rn(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let i=e.length;"block-scalar-header"===t.props[0].type&&(i-=t.props[0].source.length);for(const t of r)t.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:"\n"};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{const r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter((t=>"space"===t.type||"comment"===t.type||"newline"===t.type)):[];for(const e of Object.keys(t))"type"!==e&&"offset"!==e&&delete t[e];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}const on=t=>"type"in t?sn(t):an(t);function sn(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=sn(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=an(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=an(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=an(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function an({start:t,key:e,sep:n,value:r}){let i="";for(const e of t)i+=e.source;if(e&&(i+=sn(e)),n)for(const t of n)i+=t.source;return r&&(i+=sn(r)),i}const cn=Symbol("break visit"),un=Symbol("skip children"),ln=Symbol("remove item");function fn(t,e){"type"in t&&"document"===t.type&&(t={start:t.start,value:t.value}),hn(Object.freeze([]),t,e)}function hn(t,e,n){let r=n(e,t);if("symbol"==typeof r)return r;for(const i of["key","value"]){const o=e[i];if(o&&"items"in o){for(let e=0;e<o.items.length;++e){const r=hn(Object.freeze(t.concat([[i,e]])),o.items[e],n);if("number"==typeof r)e=r-1;else{if(r===cn)return cn;r===ln&&(o.items.splice(e,1),e-=1)}}"function"==typeof r&&"key"===i&&(r=r(e,t))}}return"function"==typeof r?r(e,t):r}fn.BREAK=cn,fn.SKIP=un,fn.REMOVE=ln,fn.itemAtPath=(t,e)=>{let n=t;for(const[t,r]of e){const e=n?.[t];if(!e||!("items"in e))return;n=e.items[r]}return n},fn.parentCollection=(t,e)=>{const n=fn.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};const dn="\ufeff",pn="",yn="",gn="",mn=t=>!!t&&"items"in t,bn=t=>!!t&&("scalar"===t.type||"single-quoted-scalar"===t.type||"double-quoted-scalar"===t.type||"block-scalar"===t.type);function wn(t){switch(t){case dn:return"<BOM>";case pn:return"<DOC>";case yn:return"<FLOW_END>";case gn:return"<SCALAR>";default:return JSON.stringify(t)}}function vn(t){switch(t){case dn:return"byte-order-mark";case pn:return"doc-mode";case yn:return"flow-error-end";case gn:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function kn(t){switch(t){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const Sn="0123456789ABCDEFabcdef".split(""),_n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),An=",[]{}".split(""),En=" ,[]{}\n\r\t".split(""),xn=t=>!t||En.includes(t);class In{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,e=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!e;let n=this.next??"stream";for(;n&&(e||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,e=this.buffer[t];for(;" "===e||"\t"===e;)e=this.buffer[++t];return!e||"#"===e||"\n"===e||"\r"===e&&"\n"===this.buffer[t+1]}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let e=this.buffer[t];if(this.indentNext>0){let n=0;for(;" "===e;)e=this.buffer[++n+t];if("\r"===e){const e=this.buffer[n+t+1];if("\n"===e||!e&&!this.atEnd)return t+n+1}return"\n"===e||n>=this.indentNext||!e&&!this.atEnd?t+n:-1}if("-"===e||"."===e){const e=this.buffer.substr(t,3);if(("---"===e||"..."===e)&&kn(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return("number"!=typeof t||-1!==t&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),-1===t?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[t-1]&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(null===t)return this.setNext("stream");if(t[0]===dn&&(yield*this.pushCount(1),t=t.substring(1)),"%"===t[0]){let e=t.length;const n=t.indexOf("#");if(-1!==n){const r=t[n-1];" "!==r&&"\t"!==r||(e=n-1)}for(;;){const n=t[e-1];if(" "!==n&&"\t"!==n)break;e-=1}const r=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-e),yield*this.pushNewline(),"stream"}return yield pn,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if("-"===t||"."===t){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if("---"===t&&kn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===t&&kn(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!kn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,e]=this.peek(2);if(!e&&!this.atEnd)return this.setNext("block-start");if(("-"===t||"?"===t||":"===t)&&kn(e)){const t=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=t,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(null===t)return this.setNext("doc");let e=yield*this.pushIndicators();switch(t[e]){case"#":yield*this.pushCount(t.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(xn),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=(yield*this.parseBlockScalarHeader()),e+=(yield*this.pushSpaces(!0)),yield*this.pushCount(t.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,e,n=-1;do{t=yield*this.pushNewline(),t>0?(e=yield*this.pushSpaces(!1),this.indentValue=n=e):e=0,e+=(yield*this.pushSpaces(!0))}while(t+e>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==r[0]||0===n&&(r.startsWith("---")||r.startsWith("..."))&&kn(r[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield yn,yield*this.parseLineStart();let i=0;for(;","===r[i];)i+=(yield*this.pushCount(1)),i+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(i+=(yield*this.pushIndicators()),r[i]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(xn),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const t=this.charAt(1);if(this.flowKey||kn(t)||","===t)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let e=this.buffer.indexOf(t,this.pos+1);if("'"===t)for(;-1!==e&&"'"===this.buffer[e+1];)e=this.buffer.indexOf("'",e+2);else for(;-1!==e;){let t=0;for(;"\\"===this.buffer[e-1-t];)t+=1;if(t%2==0)break;e=this.buffer.indexOf('"',e+1)}const n=this.buffer.substring(0,e);let r=n.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const t=this.continueScalar(r+1);if(-1===t)break;r=n.indexOf("\n",t)}-1!==r&&(e=r-("\r"===n[r-1]?2:1))}if(-1===e){if(!this.atEnd)return this.setNext("quoted-scalar");e=this.buffer.length}return yield*this.pushToIndex(e+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const e=this.buffer[++t];if("+"===e)this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if("-"!==e)break}return yield*this.pushUntil((t=>kn(t)||"#"===t))}*parseBlockScalar(){let t,e=this.pos-1,n=0;t:for(let r=this.pos;t=this.buffer[r];++r)switch(t){case" ":n+=1;break;case"\n":e=r,n=0;break;case"\r":{const t=this.buffer[r+1];if(!t&&!this.atEnd)return this.setNext("block-scalar");if("\n"===t)break}default:break t}if(!t&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const t=this.continueScalar(e+1);if(-1===t)break;e=this.buffer.indexOf("\n",t)}while(-1!==e);if(-1===e){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let t=e-1,r=this.buffer[t];"\r"===r&&(r=this.buffer[--t]);const i=t;for(;" "===r||"\t"===r;)r=this.buffer[--t];if(!("\n"===r&&t>=this.pos&&t+1+n>i))break;e=t}return yield gn,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let e,n=this.pos-1,r=this.pos-1;for(;e=this.buffer[++r];)if(":"===e){const e=this.buffer[r+1];if(kn(e)||t&&","===e)break;n=r}else if(kn(e)){let i=this.buffer[r+1];if("\r"===e&&("\n"===i?(r+=1,e="\n",i=this.buffer[r+1]):n=r),"#"===i||t&&An.includes(i))break;if("\n"===e){const t=this.continueScalar(r+1);if(-1===t)break;r=Math.max(r,t-2)}}else{if(t&&An.includes(e))break;n=r}return e||this.atEnd?(yield gn,yield*this.pushToIndex(n+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,e){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(xn))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,e=this.charAt(1);if(kn(e)||t&&An.includes(e))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let t=this.pos+2,e=this.buffer[t];for(;!kn(e)&&">"!==e;)e=this.buffer[++t];return yield*this.pushToIndex(">"===e?t+1:t,!1)}{let t=this.pos+1,e=this.buffer[t];for(;e;)if(_n.includes(e))e=this.buffer[++t];else{if("%"!==e||!Sn.includes(this.buffer[t+1])||!Sn.includes(this.buffer[t+2]))break;e=this.buffer[t+=3]}return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return"\n"===t?yield*this.pushCount(1):"\r"===t&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(t){let e,n=this.pos-1;do{e=this.buffer[++n]}while(" "===e||t&&"\t"===e);const r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(t){let e=this.pos,n=this.buffer[e];for(;!t(n);)n=this.buffer[++e];return yield*this.pushToIndex(e,!1)}}class Rn{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let e=0,n=this.lineStarts.length;for(;e<n;){const r=e+n>>1;this.lineStarts[r]<t?e=r+1:n=r}return this.lineStarts[e]===t?{line:e+1,col:1}:0===e?{line:0,col:t}:{line:e,col:t-this.lineStarts[e-1]+1}}}}function On(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Tn(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Pn(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Bn(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Cn(t){if(0===t.length)return[];let e=t.length;t:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break t}for(;"space"===t[++e]?.type;);return t.splice(e,t.length)}function Mn(t){if("flow-seq-start"===t.start.type)for(const e of t.items)!e.sep||e.value||On(e.start,"explicit-key-ind")||On(e.sep,"map-value-ind")||(e.key&&(e.value=e.key),delete e.key,Pn(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Nn{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new In,this.onNewLine=t}*parse(t,e=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(t,e))yield*this.next(n);e||(yield*this.end())}*next(t){if(this.source=t,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=t.length);const e=vn(t);if(e)if("scalar"===e)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&" "===t[0]&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const e=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:e,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if("doc-end"!==this.type||t&&"doc-end"===t.type){if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(t){return this.stack[this.stack.length-t]}*pop(t){const e=t??this.stack.pop();if(e)if(0===this.stack.length)yield e;else{const t=this.peek(1);switch("block-scalar"===e.type?e.indent="indent"in t?t.indent:0:"flow-collection"===e.type&&"document"===t.type&&(e.indent=0),"flow-collection"===e.type&&Mn(e),t.type){case"document":t.value=e;break;case"block-scalar":t.props.push(e);break;case"block-map":{const n=t.items[t.items.length-1];if(n.value)return t.items.push({start:[],key:e,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:e,sep:[]}),void(this.onKeyLine=!On(n.start,"explicit-key-ind"));n.value=e;break}case"block-seq":{const n=t.items[t.items.length-1];n.value?t.items.push({start:[],value:e}):n.value=e;break}case"flow-collection":{const n=t.items[t.items.length-1];return void(!n||n.value?t.items.push({start:[],key:e,sep:[]}):n.sep?n.value=e:Object.assign(n,{key:e,sep:[]}))}default:yield*this.pop(),yield*this.pop(e)}if(!("document"!==t.type&&"block-map"!==t.type&&"block-seq"!==t.type||"block-map"!==e.type&&"block-seq"!==e.type)){const n=e.items[e.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Tn(n.start)&&(0===e.indent||n.start.every((t=>"comment"!==t.type||t.indent<e.indent)))&&("document"===t.type?t.end=n.start:t.items.push({start:n.start}),e.items.splice(-1,1))}}else{const t="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:t}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&t.start.push(this.sourceToken),void this.stack.push(t)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":return void(-1!==Tn(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void t.start.push(this.sourceToken)}const e=this.startBlockValue(t);e?this.stack.push(e):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if("map-value-ind"===this.type){const e=Cn(Bn(this.peek(2)));let n;t.end?(n=t.end,n.push(this.sourceToken),delete t.end):n=[this.sourceToken];const r={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:e,key:t,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":return void t.props.push(this.sourceToken);case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,e.value){const n="end"in e.value?e.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else if(e.sep)e.sep.push(this.sourceToken);else{if(this.atIndentedComment(e.start,t.indent)){const n=t.items[t.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const n=!this.onKeyLine&&this.indent===t.indent&&e.sep;let r=[];if(n&&e.sep&&!e.value){const n=[];for(let r=0;r<e.sep.length;++r){const i=e.sep[r];switch(i.type){case"newline":n.push(r);break;case"space":break;case"comment":i.indent>t.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(r=e.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||e.value?(r.push(this.sourceToken),t.items.push({start:r}),this.onKeyLine=!0):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"explicit-key-ind":return e.sep||On(e.start,"explicit-key-ind")?n||e.value?(r.push(this.sourceToken),t.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):e.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(On(e.start,"explicit-key-ind"))if(e.sep)if(e.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(On(e.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Pn(e.key)&&!On(e.sep,"newline")){const t=Cn(e.start),n=e.key,r=e.sep;r.push(this.sourceToken),delete e.key,delete e.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:n,sep:r}]})}else r.length>0?e.sep=e.sep.concat(r,this.sourceToken):e.sep.push(this.sourceToken);else if(On(e.start,"newline"))Object.assign(e,{key:null,sep:[this.sourceToken]});else{const t=Cn(e.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]})}else e.sep?e.value||n?t.items.push({start:r,key:null,sep:[this.sourceToken]}):On(e.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);return void(n||e.value?(t.items.push({start:r,key:i,sep:[]}),this.onKeyLine=!0):e.sep?this.stack.push(i):(Object.assign(e,{key:i,sep:[]}),this.onKeyLine=!0))}default:{const i=this.startBlockValue(t);if(i)return n&&"block-seq"!==i.type&&On(e.start,"explicit-key-ind")&&t.items.push({start:r}),void this.stack.push(i)}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(e.value){const n="end"in e.value?e.value.end:void 0,r=Array.isArray(n)?n[n.length-1]:void 0;"comment"===r?.type?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(e.start,t.indent)){const n=t.items[t.items.length-2],r=n?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return;case"anchor":case"tag":if(e.value||this.indent<=t.indent)break;return void e.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==t.indent)break;return void(e.value||On(e.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken))}if(this.indent>t.indent){const e=this.startBlockValue(t);if(e)return void this.stack.push(e)}yield*this.pop(),yield*this.step()}*flowCollection(t){const e=t.items[t.items.length-1];if("flow-error-end"===this.type){let t;do{yield*this.pop(),t=this.peek(1)}while(t&&"flow-collection"===t.type)}else if(0===t.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!e||e.sep?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken));case"map-value-ind":return void(!e||e.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!e||e.value?t.items.push({start:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!e||e.value?t.items.push({start:[],key:n,sep:[]}):e.sep?this.stack.push(n):Object.assign(e,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void t.end.push(this.sourceToken)}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const e=this.peek(2);if("block-map"===e.type&&("map-value-ind"===this.type&&e.indent===t.indent||"newline"===this.type&&!e.items[e.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==e.type){const n=Cn(Bn(e));Mn(t);const r=t.end.splice(1,t.end.length);r.push(this.sourceToken);const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const e=Cn(Bn(t));return e.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e}]}}case"map-value-ind":{this.onKeyLine=!0;const e=Cn(Bn(t));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,e){return"comment"===this.type&&!(this.indent<=e)&&t.every((t=>"newline"===t.type||"space"===t.type))}*documentEnd(t){"doc-mode"!==this.type&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Un(t){const e=!1!==t.prettyErrors;return{lineCounter:t.lineCounter||e&&new Rn||null,prettyErrors:e}}function Ln(t,e={}){const{lineCounter:n,prettyErrors:r}=Un(e),i=new Nn(n?.addNewLine),o=new Ye(e),s=Array.from(o.compose(i.parse(t)));if(r&&n)for(const e of s)e.errors.forEach(Te(t,n)),e.warnings.forEach(Te(t,n));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function jn(t,e={}){const{lineCounter:n,prettyErrors:r}=Un(e),i=new Nn(n?.addNewLine),o=new Ye(e);let s=null;for(const e of o.compose(i.parse(t),!0,t.length))if(s){if("silent"!==s.options.logLevel){s.errors.push(new Re(e.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else s=e;return r&&n&&(s.errors.forEach(Te(t,n)),s.warnings.forEach(Te(t,n))),s}function Vn(t,e,n){let r;"function"==typeof e?r=e:void 0===n&&e&&"object"==typeof e&&(n=e);const i=jn(t,n);if(!i)return null;if(i.warnings.forEach((t=>ft(i.options.logLevel,t))),i.errors.length>0){if("silent"!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function zn(t,e,n){let r=null;if("function"==typeof e||Array.isArray(e)?r=e:void 0===n&&e&&(n=e),"string"==typeof n&&(n=n.length),"number"==typeof n){const t=Math.round(n);n=t<1?void 0:t>8?{indent:8}:{indent:t}}if(void 0===t){const{keepUndefined:t}=n??e??{};if(!t)return}return new Ee(t,r,n).toString(n)}const Wn=i}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&e&&t;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>t[e]));return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__=__webpack_require__(440)})();
//# sourceMappingURL=bundle.js.map